var yV=Object.defineProperty,vV=(Oe,j,Ae)=>j in Oe?yV(Oe,j,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Oe[j]=Ae,lc=(Oe,j,Ae)=>(vV(Oe,"symbol"!=typeof j?j+"":j,Ae),Ae),Up=(Oe,j,Ae)=>{if(!j.has(Oe))throw TypeError("Cannot "+Ae)},Je=(Oe,j,Ae)=>(Up(Oe,j,"read from private field"),Ae?Ae.call(Oe):j.get(Oe)),nt=(Oe,j,Ae)=>{if(j.has(Oe))throw TypeError("Cannot add the same private member more than once");j instanceof WeakSet?j.add(Oe):j.set(Oe,Ae)},Xt=(Oe,j,Ae,A)=>(Up(Oe,j,"write to private field"),A?A.call(Oe,Ae):j.set(Oe,Ae),Ae),gA=(Oe,j,Ae,A)=>({set _(xe){Xt(Oe,j,xe,Ae)},get _(){return Je(Oe,j,A)}}),Ze=(Oe,j,Ae)=>(Up(Oe,j,"access private method"),Ae);(self.webpackChunkFamilyWeb_public=self.webpackChunkFamilyWeb_public||[]).push([[179],{35:(Oe,j,Ae)=>{"use strict";function A(e){return"function"==typeof e}function xe(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ce=xe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pe(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class ce{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(A(r))try{r()}catch(s){n=s instanceof Ce?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{N(s)}catch(o){n=n??[],o instanceof Ce?n=[...n,...o.errors]:n.push(o)}}if(n)throw new Ce(n)}}add(n){var t;if(n&&n!==this)if(this.closed)N(n);else{if(n instanceof ce){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&pe(t,n)}remove(n){const{_finalizers:t}=this;t&&pe(t,n),n instanceof ce&&n._removeParent(this)}}ce.EMPTY=(()=>{const e=new ce;return e.closed=!0,e})();const X=ce.EMPTY;function C(e){return e instanceof ce||e&&"closed"in e&&A(e.remove)&&A(e.add)&&A(e.unsubscribe)}function N(e){A(e)?e():e.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout(e,n,...t){const{delegate:r}=E;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=E;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function g(e){E.setTimeout(()=>{const{onUnhandledError:n}=T;if(!n)throw e;n(e)})}function x(){}const h=V("C",void 0,void 0);function V(e,n,t){return{kind:e,value:n,error:t}}let M=null;function S(e){if(T.useDeprecatedSynchronousErrorHandling){const n=!M;if(n&&(M={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=M;if(M=null,t)throw r}}else e()}class f extends ce{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,C(n)&&n.add(this)):this.destination=ie}static create(n,t,r){return new H(n,t,r)}next(n){this.isStopped?J(function b(e){return V("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?J(function p(e){return V("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?J(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function P(e,n){return I.call(e,n)}class F{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){$(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){$(r)}else $(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){$(t)}}}class H extends f{constructor(n,t,r){let i;if(super(),A(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&T.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&P(n.next,s),error:n.error&&P(n.error,s),complete:n.complete&&P(n.complete,s)}):i=n}this.destination=new F(i)}}function $(e){T.useDeprecatedSynchronousErrorHandling?function d(e){T.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=e)}(e):g(e)}function J(e,n){const{onStoppedNotification:t}=T;t&&E.setTimeout(()=>t(e,n))}const ie={closed:!0,next:x,error:function W(e){throw e},complete:x},le="function"==typeof Symbol&&Symbol.observable||"@@observable";function ge(e){return e}function ue(e){return 0===e.length?ge:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let se=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function B(e){return e&&e instanceof f||function De(e){return e&&A(e.next)&&A(e.error)&&A(e.complete)}(e)&&C(e)}(t)?t:new H(t,r,i);return S(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ve(r))((i,s)=>{const o=new H({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[le](){return this}pipe(...t){return ue(t)(this)}toPromise(t){return new(t=ve(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function ve(e){var n;return null!==(n=e??T.Promise)&&void 0!==n?n:Promise}const m=xe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _=(()=>{class e extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new c(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new m}next(t){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?X:(this.currentObservers=null,s.push(t),new ce(()=>{this.currentObservers=null,pe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new se;return t.source=this,t}}return e.create=(n,t)=>new c(n,t),e})();class c extends _{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:X}}function y(e){return A(e?.lift)}function w(e){return n=>{if(y(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(e,n,t,r,i){return new O(e,n,t,r,i)}class O extends f{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function L(e,n){return w((t,r)=>{let i=0;t.subscribe(k(r,s=>{r.next(e.call(n,s,i++))}))})}function Ie(e){return this instanceof Ie?(this.v=e,this):new Ie(e)}function Ge(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(U){r[U]&&(i[U]=function(Q){return new Promise(function(de,Te){s.push([U,Q,de,Te])>1||a(U,Q)})})}function a(U,Q){try{!function l(U){U.value instanceof Ie?Promise.resolve(U.value.v).then(u,v):D(s[0][2],U)}(r[U](Q))}catch(de){D(s[0][3],de)}}function u(U){a("next",U)}function v(U){a("throw",U)}function D(U,Q){U(Q),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ft(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function R(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const Le=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function je(e){return A(e?.then)}function gt(e){return A(e[le])}function bt(e){return Symbol.asyncIterator&&A(e?.[Symbol.asyncIterator])}function Ht(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ln=function Dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yt(e){return A(e?.[ln])}function Xn(e){return Ge(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Ie(t.read());if(i)return yield Ie(void 0);yield yield Ie(r)}}finally{t.releaseLock()}})}function $t(e){return A(e?.getReader)}function Lt(e){if(e instanceof se)return e;if(null!=e){if(gt(e))return function Nn(e){return new se(n=>{const t=e[le]();if(A(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Le(e))return function Kn(e){return new se(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(je(e))return function Vn(e){return new se(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,g)})}(e);if(bt(e))return Mn(e);if(Yt(e))return function fr(e){return new se(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if($t(e))return function Gi(e){return Mn(Xn(e))}(e)}throw Ht(e)}function Mn(e){return new se(n=>{(function go(e,n){var t,r,i,s;return function qe(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(v){try{u(r.next(v))}catch(D){o(D)}}function l(v){try{u(r.throw(v))}catch(D){o(D)}}function u(v){v.done?s(v.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(v.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ft(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ri(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function An(e,n,t=1/0){return A(n)?An((r,i)=>L((s,o)=>n(r,s,i,o))(Lt(e(r,i))),t):("number"==typeof n&&(t=n),w((r,i)=>function RA(e,n,t,r,i,s,o,a){const l=[];let u=0,v=0,D=!1;const U=()=>{D&&!l.length&&!u&&n.complete()},Q=Te=>u<r?de(Te):l.push(Te),de=Te=>{s&&n.next(Te),u++;let ke=!1;Lt(t(Te,v++)).subscribe(k(n,Be=>{i?.(Be),s?Q(Be):n.next(Be)},()=>{ke=!0},void 0,()=>{if(ke)try{for(u--;l.length&&u<r;){const Be=l.shift();o?ri(n,o,()=>de(Be)):de(Be)}U()}catch(Be){n.error(Be)}}))};return e.subscribe(k(n,Q,()=>{D=!0,U()})),()=>{a?.()}}(r,i,e,t)))}function ps(e=1/0){return An(ge,e)}const ii=new se(e=>e.complete());function hc(e){return e[e.length-1]}function Jp(e){return A(hc(e))?e.pop():void 0}function mo(e){return function OA(e){return e&&A(e.schedule)}(hc(e))?e.pop():void 0}function Zp(e,n=0){return w((t,r)=>{t.subscribe(k(r,i=>ri(r,e,()=>r.next(i),n),()=>ri(r,e,()=>r.complete(),n),i=>ri(r,e,()=>r.error(i),n)))})}function eg(e,n=0){return w((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function tg(e,n){if(!e)throw new Error("Iterable cannot be null");return new se(t=>{ri(t,n,()=>{const r=e[Symbol.asyncIterator]();ri(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function en(e,n){return n?function HA(e,n){if(null!=e){if(gt(e))return function NA(e,n){return Lt(e).pipe(eg(n),Zp(n))}(e,n);if(Le(e))return function BA(e,n){return new se(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(je(e))return function VA(e,n){return Lt(e).pipe(eg(n),Zp(n))}(e,n);if(bt(e))return tg(e,n);if(Yt(e))return function UA(e,n){return new se(t=>{let r;return ri(t,n,()=>{r=e[ln](),ri(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}(e,n);if($t(e))return function jA(e,n){return tg(Xn(e),n)}(e,n)}throw Ht(e)}(e,n):Lt(e)}function fc(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new H({next:()=>{r.unsubscribe(),e()}});return n(...t).subscribe(r)}function Bt(e){for(let n in e)if(e[n]===Bt)return n;throw Error("Could not find renamed property on target object.")}function pc(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function gc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const WA=Bt({__forward_ref__:Bt});function Gt(e){return e.__forward_ref__=Gt,e.toString=function(){return Ut(this())},e}function dt(e){return mc(e)?e():e}function mc(e){return"function"==typeof e&&e.hasOwnProperty(WA)&&e.__forward_ref__===Gt}class ze extends Error{constructor(n,t){super(function za(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}(n,t)),this.code=n}}function mt(e){return"string"==typeof e?e:null==e?"":String(e)}function qa(e,n){throw new ze(-201,!1)}function rr(e,n){null==e&&function Rt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ya(e){return ng(e,Xa)||ng(e,ig)}function ng(e,n){return e.hasOwnProperty(n)?e[n]:null}function rg(e){return e&&(e.hasOwnProperty(_c)||e.hasOwnProperty(eE))?e[_c]:null}const Xa=Bt({\u0275prov:Bt}),_c=Bt({\u0275inj:Bt}),ig=Bt({ngInjectableDef:Bt}),eE=Bt({ngInjectorDef:Bt});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let yc;function pr(e){const n=yc;return yc=e,n}function sg(e,n,t){const r=Ya(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ut.Optional?null:void 0!==n?n:void qa(Ut(e))}function Si(e){return{toString:e}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Gr=(()=>{return(e=Gr||(Gr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Gr;var e})();const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gs={},It=[],Ka=Bt({\u0275cmp:Bt}),vc=Bt({\u0275dir:Bt}),Cc=Bt({\u0275pipe:Bt}),og=Bt({\u0275mod:Bt}),oi=Bt({\u0275fac:Bt}),_o=Bt({__NG_ELEMENT_ID__:Bt});let nE=0;function En(e){return Si(()=>{const t=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||It,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Gr.Emulated,id:"c"+nE++,styles:e.styles||It,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.dependencies,o=e.features;return i.inputs=ug(e.inputs,r),i.outputs=ug(e.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(ag).filter(lg):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(jn).filter(lg):null,i})}function ag(e){return Nt(e)||Un(e)}function lg(e){return null!==e}function Bn(e){return Si(()=>({type:e.type,bootstrap:e.bootstrap||It,declarations:e.declarations||It,imports:e.imports||It,exports:e.exports||It,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ug(e,n){if(null==e)return gs;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}const ht=En;function Qn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Nt(e){return e[Ka]||null}function Un(e){return e[vc]||null}function jn(e){return e[Cc]||null}function ir(e,n){const t=e[og]||null;if(!t&&!0===n)throw new Error(`Type ${Ut(e)} does not have '\u0275mod' property.`);return t}function Jn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pr(e){return Array.isArray(e)&&!0===e[1]}function Ac(e){return 0!=(8&e.flags)}function el(e){return 2==(2&e.flags)}function tl(e){return 1==(1&e.flags)}function Ir(e){return null!==e.template}function lE(e){return 0!=(256&e[2])}function Xi(e,n){return e.hasOwnProperty(oi)?e[oi]:null}class dE{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function or(){return hg}function hg(e){return e.type.prototype.ngOnChanges&&(e.setInput=fE),hE}function hE(){const e=pg(this),n=e?.current;if(n){const t=e.previous;if(t===gs)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function fE(e,n,t,r){const i=pg(e)||function pE(e,n){return e[fg]=n}(e,{previous:gs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new dE(l&&l.currentValue,n,o===gs),e[r]=n}or.ngInherit=!0;const fg="__ngSimpleChanges__";function pg(e){return e[fg]||null}function fn(e){for(;Array.isArray(e);)e=e[0];return e}function nl(e,n){return fn(n[e])}function _r(e,n){return fn(n[e.index])}function Tc(e,n){return e.data[n]}function ar(e,n){const t=n[e];return Jn(t)?t:t[0]}function rl(e){return 64==(64&e[2])}function Di(e,n){return null==n?null:e[n]}function gg(e){e[18]=0}function xc(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const pt={lFrame:Sg(null),bindingsEnabled:!0};function _g(){return pt.bindingsEnabled}function Ne(){return pt.lFrame.lView}function Mt(){return pt.lFrame.tView}function it(e){return pt.lFrame.contextLView=e,e[8]}function st(e){return pt.lFrame.contextLView=null,e}function yn(){let e=yg();for(;null!==e&&64===e.type;)e=e.parent;return e}function yg(){return pt.lFrame.currentTNode}function Wr(e,n){const t=pt.lFrame;t.currentTNode=e,t.isParent=n}function Pc(){return pt.lFrame.isParent}function Hn(){const e=pt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ai(){return pt.lFrame.bindingIndex}function bs(){return pt.lFrame.bindingIndex++}function li(e){const n=pt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function xE(e,n){const t=pt.lFrame;t.bindingIndex=t.bindingRootIndex=e,Fc(n)}function Fc(e){pt.lFrame.currentDirectiveIndex=e}function wg(){return pt.lFrame.currentQueryIndex}function kc(e){pt.lFrame.currentQueryIndex=e}function IE(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function Ag(e,n,t){if(t&ut.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&ut.Host||(i=IE(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;n=i,e=s}const r=pt.lFrame=Eg();return r.currentTNode=n,r.lView=e,!0}function Oc(e){const n=Eg(),t=e[1];pt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Eg(){const e=pt.lFrame,n=null===e?null:e.child;return null===n?Sg(e):n}function Sg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Dg(){const e=pt.lFrame;return pt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Mg=Dg;function Lc(){const e=Dg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $n(){return pt.lFrame.selectedIndex}function Mi(e){pt.lFrame.selectedIndex=e}function nn(){const e=pt.lFrame;return Tc(e.tView,e.selectedIndex)}function il(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:v}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-t,o),a&&((e.contentHooks||(e.contentHooks=[])).push(t,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-t,l),u&&((e.viewHooks||(e.viewHooks=[])).push(t,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,u)),null!=v&&(e.destroyHooks||(e.destroyHooks=[])).push(t,v)}}function sl(e,n,t){Tg(e,n,3,t)}function ol(e,n,t,r){(3&e[2])===t&&Tg(e,n,t,r)}function Nc(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function Tg(e,n,t,r){const s=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[18]+=65536),(a<s||-1==s)&&(UE(e,t,n,l),e[18]=(4294901760&e[18])+l+2),l++}function UE(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ao{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function al(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];e.setAttribute(n,o,a,s)}else{const s=i,o=t[++r];Pg(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function xg(e){return 3===e||4===e||6===e}function Pg(e){return 64===e.charCodeAt(0)}function ll(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Ig(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Ig(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Fg(e){return-1!==e}function ws(e){return 32767&e}function As(e,n){let t=function WE(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let Bc=!0;function ul(e){const n=Bc;return Bc=e,n}let zE=0;const zr={};function So(e,n){const t=jc(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Uc(r.data,e),Uc(n,null),Uc(r.blueprint,null));const i=cl(e,n),s=e.injectorIndex;if(Fg(i)){const o=ws(i),a=As(i,n),l=a[1].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function Uc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function jc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function cl(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=jg(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function dl(e,n,t){!function qE(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_o)&&(r=t[_o]),null==r&&(r=t[_o]=zE++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function Og(e,n,t){if(t&ut.Optional||void 0!==e)return e;qa()}function Lg(e,n,t,r){if(t&ut.Optional&&void 0===r&&(r=null),0==(t&(ut.Self|ut.Host))){const i=e[9],s=pr(void 0);try{return i?i.get(n,r,t&ut.Optional):sg(n,r,t&ut.Optional)}finally{pr(s)}}return Og(r,0,t)}function Ng(e,n,t,r=ut.Default,i){if(null!==e){if(1024&n[2]){const o=function JE(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Vg(s,o,t,r|ut.Self,zr);if(a!==zr)return a;let l=s.parent;if(!l){const u=o[21];if(u){const v=u.get(t,zr,r);if(v!==zr)return v}l=jg(o),o=o[15]}s=l}return i}(e,n,t,r,zr);if(o!==zr)return o}const s=Vg(e,n,t,r,zr);if(s!==zr)return s}return Lg(n,t,r,i)}function Vg(e,n,t,r,i){const s=function KE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(_o)?e[_o]:void 0;return"number"==typeof n?n>=0?255&n:QE:n}(t);if("function"==typeof s){if(!Ag(n,e,r))return r&ut.Host?Og(i,0,r):Lg(n,t,r,i);try{const o=s(r);if(null!=o||r&ut.Optional)return o;qa()}finally{Mg()}}else if("number"==typeof s){let o=null,a=jc(e,n),l=-1,u=r&ut.Host?n[16][6]:null;for((-1===a||r&ut.SkipSelf)&&(l=-1===a?cl(e,n):n[a+8],-1!==l&&Ug(r,!1)?(o=n[1],a=ws(l),n=As(l,n)):a=-1);-1!==a;){const v=n[1];if(Bg(s,a,v.data)){const D=XE(a,n,t,o,r,u);if(D!==zr)return D}l=n[a+8],-1!==l&&Ug(r,n[1].data[a+8]===u)&&Bg(s,a,n)?(o=v,a=ws(l),n=As(l,n)):a=-1}}return i}function XE(e,n,t,r,i,s){const o=n[1],a=o.data[e+8],v=hl(a,o,t,null==r?el(a)&&Bc:r!=o&&0!=(3&a.type),i&ut.Host&&s===a);return null!==v?Do(n,o,v,a):zr}function hl(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,v=s>>20,U=i?a+v:e.directiveEnd;for(let Q=r?a:a+v;Q<U;Q++){const de=o[Q];if(Q<l&&t===de||Q>=l&&de.type===t)return Q}if(i){const Q=o[l];if(Q&&Ir(Q)&&Q.type===t)return l}return null}function Do(e,n,t,r){let i=e[t];const s=n.data;if(function jE(e){return e instanceof Ao}(i)){const o=i;o.resolving&&function zA(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new ze(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Pt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():mt(e)}(s[t]));const a=ul(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?pr(o.injectImpl):null;Ag(e,r,ut.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function BE(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=hg(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,s))}(t,s[t],n)}finally{null!==l&&pr(l),ul(a),o.resolving=!1,Mg()}}return i}function Bg(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Ug(e,n){return!(e&ut.Self||e&ut.Host&&n)}class Es{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Ng(this._tNode,this._lView,n,r,t)}}function QE(){return new Es(yn(),Ne())}function In(e){return Si(()=>{const n=e.prototype.constructor,t=n[oi]||Hc(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||Hc(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hc(e){return mc(e)?()=>{const n=Hc(dt(e));return n&&n()}:Xi(e)}function jg(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[6]:null}const Ds="__parameters__";function Ts(e,n,t){return Si(()=>{const r=function $c(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,v){const D=l.hasOwnProperty(Ds)?l[Ds]:Object.defineProperty(l,Ds,{value:[]})[Ds];for(;D.length<=v;)D.push(null);return(D[v]=D[v]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class tt{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ot({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lr(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),lr(r,n)):n!==e&&n.push(r)}return n}function ui(e,n){e.forEach(t=>Array.isArray(t)?ui(t,n):n(t))}function $g(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function fl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ur(e,n,t){let r=xs(e,n);return r>=0?e[1|r]=t:(r=~r,function nS(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Wc(e,n){const t=xs(e,n);if(t>=0)return e[1|t]}function xs(e,n){return function zg(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const Io={},qc="__NG_DI_FLAG__",gl="ngTempTokenPath",cS=/\n/gm,qg="__source";let Fo;function Ps(e){const n=Fo;return Fo=e,n}function hS(e,n=ut.Default){if(void 0===Fo)throw new ze(-203,!1);return null===Fo?sg(e,void 0,n):Fo.get(e,n&ut.Optional?null:void 0,n)}function Xe(e,n=ut.Default){return(function tE(){return yc}()||hS)(dt(e),n)}function un(e,n=ut.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),Xe(e,n)}function Yc(e){const n=[];for(let t=0;t<e.length;t++){const r=dt(e[t]);if(Array.isArray(r)){if(0===r.length)throw new ze(900,!1);let i,s=ut.Default;for(let o=0;o<r.length;o++){const a=r[o],l=fS(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(Xe(i,s))}else n.push(Xe(r))}return n}function Ro(e,n){return e[qc]=n,e.prototype[qc]=n,e}function fS(e){return e[qc]}const ko=Ro(Ts("Optional"),8),Oo=Ro(Ts("SkipSelf"),4);let Kc;class om{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(e){return e instanceof om?e.changingThisBreaksApplicationSecurity:e}const NS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function rd(e){const n=function Uo(){const e=Ne();return e&&e[12]}();return n?n.sanitize(pn.URL,e)||"":function Vo(e,n){const t=function RS(e){return e instanceof om&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}(e,"URL")?xi(e):function Zc(e){return(e=String(e)).match(NS)?e:"unsafe:"+e}(mt(e))}const id=new tt("ENVIRONMENT_INITIALIZER"),pm=new tt("INJECTOR",-1),gm=new tt("INJECTOR_DEF_TYPES");class mm{get(n,t=Io){if(t===Io){const r=new Error(`NullInjectorError: No provider for ${Ut(n)}!`);throw r.name="NullInjectorError",r}return t}}function QS(...e){return{\u0275providers:_m(0,e)}}function _m(e,...n){const t=[],r=new Set;let i;return ui(n,s=>{const o=s;sd(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ym(i,t),t}function ym(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];ui(i,s=>{n.push(s)})}}function sd(e,n,t,r){if(!(e=dt(e)))return!1;let i=null,s=rg(e);const o=!s&&Nt(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=rg(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)sd(u,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{ui(s.imports,v=>{sd(v,n,t,r)&&(u||(u=[]),u.push(v))})}finally{}void 0!==u&&ym(u,n)}if(!a){const u=Xi(i)||(()=>new i);n.push({provide:i,useFactory:u,deps:It},{provide:gm,useValue:i,multi:!0},{provide:id,useValue:()=>Xe(i),multi:!0})}const l=s.providers;null==l||a||ui(l,v=>{n.push(v)})}}return i!==e&&void 0!==e.providers}const JS=Bt({provide:String,useValue:Bt});function od(e){return null!==e&&"object"==typeof e&&JS in e}function Ki(e){return"function"==typeof e}const ad=new tt("Set Injector scope."),bl={},eD={};let ld;function wl(){return void 0===ld&&(ld=new mm),ld}class Pi{}class bm extends Pi{constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cd(n,o=>this.processProvider(o)),this.records.set(pm,Rs(void 0,this)),i.has("environment")&&this.records.set(Pi,Rs(void 0,this));const s=this.records.get(ad);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gm.multi,It,ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=Ps(this),r=pr(void 0);try{return n()}finally{Ps(t),pr(r)}}get(n,t=Io,r=ut.Default){this.assertNotDestroyed();const i=Ps(this),s=pr(void 0);try{if(!(r&ut.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function sD(e){return"function"==typeof e||"object"==typeof e&&e instanceof tt}(n)&&Ya(n);a=l&&this.injectableDefInScope(l)?Rs(ud(n),bl):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&ut.Self?wl():this.parent).get(n,t=r&ut.Optional&&t===Io?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[gl]=o[gl]||[]).unshift(Ut(n)),i)throw o;return function pS(e,n,t,r){const i=e[gl];throw n[qg]&&i.unshift(n[qg]),e.message=function gS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ut(n);if(Array.isArray(n))i=n.map(Ut).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(cS,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[gl]=null,e}(o,n,"R3InjectorError",this.source)}throw o}finally{pr(s),Ps(i)}}resolveInjectorInitializers(){const n=Ps(this),t=pr(void 0);try{const r=this.get(id.multi,It,ut.Self);for(const i of r)i()}finally{Ps(n),pr(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Ut(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let t=Ki(n=dt(n))?n:dt(n&&n.provide);const r=function nD(e){return od(e)?Rs(void 0,e.useValue):Rs(wm(e),bl)}(n);if(Ki(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Rs(void 0,bl,!0),i.factory=()=>Yc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===bl&&(t.value=eD,t.value=t.factory()),"object"==typeof t.value&&t.value&&function iD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=dt(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ud(e){const n=Ya(e),t=null!==n?n.factory:Xi(e);if(null!==t)return t;if(e instanceof tt)throw new ze(204,!1);if(e instanceof Function)return function tD(e){const n=e.length;if(n>0)throw function Po(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new ze(204,!1);const t=function JA(e){const n=e&&(e[Xa]||e[ig]);if(n){const t=function ZA(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ze(204,!1)}function wm(e,n,t){let r;if(Ki(e)){const i=dt(e);return Xi(i)||ud(i)}if(od(e))r=()=>dt(e.useValue);else if(function Cm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Yc(e.deps||[]));else if(function vm(e){return!(!e||!e.useExisting)}(e))r=()=>Xe(dt(e.useExisting));else{const i=dt(e&&(e.useClass||e.provide));if(!function rD(e){return!!e.deps}(e))return Xi(i)||ud(i);r=()=>new i(...Yc(e.deps))}return r}function Rs(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function oD(e){return!!e.\u0275providers}function cd(e,n){for(const t of e)Array.isArray(t)?cd(t,n):oD(t)?cd(t.\u0275providers,n):n(t)}class Am{}class uD{resolveComponentFactory(n){throw function lD(e){const n=Error(`No component factory found for ${Ut(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let jo=(()=>{class e{}return e.NULL=new uD,e})();function cD(){return ks(yn(),Ne())}function ks(e,n){return new Zn(_r(e,n))}let Zn=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=cD,e})();function dD(e){return e instanceof Zn?e.nativeElement:e}class Sm{}let di=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function hD(){const e=Ne(),t=ar(yn().index,e);return(Jn(t)?t:e)[11]}(),e})(),fD=(()=>{class e{}return e.\u0275prov=ot({token:e,providedIn:"root",factory:()=>null}),e})();class Ho{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const pD=new Ho("14.2.4"),dd={};function md(e){return e.ngOriginalError}class Os{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&md(n);for(;t&&md(t);)t=md(t);return t||null}}const _d=new Map;let DD=0;const vd="__ngContext__";function Fn(e,n){Jn(n)?(e[vd]=n[20],function TD(e){_d.set(e[20],e)}(n)):e[vd]=n}function hi(e){return e instanceof Function?e():e}var er=(()=>((er=er||{})[er.Important=1]="Important",er[er.DashCase=2]="DashCase",er))();function bd(e,n){return undefined(e,n)}function Go(e){const n=e[3];return Pr(n)?n[3]:n}function wd(e){return Bm(e[13])}function Ad(e){return Bm(e[4])}function Bm(e){for(;null!==e&&!Pr(e);)e=e[4];return e}function Ns(e,n,t,r,i){if(null!=r){let s,o=!1;Pr(r)?s=r:Jn(r)&&(o=!0,r=r[0]);const a=fn(r);0===e&&null!==t?null==i?Wm(n,t,a):Qi(n,t,a,i||null,!0):1===e&&null!==t?Qi(n,t,a,i||null,!0):2===e?function Jm(e,n,t){const r=Al(e,n);r&&function t1(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function i1(e,n,t,r,i){const s=t[7];s!==fn(t)&&Ns(n,e,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Wo(l[1],l,e,n,r,s)}}(n,e,s,t,i)}}function Sd(e,n,t){return e.createElement(n,t)}function jm(e,n){const t=e[9],r=t.indexOf(n),i=n[3];512&n[2]&&(n[2]&=-513,xc(i,-1)),t.splice(r,1)}function Dd(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[17];null!==i&&i!==e&&jm(i,r),n>0&&(e[t-1][4]=r[4]);const s=fl(e,10+n);!function qD(e,n){Wo(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Hm(e,n){if(!(128&n[2])){const t=n[11];t.destroyNode&&Wo(e,n,t,3,null,null),function KD(e){let n=e[13];if(!n)return Md(e[1],e);for(;n;){let t=null;if(Jn(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)Jn(n)&&Md(n[1],n),n=n[3];null===n&&(n=e),Jn(n)&&Md(n[1],n),t=n&&n[4]}n=t}}(n)}}function Md(e,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function e1(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ao)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,n),function ZD(e,n){const t=e.cleanup,r=n[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(n):fn(n[o]),l=r[i=t[s+2]],u=t[s+3];"boolean"==typeof u?a.removeEventListener(t[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();n[7]=null}}(e,n),1===n[1].type&&n[11].destroy();const t=n[17];if(null!==t&&Pr(n[3])){t!==n[3]&&jm(t,n);const r=n[19];null!==r&&r.detachView(e)}!function xD(e){_d.delete(e[20])}(n)}}function $m(e,n,t){return function Gm(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Gr.None||i===Gr.Emulated)return null}return _r(r,t)}(e,n.parent,t)}function Qi(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Wm(e,n,t){e.appendChild(n,t)}function zm(e,n,t,r,i){null!==r?Qi(e,n,t,r,i):Wm(e,n,t)}function Al(e,n){return e.parentNode(n)}let Xm=function Ym(e,n,t){return 40&e.type?_r(e,t):null};function El(e,n,t,r){const i=$m(e,r,n),s=n[11],a=function qm(e,n,t){return Xm(e,n,t)}(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)zm(s,i,t[l],a,!1);else zm(s,i,t,a,!1)}function Sl(e,n){if(null!==n){const t=n.type;if(3&t)return _r(n,e);if(4&t)return xd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Sl(e,r);{const i=e[n.index];return Pr(i)?xd(-1,i):fn(i)}}if(32&t)return bd(n,e)()||fn(e[n.index]);{const r=Qm(e,n);return null!==r?Array.isArray(r)?r[0]:Sl(Go(e[16]),r):Sl(e,n.next)}}return null}function Qm(e,n){return null!==n?e[16][6].projection[n.projection]:null}function xd(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return Sl(r,i)}return n[7]}function Pd(e,n,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===n&&(a&&Fn(fn(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Pd(e,n,t.child,r,i,s,!1),Ns(n,e,i,a,s);else if(32&l){const u=bd(t,r);let v;for(;v=u();)Ns(n,e,i,v,s);Ns(n,e,i,a,s)}else 16&l?Zm(e,n,r,t,i,s):Ns(n,e,i,a,s);t=o?t.projectionNext:t.next}}function Wo(e,n,t,r,i,s){Pd(t,r,e.firstChild,n,i,s,!1)}function Zm(e,n,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ns(n,e,i,l[u],s);else Pd(e,n,l,o[3],i,s,!0)}function e_(e,n,t){e.setAttribute(n,"style",t)}function Id(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function t_(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}const n_="ng-template";function o1(e,n,t){let r=0;for(;r<e.length;){let i=e[r++];if(t&&"class"===i){if(i=e[r],-1!==t_(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function r_(e){return 4===e.type&&e.value!==n_}function a1(e,n,t){return n===(4!==e.type||t?e.value:n_)}function l1(e,n,t){let r=4;const i=e.attrs||[],s=function d1(e){for(let n=0;n<e.length;n++)if(xg(e[n]))return n;return e.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!a1(e,l,t)||""===l&&1===n.length){if(Fr(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!o1(e.attrs,u,t)){if(Fr(r))return!1;o=!0}continue}const D=u1(8&r?"class":l,i,r_(e),t);if(-1===D){if(Fr(r))return!1;o=!0;continue}if(""!==u){let U;U=D>s?"":i[D+1].toLowerCase();const Q=8&r?U:null;if(Q&&-1!==t_(Q,u,0)||2&r&&u!==U){if(Fr(r))return!1;o=!0}}}}else{if(!o&&!Fr(r)&&!Fr(l))return!1;if(o&&Fr(l))continue;o=!1,r=l|1&r}}return Fr(r)||o}function Fr(e){return 0==(1&e)}function u1(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function h1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function i_(e,n,t=!1){for(let r=0;r<n.length;r++)if(l1(e,n[r],t))return!0;return!1}function s_(e,n){return e?":not("+n.trim()+")":n}function p1(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Fr(o)&&(n+=s_(s,i),i=""),r=o,s=s||!Fr(r);t++}return""!==i&&(n+=s_(s,i)),n}const _t={};function fe(e){o_(Mt(),Ne(),$n()+e,!1)}function o_(e,n,t,r){if(!r)if(3==(3&n[2])){const s=e.preOrderCheckHooks;null!==s&&sl(n,s,t)}else{const s=e.preOrderHooks;null!==s&&ol(n,s,0,t)}Mi(t)}function c_(e,n=null,t=null,r){const i=d_(e,n,t,r);return i.resolveInjectorInitializers(),i}function d_(e,n=null,t=null,r,i=new Set){const s=[t||It,QS(e)];return r=r||("object"==typeof e?void 0:Ut(e)),new bm(s,n||wl(),r||null,i)}let cr=(()=>{class e{static create(t,r){if(Array.isArray(t))return c_({name:""},r,t,"");{const i=t.name??"";return c_({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Io,e.NULL=new mm,e.\u0275prov=ot({token:e,providedIn:"any",factory:()=>Xe(pm)}),e.__NG_ELEMENT_ID__=-1,e})();function Se(e,n=ut.Default){const t=Ne();return null===t?Xe(e,n):Ng(yn(),t,dt(e),n)}function Ld(){throw new Error("invalid")}function Ml(e,n){return e<<17|n<<2}function Rr(e){return e>>17&32767}function Nd(e){return 2|e}function fi(e){return(131068&e)>>2}function Vd(e,n){return-131069&e|n<<2}function Bd(e){return 1|e}function T_(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=e.data[s];kc(i),o.contentQueries(2,n[s],s)}}}function Pl(e,n,t,r,i,s,o,a,l,u,v){const D=n.blueprint.slice();return D[0]=i,D[2]=76|r,(null!==v||e&&1024&e[2])&&(D[2]|=1024),gg(D),D[3]=D[15]=e,D[8]=t,D[10]=o||e&&e[10],D[11]=a||e&&e[11],D[12]=l||e&&e[12]||null,D[9]=u||e&&e[9]||null,D[6]=s,D[20]=function MD(){return DD++}(),D[21]=v,D[16]=2==n.type?e[16]:D,D}function Bs(e,n,t,r,i){let s=e.data[n];if(null===s)s=function qd(e,n,t,r,i){const s=yg(),o=Pc(),l=e.data[n]=function K1(e,n,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(e,n,t,r,i),function TE(){return pt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function wo(){const e=pt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Wr(s,!0),s}function Us(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Yd(e,n,t){Oc(n);try{const r=e.viewQuery;null!==r&&nh(1,r,t);const i=e.template;null!==i&&x_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&T_(e,n),e.staticViewQueries&&nh(2,e.viewQuery,t);const s=e.components;null!==s&&function q1(e,n){for(let t=0;t<n.length;t++)hM(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,Lc()}}function Il(e,n,t,r){const i=n[2];if(128!=(128&i)){Oc(n);try{gg(n),function Cg(e){return pt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&x_(e,n,t,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&sl(n,u,null)}else{const u=e.preOrderHooks;null!==u&&ol(n,u,0,null),Nc(n,0)}if(function cM(e){for(let n=wd(e);null!==n;n=Ad(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&xc(s,1),i[2]|=512}}}(n),function uM(e){for(let n=wd(e);null!==n;n=Ad(n))for(let t=10;t<n.length;t++){const r=n[t],i=r[1];rl(r)&&Il(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&T_(e,n),o){const u=e.contentCheckHooks;null!==u&&sl(n,u)}else{const u=e.contentHooks;null!==u&&ol(n,u,1),Nc(n,1)}!function W1(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Mi(~i);else{const s=i,o=t[++r],a=t[++r];xE(o,s),a(2,n[s])}}}finally{Mi(-1)}}(e,n);const a=e.components;null!==a&&function z1(e,n){for(let t=0;t<n.length;t++)dM(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&nh(2,l,r),o){const u=e.viewCheckHooks;null!==u&&sl(n,u)}else{const u=e.viewHooks;null!==u&&ol(n,u,2),Nc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,xc(n[3],-1))}finally{Lc()}}}function x_(e,n,t,r,i){const s=$n(),o=2&r;try{Mi(-1),o&&n.length>22&&o_(e,n,22,!1),t(r,i)}finally{Mi(s)}}function Xd(e,n,t){!_g()||(function tM(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;e.firstCreatePass||So(t,n),Fn(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=Ir(l);u&&oM(n,t,l);const v=Do(n,e,a,t);Fn(v,n),null!==o&&aM(0,a-i,v,l,0,o),u&&(ar(t.index,n)[8]=v)}}(e,n,t,_r(t,n)),128==(128&t.flags)&&function nM(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function PE(){return pt.lFrame.currentDirectiveIndex}();try{Mi(s);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];Fc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&N_(l,u)}}finally{Mi(-1),Fc(o)}}(e,n,t))}function Kd(e,n,t=_r){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function I_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Qd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function Qd(e,n,t,r,i,s,o,a,l,u){const v=22+r,D=v+i,U=function Y1(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:_t);return t}(v,D),Q="function"==typeof u?u():u;return U[1]={type:e,blueprint:U,template:t,queries:null,viewQuery:a,declTNode:n,data:U.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:Q,incompleteFirstPass:!1}}function F_(e,n,t,r){const i=H_(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&$_(e).push(r,i.length-1))}function R_(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,i):t[r]=[n,i]}return t}function k_(e,n){const r=n.directiveEnd,i=e.data,s=n.attrs,o=[];let a=null,l=null;for(let u=n.directiveStart;u<r;u++){const v=i[u],D=v.inputs,U=null===s||r_(n)?null:lM(D,s);o.push(U),a=R_(D,u,a),l=R_(v.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=a,n.outputs=l}function O_(e,n){const t=ar(n,e);16&t[2]||(t[2]|=32)}function Jd(e,n,t,r){let i=!1;if(_g()){const s=function rM(e,n,t){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];i_(t,o.selectors,!1)&&(i||(i=[]),dl(So(t,n),e,o.type),Ir(o)?(V_(e,t),i.unshift(o)):i.push(o))}return i}(e,n,t),o=null===r?null:{"":-1};if(null!==s){i=!0,B_(t,e.data.length,s.length);for(let v=0;v<s.length;v++){const D=s[v];D.providersResolver&&D.providersResolver(D)}let a=!1,l=!1,u=Us(e,n,s.length,null);for(let v=0;v<s.length;v++){const D=s[v];t.mergedAttrs=ll(t.mergedAttrs,D.hostAttrs),U_(e,t,n,u,D),sM(u,D,o),null!==D.contentQueries&&(t.flags|=8),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(t.flags|=128);const U=D.type.prototype;!a&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),a=!0),!l&&(U.ngOnChanges||U.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),l=!0),u++}k_(e,t)}o&&function iM(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new ze(-301,!1);r.push(n[i],s)}}}(t,r,o)}return t.mergedAttrs=ll(t.mergedAttrs,t.attrs),i}function L_(e,n,t,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~n.index;(function eM(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function N_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function V_(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function sM(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ir(n)&&(t[""]=e)}}function B_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function U_(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Xi(i.type)),o=new Ao(s,Ir(i),Se);e.blueprint[r]=o,t[r]=o,L_(e,n,0,r,Us(e,t,i.hostVars,_t),i)}function oM(e,n,t){const r=_r(n,e),i=I_(t),s=e[10],o=Fl(e,Pl(e,i,null,t.onPush?32:16,r,n,s,s.createRenderer(r,t),null,null,null));e[n.index]=o}function qr(e,n,t,r,i,s){const o=_r(e,n);!function Zd(e,n,t,r,i,s,o){if(null==s)e.removeAttribute(n,i,t);else{const a=null==o?mt(s):o(s,r||"",i);e.setAttribute(n,i,a,t)}}(n[11],o,s,e.value,t,r,i)}function aM(e,n,t,r,i,s){const o=s[n];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],v=o[l++],D=o[l++];null!==a?r.setInput(t,D,u,v):t[v]=D}}}function lM(e,n){let t=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,e[i],n[r+1])),r+=2}else r+=2;else r+=4}return t}function j_(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function dM(e,n){const t=ar(n,e);if(rl(t)){const r=t[1];48&t[2]?Il(r,t,r.template,t[8]):t[5]>0&&eh(t)}}function eh(e){for(let r=wd(e);null!==r;r=Ad(r))for(let i=10;i<r.length;i++){const s=r[i];if(rl(s))if(512&s[2]){const o=s[1];Il(o,s,o.template,s[8])}else s[5]>0&&eh(s)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=ar(t[r],e);rl(i)&&i[5]>0&&eh(i)}}function hM(e,n){const t=ar(n,e),r=t[1];(function fM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Yd(r,t,t[8])}function Fl(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function th(e){for(;e;){e[2]|=32;const n=Go(e);if(lE(e)&&!n)return e;e=n}return null}function Rl(e,n,t,r=!0){const i=n[10];i.begin&&i.begin();try{Il(e,n,e.template,t)}catch(o){throw r&&W_(n,o),o}finally{i.end&&i.end()}}function nh(e,n,t){kc(0),n(e,t)}function H_(e){return e[7]||(e[7]=[])}function $_(e){return e.cleanup||(e.cleanup=[])}function W_(e,n){const t=e[9],r=t?t.get(Os,null):null;r&&r.handleError(n)}function rh(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=n[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function pi(e,n,t){const r=nl(n,e);!function Um(e,n,t){e.setValue(n,t)}(e[11],r,t)}function kl(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=gc(i,a):2==s&&(r=gc(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ol(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(fn(s)),Pr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Ol(l[1],l,u,r)}const o=t.type;if(8&o)Ol(e,n,t.child,r);else if(32&o){const a=bd(t,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Qm(n,t);if(Array.isArray(a))r.push(...a);else{const l=Go(n[16]);Ol(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class zo{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return Ol(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Pr(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Dd(n,r),fl(t,r))}this._attachedToViewContainer=!1}Hm(this._lView[1],this._lView)}onDestroy(n){F_(this._lView[1],this._lView,null,n)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XD(e,n){Wo(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n}}class pM extends zo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Rl(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class ih extends jo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Nt(n);return new qo(t,this.ngModule)}}function z_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class mM{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){const i=this.injector.get(n,dd,r);return i!==dd||t===dd?i:this.parentInjector.get(n,t,r)}}class qo extends Am{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function g1(e){return e.map(p1).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return z_(this.componentDef.inputs)}get outputs(){return z_(this.componentDef.outputs)}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Pi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new mM(n,s):n,a=o.get(Sm,null);if(null===a)throw new ze(407,!1);const l=o.get(fD,null),u=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=r?function X1(e,n,t){return e.selectRootElement(n,t===Gr.ShadowDom)}(u,r,this.componentDef.encapsulation):Sd(a.createRenderer(null,this.componentDef),v,function gM(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),U=this.componentDef.onPush?288:272,Q=Qd(0,null,null,1,0,null,null,null,null,null),de=Pl(null,Q,null,U,null,null,a,u,l,o,null);let Te,ke;Oc(de);try{const Be=function vM(e,n,t,r,i,s){const o=t[1];t[22]=e;const l=Bs(o,22,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(kl(l,u,!0),null!==e&&(al(i,e,u),null!==l.classes&&Id(i,e,l.classes),null!==l.styles&&e_(i,e,l.styles)));const v=r.createRenderer(e,n),D=Pl(t,I_(n),null,n.onPush?32:16,t[22],l,r,v,s||null,null,null);return o.firstCreatePass&&(dl(So(l,t),o,n.type),V_(o,l),B_(l,t.length,1)),Fl(t,D),t[22]=D}(D,this.componentDef,de,a,u);if(D)if(r)al(u,D,["ng-version",pD.full]);else{const{attrs:Ye,classes:Pe}=function m1(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!Fr(i))break;i=s}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);Ye&&al(u,D,Ye),Pe&&Pe.length>0&&Id(u,D,Pe.join(" "))}if(ke=Tc(Q,22),void 0!==t){const Ye=ke.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const rt=t[Pe];Ye.push(null!=rt?Array.from(rt):null)}}Te=function CM(e,n,t,r){const i=t[1],s=function Z1(e,n,t){const r=yn();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),U_(e,r,n,Us(e,n,1,null),t),k_(e,r));const i=Do(n,e,r.directiveStart,r);Fn(i,n);const s=_r(r,n);return s&&Fn(s,n),i}(i,t,n);if(e[8]=t[8]=s,null!==r)for(const a of r)a(s,n);if(n.contentQueries){const a=yn();n.contentQueries(1,s,a.directiveStart)}const o=yn();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Mi(o.index),L_(t[1],o,0,o.directiveStart,o.directiveEnd,n),N_(n,s)),s}(Be,this.componentDef,de,[bM]),Yd(Q,de,null)}finally{Lc()}return new yM(this.componentType,Te,ks(ke,de),de,ke)}}class yM extends class aD{}{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new pM(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const s=this._rootLView;rh(s[1],s,i,n,t),O_(s,this._tNode.index)}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function bM(){const e=yn();il(Ne()[1],e)}function Vt(e){let n=function q_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Ir(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=sh(e.inputs),o.declaredInputs=sh(e.declaredInputs),o.outputs=sh(e.outputs);const a=i.hostBindings;a&&SM(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&AM(e,l),u&&EM(e,u),pc(e.inputs,i.inputs),pc(e.declaredInputs,i.declaredInputs),pc(e.outputs,i.outputs),Ir(i)&&i.data.animation){const v=e.data;v.animation=(v.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Vt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function wM(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=ll(i.hostAttrs,t=ll(t,i.hostAttrs))}}(r)}function sh(e){return e===gs?{}:e===It?[]:e}function AM(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function EM(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function SM(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}let Ll=null;function Ji(){if(!Ll){const e=Wt.Symbol;if(e&&e.iterator)Ll=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ll=r)}}}return Ll}function Yo(e){return!!oh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ji()in e)}function oh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yr(e,n,t){return e[n]=t}function Rn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Zi(e,n,t,r){const i=Rn(e,n,t);return Rn(e,n+1,r)||i}function Xr(e,n,t,r){const i=Ne();return Rn(i,bs(),n)&&(Mt(),qr(nn(),i,e,n,t,r)),Xr}function Gs(e,n,t,r,i,s,o,a){const u=function Nl(e,n,t,r,i){const s=Zi(e,n,t,r);return Rn(e,n+2,i)||s}(e,ai(),t,i,o);return li(3),u?n+mt(t)+r+mt(i)+s+mt(o)+a:_t}function et(e,n,t,r,i,s,o,a){const l=Ne(),u=Mt(),v=e+22,D=u.firstCreatePass?function RM(e,n,t,r,i,s,o,a,l){const u=n.consts,v=Bs(n,e,4,o||null,Di(u,a));Jd(n,t,v,Di(u,l)),il(n,v);const D=v.tViews=Qd(2,v,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,v),D.queries=n.queries.embeddedTView(v)),v}(v,u,l,n,t,r,i,s,o):u.data[v];Wr(D,!1);const U=l[11].createComment("");El(u,l,U,D),Fn(U,l),Fl(l,l[v]=j_(U,l,U,D)),tl(D)&&Xd(u,l,D),null!=o&&Kd(l,D,a)}function Ee(e,n,t){const r=Ne();return Rn(r,bs(),n)&&function dr(e,n,t,r,i,s,o,a){const l=_r(n,t);let v,u=n.inputs;!a&&null!=u&&(v=u[r])?(rh(e,t,v,r,i),el(n)&&O_(t,n.index)):3&n.type&&(r=function Q1(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(l,r,i))}(Mt(),nn(),r,e,n,r[11],t,!1),Ee}function ah(e,n,t,r,i){const o=i?"class":"style";rh(e,t,n.inputs[o],o,r)}function G(e,n,t,r){const i=Ne(),s=Mt(),o=22+e,a=i[11],l=i[o]=Sd(a,n,function VE(){return pt.lFrame.currentNamespace}()),u=s.firstCreatePass?function LM(e,n,t,r,i,s,o){const a=n.consts,u=Bs(n,e,2,i,Di(a,s));return Jd(n,t,u,Di(a,o)),null!==u.attrs&&kl(u,u.attrs,!1),null!==u.mergedAttrs&&kl(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,s,i,0,n,t,r):s.data[o];Wr(u,!0);const v=u.mergedAttrs;null!==v&&al(a,l,v);const D=u.classes;null!==D&&Id(a,l,D);const U=u.styles;return null!==U&&e_(a,l,U),64!=(64&u.flags)&&El(s,i,l,u),0===function wE(){return pt.lFrame.elementDepthCount}()&&Fn(l,i),function AE(){pt.lFrame.elementDepthCount++}(),tl(u)&&(Xd(s,i,u),function P_(e,n,t){if(Ac(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,u,i)),null!==r&&Kd(i,u),G}function z(){let e=yn();Pc()?function Ic(){pt.lFrame.isParent=!1}():(e=e.parent,Wr(e,!1));const n=e;!function EE(){pt.lFrame.elementDepthCount--}();const t=Mt();return t.firstCreatePass&&(il(t,e),Ac(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function $E(e){return 0!=(16&e.flags)}(n)&&ah(t,n,Ne(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function GE(e){return 0!=(32&e.flags)}(n)&&ah(t,n,Ne(),n.stylesWithoutHost,!1),z}function jt(e,n,t,r){return G(e,n,t,r),z(),jt}function Cn(){return Ne()}function Ko(e){return!!e&&"function"==typeof e.then}const ch=function iy(e){return!!e&&"function"==typeof e.subscribe};function $e(e,n,t,r){const i=Ne(),s=Mt(),o=yn();return function oy(e,n,t,r,i,s,o,a){const l=tl(r),v=e.firstCreatePass&&$_(e),D=n[8],U=H_(n);let Q=!0;if(3&r.type||a){const ke=_r(r,n),Be=a?a(ke):ke,Ye=U.length,Pe=a?Tt=>a(fn(Tt[r.index])):r.index;let rt=null;if(!a&&l&&(rt=function VM(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=s,rt.__ngLastListenerFn__=s,Q=!1;else{s=ly(r,n,D,s,!1);const Tt=t.listen(Be,i,s);U.push(s,Tt),v&&v.push(i,Pe,Ye,Ye+1)}}else s=ly(r,n,D,s,!1);const de=r.outputs;let Te;if(Q&&null!==de&&(Te=de[i])){const ke=Te.length;if(ke)for(let Be=0;Be<ke;Be+=2){const Jt=n[Te[Be]][Te[Be+1]].subscribe(s),fs=U.length;U.push(s,Jt),v&&v.push(i,r.index,fs,-(fs+1))}}}(s,i,i[11],o,e,n,0,r),$e}function ay(e,n,t,r){try{return!1!==t(r)}catch(i){return W_(e,i),!1}}function ly(e,n,t,r,i){return function s(o){if(o===Function)return r;th(2&e.flags?ar(e.index,n):n);let l=ay(n,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=ay(n,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function We(e=1){return function FE(e){return(pt.lFrame.contextLView=function RE(e,n){for(;e>0;)n=n[15],e--;return n}(e,pt.lFrame.contextLView))[8]}(e)}function yy(e,n,t,r,i){const s=e[t+1],o=null===n;let a=r?Rr(s):fi(s),l=!1;for(;0!==a&&(!1===l||o);){const v=e[a+1];GM(e[a],n)&&(l=!0,e[a+1]=r?Bd(v):Nd(v)),a=r?Rr(v):fi(v)}l&&(e[t+1]=r?Nd(s):Bd(s))}function GM(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&xs(e,n)>=0}function Vl(e,n){return function kr(e,n,t,r){const i=Ne(),s=Mt(),o=li(2);s.firstUpdatePass&&function My(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[$n()],o=function Dy(e,n){return n>=e.expandoStartIndex}(e,t);(function Iy(e,n){return 0!=(e.flags&(n?16:32))})(s,r)&&null===n&&!o&&(n=!1),n=function ZM(e,n,t,r){const i=function Rc(e){const n=pt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Qo(t=hh(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=hh(i,e,n,t,r),null===s){let l=function eT(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==fi(r))return e[Rr(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=hh(null,e,n,l[1],r),l=Qo(l,n.attrs,r),function tT(e,n,t,r){e[Rr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else s=function nT(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Qo(r,e[s].hostAttrs,t);return Qo(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function HM(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,a=Rr(o),l=fi(o);e[r]=t;let v,u=!1;if(Array.isArray(t)){const D=t;v=D[1],(null===v||xs(D,v)>0)&&(u=!0)}else v=t;if(i)if(0!==l){const U=Rr(e[a+1]);e[r+1]=Ml(U,a),0!==U&&(e[U+1]=Vd(e[U+1],r)),e[a+1]=function O1(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Ml(a,0),0!==a&&(e[a+1]=Vd(e[a+1],r)),a=r;else e[r+1]=Ml(l,0),0===a?a=r:e[l+1]=Vd(e[l+1],r),l=r;u&&(e[r+1]=Nd(e[r+1])),yy(e,v,r,!0),yy(e,v,r,!1),function $M(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&xs(s,n)>=0&&(t[r+1]=Bd(t[r+1]))}(n,v,e,r,s),o=Ml(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}(s,e,o,r),n!==_t&&Rn(i,o,n)&&function xy(e,n,t,r,i,s,o,a){if(!(3&n.type))return;const l=e.data,u=l[a+1];Bl(function C_(e){return 1==(1&e)}(u)?Py(l,n,t,i,fi(u),o):void 0)||(Bl(s)||function v_(e){return 2==(2&e)}(u)&&(s=Py(l,null,t,i,a,o)),function s1(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:er.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=er.Important),e.setStyle(t,r,i,s))}}(r,o,nl($n(),t),i,s))}(s,s.data[$n()],i,i[11],e,i[o+1]=function sT(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ut(xi(e)))),e}(n,t),r,o)}(e,n,null,!0),Vl}function hh(e,n,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],r=Qo(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Qo(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ur(e,o,!!t||n[++s]))}return void 0===e?null:e}function Py(e,n,t,r,i,s){const o=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),v=u?l[1]:l,D=null===v;let U=t[i+1];U===_t&&(U=D?It:void 0);let Q=D?Wc(U,r):v===r?U:void 0;if(u&&!Bl(Q)&&(Q=Wc(l,r)),Bl(Q)&&(a=Q,o))return a;const de=e[i+1];i=o?Rr(de):fi(de)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=Wc(l,r))}return a}function Bl(e){return void 0!==e}function te(e,n=""){const t=Ne(),r=Mt(),i=e+22,s=r.firstCreatePass?Bs(r,i,1,n,null):r.data[i],o=t[i]=function Ed(e,n){return e.createText(n)}(t[11],n);El(r,t,o,s),Wr(s,!1)}function xt(e){return cn("",e,""),xt}function cn(e,n,t){const r=Ne(),i=function Hs(e,n,t,r){return Rn(e,bs(),t)?n+mt(t)+r:_t}(r,e,n,t);return i!==_t&&pi(r,$n(),i),cn}function fh(e,n,t,r,i){const s=Ne(),o=function $s(e,n,t,r,i,s){const a=Zi(e,ai(),t,i);return li(2),a?n+mt(t)+r+mt(i)+s:_t}(s,e,n,t,r,i);return o!==_t&&pi(s,$n(),o),fh}function Ul(e,n,t,r,i,s,o){const a=Ne(),l=Gs(a,e,n,t,r,i,s,o);return l!==_t&&pi(a,$n(),l),Ul}const Js="en-US";let Qy=Js;function mh(e,n,t,r,i){if(e=dt(e),Array.isArray(e))for(let s=0;s<e.length;s++)mh(e[s],n,t,r,i);else{const s=Mt(),o=Ne();let a=Ki(e)?e:dt(e.provide),l=wm(e);const u=yn(),v=1048575&u.providerIndexes,D=u.directiveStart,U=u.providerIndexes>>20;if(Ki(e)||!e.multi){const Q=new Ao(l,i,Se),de=yh(a,n,i?v:v+U,D);-1===de?(dl(So(u,o),s,a),_h(s,e,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(Q),o.push(Q)):(t[de]=Q,o[de]=Q)}else{const Q=yh(a,n,v+U,D),de=yh(a,n,v,v+U),Te=Q>=0&&t[Q],ke=de>=0&&t[de];if(i&&!ke||!i&&!Te){dl(So(u,o),s,a);const Be=function Ax(e,n,t,r,i){const s=new Ao(e,t,Se);return s.multi=[],s.index=n,s.componentProviders=0,wv(s,i,r&&!t),s}(i?wx:bx,t.length,i,r,l);!i&&ke&&(t[de].providerFactory=Be),_h(s,e,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(Be),o.push(Be)}else _h(s,e,Q>-1?Q:de,wv(t[i?de:Q],l,!i&&r));!i&&r&&ke&&t[de].componentProviders++}}}function _h(e,n,t,r){const i=Ki(n),s=function ZS(e){return!!e.useClass}(n);if(i||s){const l=(s?dt(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const v=u.indexOf(t);-1===v?u.push(t,[r,l]):u[v+1].push(r,l)}else u.push(t,l)}}}function wv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function yh(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function bx(e,n,t,r){return vh(this.multi,[])}function wx(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Do(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),vh(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],vh(i,s);return s}function vh(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Qt(e,n=[]){return t=>{t.providersResolver=(r,i)=>function Cx(e,n,t){const r=Mt();if(r.firstCreatePass){const i=Ir(e);mh(t,r.data,r.blueprint,i,!0),mh(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class ts{}class Av{}class Ev extends ts{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ih(this);const r=ir(n);this._bootstrapComponents=hi(r.bootstrap),this._r3Injector=d_(n,t,[{provide:ts,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],Ut(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ch extends Av{constructor(n){super(),this.moduleType=n}create(n){return new Ev(this.moduleType,n)}}class Sx extends ts{constructor(n,t,r){super(),this.componentFactoryResolver=new ih(this),this.instance=null;const i=new bm([...n,{provide:ts,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],t||wl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Wl(e,n,t=null){return new Sx(e,n,t).injector}let Dx=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=_m(0,t.type),i=r.length>0?Wl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ot({token:e,providedIn:"environment",factory:()=>new e(Xe(Pi))}),e})();function Sv(e){e.getStandaloneInjector=n=>n.get(Dx).getOrCreateStandaloneInjector(e)}function Lr(e,n,t,r){return Fv(Ne(),Hn(),e,n,t,r)}function ra(e,n,t,r,i){return function Rv(e,n,t,r,i,s,o){const a=n+t;return Zi(e,a,i,s)?Yr(e,a+2,o?r.call(o,i,s):r(i,s)):ia(e,a+2)}(Ne(),Hn(),e,n,t,r,i)}function ia(e,n){const t=e[n];return t===_t?void 0:t}function Fv(e,n,t,r,i,s){const o=n+t;return Rn(e,o,i)?Yr(e,o+1,s?r.call(s,i):r(i)):ia(e,o+1)}function wh(e,n){const t=Mt();let r;const i=e+22;t.firstCreatePass?(r=function $x(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Xi(r.type)),o=pr(Se);try{const a=ul(!1),l=s();return ul(a),function kM(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Ne(),i,l),l}finally{pr(o)}}function Ah(e,n,t){const r=e+22,i=Ne(),s=function Cs(e,n){return e[n]}(i,r);return function sa(e,n){return e[1].data[n].pure}(i,r)?Fv(i,Hn(),n,s.transform,t,s):s.transform(t)}function Eh(e){return n=>{setTimeout(e,void 0,n)}}const kt=class Yx extends _{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Eh(s),i&&(i=Eh(i)),o&&(o=Eh(o)));const a=super.subscribe({next:i,error:s,complete:o});return n instanceof ce&&n.add(a),a}};function Xx(){return this._results[Ji()]()}class Sh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ji(),r=Sh.prototype;r[t]||(r[t]=Xx)}get changes(){return this._changes||(this._changes=new kt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=lr(n);(this._changesDetected=!function eS(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Jx,e})();const Kx=gi,Qx=class extends Kx{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tViews,i=Pl(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Yd(r,i,n),new zo(i)}};function Jx(){return zl(yn(),Ne())}function zl(e,n){return 4&e.type?new Qx(n,e,ks(e,n)):null}let Nr=(()=>{class e{}return e.__NG_ELEMENT_ID__=Zx,e})();function Zx(){return Bv(yn(),Ne())}const eP=Nr,Nv=class extends eP{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ks(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const n=cl(this._hostTNode,this._hostLView);if(Fg(n)){const t=As(n,this._hostLView),r=ws(n);return new Es(t[1].data[r+8],t)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Vv(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=n.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(n,t,r,i,s){const o=n&&!function xo(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}const l=o?n:new qo(Nt(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const U=(o?u:this.parentInjector).get(Pi,null);U&&(s=U)}const v=l.create(u,i,void 0,s);return this.insert(v.hostView,a),v}insert(n,t){const r=n._lView,i=r[1];if(function bE(e){return Pr(e[3])}(r)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const D=r[3],U=new Nv(D,D[6],D[3]);U.detach(U.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;!function QD(e,n,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=n),r<s-10?(n[4]=t[i],$g(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const o=n[17];null!==o&&t!==o&&function JD(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(o,n);const a=n[19];null!==a&&a.insertView(e),n[2]|=64}(i,r,o,s);const a=xd(s,o),l=r[11],u=Al(l,o[7]);return null!==u&&function YD(e,n,t,r,i,s){r[0]=i,r[6]=n,Wo(e,r,t,1,i,s)}(i,o[6],l,r,u,a),n.attachToViewContainerRef(),$g(Dh(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Vv(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Dd(this._lContainer,t);r&&(fl(Dh(this._lContainer),t),Hm(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=Dd(this._lContainer,t);return r&&null!=fl(Dh(this._lContainer),t)?new zo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Vv(e){return e[8]}function Dh(e){return e[8]||(e[8]=[])}function Bv(e,n){let t;const r=n[e.index];if(Pr(r))t=r;else{let i;if(8&e.type)i=fn(r);else{const s=n[11];i=s.createComment("");const o=_r(e,n);Qi(s,Al(s,o),i,function n1(e,n){return e.nextSibling(n)}(s,o),!1)}n[e.index]=t=j_(r,n,i,e),Fl(n,t)}return new Nv(t,e,n)}class Mh{constructor(n){this.queryList=n,this.matches=null}clone(){return new Mh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Th{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Th(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Wv(n,t).matches&&this.queries[t].setDirty()}}class Uv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class xh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new xh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ph{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Ph(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,rP(t,s)),this.matchTNodeWithReadOption(n,t,hl(t,n,s,!1,!1))}else r===gi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,hl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Zn||i===Nr||i===gi&&4&t.type)this.addMatch(t.index,-2);else{const s=hl(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function rP(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function sP(e,n,t,r){return-1===t?function iP(e,n){return 11&e.type?ks(e,n):4&e.type?zl(e,n):null}(n,e):-2===t?function oP(e,n,t){return t===Zn?ks(n,e):t===gi?zl(n,e):t===Nr?Bv(n,e):void 0}(e,n,r):Do(e,e[1],t,n)}function jv(e,n,t,r){const i=n[19].queries[r];if(null===i.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:sP(n,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Ih(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const o=jv(e,n,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],v=n[-l];for(let D=10;D<v.length;D++){const U=v[D];U[17]===U[3]&&Ih(U[1],U,u,r)}if(null!==v[9]){const D=v[9];for(let U=0;U<D.length;U++){const Q=D[U];Ih(Q[1],Q,u,r)}}}}}return r}function ql(e){const n=Ne(),t=Mt(),r=wg();kc(r+1);const i=Wv(t,r);if(e.dirty&&function CE(e){return 4==(4&e[2])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ih(t,n,r,[]):jv(t,n,i,r);e.reset(s,dD),e.notifyOnChanges()}return!0}return!1}function Hv(e,n,t){const r=Mt();r.firstCreatePass&&(function Gv(e,n,t){null===e.queries&&(e.queries=new xh),e.queries.track(new Ph(n,t))}(r,new Uv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function $v(e,n,t){const r=new Sh(4==(4&t));F_(e,n,r,r.destroy),null===n[19]&&(n[19]=new Th),n[19].queries.push(new Mh(r))}(r,Ne(),n)}function Wv(e,n){return e.queries.getByIndex(n)}function Kl(...e){}const Ql=new tt("Application Initializer");let Jl=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Kl,this.reject=Kl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ko(s))t.push(s);else if(ch(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Xe(Ql,8))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const aa=new tt("AppId",{providedIn:"root",factory:function cC(){return`${Nh()}${Nh()}${Nh()}`}});function Nh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dC=new tt("Platform Initializer"),Zl=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hC=new tt("appBootstrapListener");let xP=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mi=new tt("LocaleId",{providedIn:"root",factory:()=>un(mi,ut.Optional|ut.SkipSelf)||function PP(){return typeof $localize<"u"&&$localize.locale||Js}()});class FP{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let Vh=(()=>{class e{compileModuleSync(t){return new Ch(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=hi(ir(t).declarations).reduce((o,a)=>{const l=Nt(a);return l&&o.push(new qo(l)),o},[]);return new FP(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const OP=(()=>Promise.resolve(0))();function Bh(e){typeof Zone>"u"?OP.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class dn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function LP(){let e=Wt.requestAnimationFrame,n=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function BP(e){const n=()=>{!function VP(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Wt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,jh(e),e.isCheckStableRunning=!0,Uh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),jh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return gC(e),t.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),mC(e)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return gC(e),t.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),mC(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,jh(e),Uh(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dn.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(dn.isInAngularZone())throw new ze(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,NP,Kl,Kl);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const NP={};function Uh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function gC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function mC(e){e._nesting--,Uh(e)}class UP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const _C=new tt(""),eu=new tt("");let Gh,Hh=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gh||(function jP(e){Gh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dn.assertNotInAngularZone(),Bh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bh(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Xe(dn),Xe($h),Xe(eu))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),$h=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Gh?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ri=null;const yC=new tt("AllowMultipleToken"),Wh=new tt("PlatformDestroyListeners");class vC{constructor(n,t){this.name=n,this.token=t}}function bC(e,n,t=[]){const r=`Platform: ${n}`,i=new tt(r);return(s=[])=>{let o=zh();if(!o||o.injector.get(yC,!1)){const a=[...t,...s,{provide:i,useValue:!0}];e?e(a):function GP(e){if(Ri&&!Ri.get(yC,!1))throw new ze(400,!1);Ri=e;const n=e.get(AC);(function CC(e){const n=e.get(dC,null);n&&n.forEach(t=>t())})(e)}(function wC(e=[],n){return cr.create({name:n,providers:[{provide:ad,useValue:"platform"},{provide:Wh,useValue:new Set([()=>Ri=null])},...e]})}(a,r))}return function zP(e){const n=zh();if(!n)throw new ze(401,!1);return n}()}}function zh(){return Ri?.get(AC)??null}let AC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function SC(e,n){let t;return t="noop"===e?new UP:("zone.js"===e?void 0:e)||new dn(n),t}(r?.ngZone,function EC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:dn,useValue:i}];return i.run(()=>{const o=cr.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Os,null);if(!l)throw new ze(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:v=>{l.handleError(v)}});a.onDestroy(()=>{nu(this._modules,a),u.unsubscribe()})}),function DC(e,n,t){try{const r=t();return Ko(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Jl);return u.runInitializers(),u.donePromise.then(()=>(function Jy(e){rr(e,"Expected localeId to be defined"),"string"==typeof e&&(Qy=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(mi,Js)||Js),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=MC({},r);return function HP(e,n,t){const r=new Ch(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ze(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Wh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Xe(cr))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function MC(e,n){return Array.isArray(n)?n.reduce(MC,e):{...e,...n}}let tu=(()=>{class e{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new se(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new se(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{dn.assertNotInAngularZone(),Bh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{dn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function $A(...e){const n=mo(e),t=function LA(e,n){return"number"==typeof hc(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Lt(r[0]):ps(t)(en(r,n)):ii}(s,o.pipe(function GA(e={}){const{connector:n=(()=>new _),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,v=!1,D=!1;const U=()=>{a?.unsubscribe(),a=void 0},Q=()=>{U(),o=l=void 0,v=D=!1},de=()=>{const Te=o;Q(),Te?.unsubscribe()};return w((Te,ke)=>{u++,!D&&!v&&U();const Be=l=l??n();ke.add(()=>{u--,0===u&&!D&&!v&&(a=fc(de,i))}),Be.subscribe(ke),!o&&u>0&&(o=new H({next:Ye=>Be.next(Ye),error:Ye=>{D=!0,U(),a=fc(Q,t,Ye),Be.error(Ye)},complete:()=>{v=!0,U(),a=fc(Q,r),Be.complete()}}),Lt(Te).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Am;if(!this._injector.get(Jl).done)throw!i&&function ms(e){const n=Nt(e)||Un(e)||jn(e);return null!==n&&n.standalone}(t),new ze(405,false);let o;o=i?t:this._injector.get(jo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function $P(e){return e.isBoundToModule}(o)?void 0:this._injector.get(ts),u=o.create(cr.NULL,[],r||o.selector,a),v=u.location.nativeElement,D=u.injector.get(_C,null);return D?.registerApplication(v),u.onDestroy(()=>{this.detachView(u.hostView),nu(this.components,u),D?.unregisterApplication(v)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;nu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hC,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ze(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(Xe(dn),Xe(Pi),Xe(Os))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function nu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let xC=!0,ru=(()=>{class e{}return e.__NG_ELEMENT_ID__=XP,e})();function XP(e){return function KP(e,n,t){if(el(e)&&!t){const r=ar(e.index,n);return new zo(r,r)}return 47&e.type?new zo(n[16],n):null}(yn(),Ne(),16==(16&e))}class kC{constructor(){}supports(n){return Yo(n)}create(n){return new nI(n)}}const tI=(e,n)=>n;class nI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||tI}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<LC(r,i,s)?t:r,a=LC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,v=l-i;if(u!=v){for(let U=0;U<u;U++){const Q=U<s.length?s[U]:s[U]=0,de=Q+U;v<=de&&de<u&&(s[U]=Q+1)}s[o.previousIndex]=v-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Yo(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function PM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Ji()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new rI(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new OC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rI{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class OC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new iI,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class NC{constructor(){}supports(n){return n instanceof Map||oh(n)}create(){return new sI}}class sI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||oh(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new oI(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class oI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VC(){return new ou([new kC])}let ou=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||VC()),deps:[[e,new Oo,new ko]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new ze(901,!1)}}return e.\u0275prov=ot({token:e,providedIn:"root",factory:VC}),e})();function BC(){return new la([new NC])}let la=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||BC()),deps:[[e,new Oo,new ko]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new ze(901,!1)}}return e.\u0275prov=ot({token:e,providedIn:"root",factory:BC}),e})();const uI=bC(null,"core",[]);let cI=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Xe(tu))},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({}),e})();function yi(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let au=null;function Jr(){return au}const qn=new tt("DocumentToken");let Qh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:function(){return function pI(){return Xe(UC)}()},providedIn:"platform"}),e})();const gI=new tt("Location Initialized");let UC=(()=>{class e extends Qh{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jr().getBaseHref(this._doc)}onPopState(t){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){jC()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){jC()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn))},e.\u0275prov=ot({token:e,factory:function(){return function mI(){return new UC(Xe(qn))}()},providedIn:"platform"}),e})();function jC(){return!!window.history.pushState}function Jh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function HC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function vi(e){return e&&"?"!==e[0]?"?"+e:e}let rs=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:function(){return un(GC)},providedIn:"root"}),e})();const $C=new tt("appBaseHref");let GC=(()=>{class e extends rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??un(qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Xe(Qh),Xe($C,8))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_I=(()=>{class e extends rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Jh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Xe(Qh),Xe($C,8))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),Zh=(()=>{class e{constructor(t){this._subject=new kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=HC(WC(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vi(r))}normalize(t){return e.stripTrailingSlash(function vI(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,WC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=vi,e.joinWithSlash=Jh,e.stripTrailingSlash=HC,e.\u0275fac=function(t){return new(t||e)(Xe(rs))},e.\u0275prov=ot({token:e,factory:function(){return function yI(){return new Zh(Xe(rs))}()},providedIn:"root"}),e})();function WC(e){return e.replace(/\/index.html$/,"")}function eb(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}let df=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Yo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ut(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(Se(ou),Se(la),Se(Zn),Se(di))},e.\u0275dir=ht({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class rF{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let to=(()=>{class e{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new rF(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),rb(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{rb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Se(Nr),Se(gi),Se(ou))},e.\u0275dir=ht({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function rb(e,n){e.context.$implicit=n.item}let hr=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new sF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ib("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ib("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(Se(Nr),Se(gi))},e.\u0275dir=ht({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class sF{constructor(){this.$implicit=null,this.ngIf=null}}function ib(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ut(n)}'.`)}let no=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:er.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Se(Zn),Se(la),Se(di))},e.\u0275dir=ht({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),ob=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=ab}transform(t,r=ab){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function SF(e,n){return{key:e,value:n}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(Se(la,16))},e.\u0275pipe=Qn({name:"keyvalue",type:e,pure:!1,standalone:!0}),e})();function ab(e,n){const t=e.key,r=n.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let PF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({}),e})();const lb="browser";let OF=(()=>{class e{}return e.\u0275prov=ot({token:e,providedIn:"root",factory:()=>new LF(Xe(qn),window)}),e})();class LF{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function NF(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=ub(this.window.history)||ub(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ub(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class cb{}class yf extends class tR extends class fI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function hI(e){au||(au=e)}(new yf)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function nR(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}();return null==t?null:function rR(e){yu=yu||document.createElement("a"),yu.setAttribute("href",e);const n=yu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return eb(document.cookie,n)}}let yu,ha=null;const pb=new tt("TRANSITION_ID"),sR=[{provide:Ql,useFactory:function iR(e,n,t){return()=>{t.get(Jl).donePromise.then(()=>{const r=Jr(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[pb,qn,cr],multi:!0}];let aR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();const vu=new tt("EventManagerPlugins");let Cu=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(Xe(vu),Xe(dn))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();class gb{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Jr().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mb=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),fa=(()=>{class e extends mb{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(_b),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_b))}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();function _b(e){Jr().remove(e)}const vf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cf=/%COMP%/g;function bu(e,n,t){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?bu(e,i,t):(i=i.replace(Cf,e),t.push(i))}return t}function Cb(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let bf=(()=>{class e{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new wf(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Gr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Gr.ShadowDom:return new pR(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=bu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Xe(Cu),Xe(fa),Xe(aa))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();class wf{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(vf[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(wb(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(wb(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=vf[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=vf[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(er.DashCase|er.Important)?n.style.setProperty(t,r,i&er.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&er.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,Cb(r)):this.eventManager.addEventListener(n,t,Cb(r))}}function wb(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class fR extends wf{constructor(n,t,r,i){super(n),this.component=r;const s=bu(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function cR(e){return"_ngcontent-%COMP%".replace(Cf,e)}(i+"-"+r.id),this.hostAttr=function dR(e){return"_nghost-%COMP%".replace(Cf,e)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class pR extends wf{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=bu(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let gR=(()=>{class e extends gb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();const Ab=["alt","control","meta","shift"],mR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_R={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let yR=(()=>{class e extends gb{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ab.forEach(u=>{const v=r.indexOf(u);v>-1&&(r.splice(v,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=mR[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ab.forEach(o=>{o!==i&&(0,_R[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();const wR=bC(uI,"browser",[{provide:Zl,useValue:lb},{provide:dC,useValue:function vR(){yf.makeCurrent()},multi:!0},{provide:qn,useFactory:function bR(){return function SS(e){Kc=e}(document),document},deps:[]}]),Db=new tt(""),Mb=[{provide:eu,useClass:class oR{addToWindow(n){Wt.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Wt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Wt.getAllAngularRootElements=()=>n.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(r=>{const i=Wt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Jr().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:_C,useClass:Hh,deps:[dn,$h,eu]},{provide:Hh,useClass:Hh,deps:[dn,$h,eu]}],Tb=[{provide:ad,useValue:"root"},{provide:Os,useFactory:function CR(){return new Os},deps:[]},{provide:vu,useClass:gR,multi:!0,deps:[qn,dn,Zl]},{provide:vu,useClass:yR,multi:!0,deps:[qn]},{provide:bf,useClass:bf,deps:[Cu,fa,aa]},{provide:Sm,useExisting:bf},{provide:mb,useExisting:fa},{provide:fa,useClass:fa,deps:[qn]},{provide:Cu,useClass:Cu,deps:[vu,dn]},{provide:cb,useClass:aR,deps:[]},[]];let AR=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:aa,useValue:t.appId},{provide:pb,useExisting:aa},sR]}}}return e.\u0275fac=function(t){return new(t||e)(Xe(Db,12))},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({providers:[...Tb,...Mb],imports:[PF,cI]}),e})(),xb=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn))},e.\u0275prov=ot({token:e,factory:function(t){let r=null;return r=t?new t:function SR(){return new xb(Xe(qn))}(),r},providedIn:"root"}),e})();function at(...e){return en(e,mo(e))}function Oi(e,n){return A(n)?An(e,n,1):An(e,1)}function jr(e,n){return w((t,r)=>{let i=0;t.subscribe(k(r,s=>e.call(n,s,i++)&&r.next(s)))})}typeof window<"u"&&window;class Fb{}class Rb{}class Ft{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ft?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Ft;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ft?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class RR{encodeKey(n){return kb(n)}encodeValue(n){return kb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const OR=/%(\d[a-f0-9])/gi,LR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kb(e){return encodeURIComponent(e).replace(OR,(n,t)=>LR[t]??n)}function wu(e){return`${e}`}class Li{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new RR,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kR(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(wu):[wu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Li({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(wu(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(wu(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class NR{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Ob(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Lb(e){return typeof Blob<"u"&&e instanceof Blob}function Nb(e){return typeof FormData<"u"&&e instanceof FormData}class pa{constructor(n,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function VR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ft),this.context||(this.context=new NR),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Li,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ob(this.body)||Lb(this.body)||Nb(this.body)||function BR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nb(this.body)?null:Lb(this.body)?this.body.type||null:Ob(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,u=n.params||this.params;const v=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((D,U)=>D.set(U,n.setHeaders[U]),l)),n.setParams&&(u=Object.keys(n.setParams).reduce((D,U)=>D.set(U,n.setParams[U]),u)),new pa(t,r,s,{params:u,headers:l,context:v,reportProgress:a,responseType:i,withCredentials:o})}}var _n=(()=>((_n=_n||{})[_n.Sent=0]="Sent",_n[_n.UploadProgress=1]="UploadProgress",_n[_n.ResponseHeader=2]="ResponseHeader",_n[_n.DownloadProgress=3]="DownloadProgress",_n[_n.Response=4]="Response",_n[_n.User=5]="User",_n))();class Sf{constructor(n,t=200,r="OK"){this.headers=n.headers||new Ft,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Df extends Sf{constructor(n={}){super(n),this.type=_n.ResponseHeader}clone(n={}){return new Df({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Au extends Sf{constructor(n={}){super(n),this.type=_n.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Au({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Vb extends Sf{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Mf(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Eu=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof pa)s=t;else{let l,u;l=i.headers instanceof Ft?i.headers:new Ft(i.headers),i.params&&(u=i.params instanceof Li?i.params:new Li({fromObject:i.params})),s=new pa(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=at(s).pipe(Oi(l=>this.handler.handle(l)));if(t instanceof pa||"events"===i.observe)return o;const a=o.pipe(jr(l=>l instanceof Au));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(L(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(L(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(L(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(L(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Li).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mf(i,r))}post(t,r,i={}){return this.request("POST",t,Mf(i,r))}put(t,r,i={}){return this.request("PUT",t,Mf(i,r))}}return e.\u0275fac=function(t){return new(t||e)(Xe(Fb))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();class Bb{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const Ub=new tt("HTTP_INTERCEPTORS");let UR=(()=>{class e{intercept(t,r){return r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();const jR=/^\)\]\}',?\n/;let jb=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new se(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Q,de)=>i.setRequestHeader(Q,de.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Q=t.detectContentTypeHeader();null!==Q&&i.setRequestHeader("Content-Type",Q)}if(t.responseType){const Q=t.responseType.toLowerCase();i.responseType="json"!==Q?Q:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const Q=i.statusText||"OK",de=new Ft(i.getAllResponseHeaders()),Te=function HR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Df({headers:de,status:i.status,statusText:Q,url:Te}),o},l=()=>{let{headers:Q,status:de,statusText:Te,url:ke}=a(),Be=null;204!==de&&(Be=typeof i.response>"u"?i.responseText:i.response),0===de&&(de=Be?200:0);let Ye=de>=200&&de<300;if("json"===t.responseType&&"string"==typeof Be){const Pe=Be;Be=Be.replace(jR,"");try{Be=""!==Be?JSON.parse(Be):null}catch(rt){Be=Pe,Ye&&(Ye=!1,Be={error:rt,text:Be})}}Ye?(r.next(new Au({body:Be,headers:Q,status:de,statusText:Te,url:ke||void 0})),r.complete()):r.error(new Vb({error:Be,headers:Q,status:de,statusText:Te,url:ke||void 0}))},u=Q=>{const{url:de}=a(),Te=new Vb({error:Q,status:i.status||0,statusText:i.statusText||"Unknown Error",url:de||void 0});r.error(Te)};let v=!1;const D=Q=>{v||(r.next(a()),v=!0);let de={type:_n.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(de.total=Q.total),"text"===t.responseType&&!!i.responseText&&(de.partialText=i.responseText),r.next(de)},U=Q=>{let de={type:_n.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(de.total=Q.total),r.next(de)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",D),null!==s&&i.upload&&i.upload.addEventListener("progress",U)),i.send(s),r.next({type:_n.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",D),null!==s&&i.upload&&i.upload.removeEventListener("progress",U)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Xe(cb))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();const Tf=new tt("XSRF_COOKIE_NAME"),xf=new tt("XSRF_HEADER_NAME");class Hb{}let $R=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=eb(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Xe(qn),Xe(Zl),Xe(Tf))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),Pf=(()=>{class e{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(Xe(Hb),Xe(xf))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),GR=(()=>{class e{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Ub,[]);this.chain=r.reduceRight((i,s)=>new Bb(i,s),this.backend)}return this.chain.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(Xe(Rb),Xe(cr))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),WR=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Pf,useClass:UR}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Tf,useValue:t.cookieName}:[],t.headerName?{provide:xf,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({providers:[Pf,{provide:Ub,useExisting:Pf,multi:!0},{provide:Hb,useClass:$R},{provide:Tf,useValue:"XSRF-TOKEN"},{provide:xf,useValue:"X-XSRF-TOKEN"}]}),e})(),zR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({providers:[Eu,{provide:Fb,useClass:GR},jb,{provide:Rb,useExisting:jb}],imports:[WR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),e})();const{isArray:qR}=Array,{getPrototypeOf:YR,prototype:XR,keys:KR}=Object;function $b(e){if(1===e.length){const n=e[0];if(qR(n))return{args:n,keys:null};if(function QR(e){return e&&"object"==typeof e&&YR(e)===XR}(n)){const t=KR(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:JR}=Array;function If(e){return L(n=>function ZR(e,n){return JR(n)?e(...n):e(n)}(e,n))}function Gb(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let Wb=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(Se(di),Se(Zn))},e.\u0275dir=ht({type:e}),e})(),is=(()=>{class e extends Wb{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,features:[Vt]}),e})();const Zr=new tt("NgValueAccessor"),tk={provide:Zr,useExisting:Gt(()=>Ff),multi:!0};let Ff=(()=>{class e extends is{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&$e("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Qt([tk]),Vt]}),e})();const nk={provide:Zr,useExisting:Gt(()=>br),multi:!0},ik=new tt("CompositionEventMode");let br=(()=>{class e extends Wb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rk(){const e=Jr()?Jr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(Se(di),Se(Zn),Se(ik,8))},e.\u0275dir=ht({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&$e("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Qt([nk]),Vt]}),e})();function Ni(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function zb(e){return null!=e&&"number"==typeof e.length}const On=new tt("NgValidators"),Vi=new tt("NgAsyncValidators"),ok=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ga{static min(n){return function qb(e){return n=>{if(Ni(n.value)||Ni(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function Yb(e){return n=>{if(Ni(n.value)||Ni(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return Xb(n)}static requiredTrue(n){return function Kb(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function Qb(e){return Ni(e.value)||ok.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function Jb(e){return n=>Ni(n.value)||!zb(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function Zb(e){return n=>zb(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function e0(e){if(!e)return Su;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Ni(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return a0(n)}static composeAsync(n){return l0(n)}}function Xb(e){return Ni(e.value)?{required:!0}:null}function Su(e){return null}function t0(e){return null!=e}function n0(e){return Ko(e)?en(e):e}function r0(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function s0(e,n){return n.map(t=>t(e))}function o0(e){return e.map(n=>function ak(e){return!e.validate}(n)?n:t=>n.validate(t))}function a0(e){if(!e)return null;const n=e.filter(t0);return 0==n.length?null:function(t){return r0(s0(t,n))}}function Rf(e){return null!=e?a0(o0(e)):null}function l0(e){if(!e)return null;const n=e.filter(t0);return 0==n.length?null:function(t){return function ek(...e){const n=Jp(e),{args:t,keys:r}=$b(e),i=new se(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let v=0;v<o;v++){let D=!1;Lt(t[v]).subscribe(k(s,U=>{D||(D=!0,u--),a[v]=U},()=>l--,void 0,()=>{(!l||!D)&&(u||s.next(r?Gb(r,a):a),s.complete())}))}});return n?i.pipe(If(n)):i}(s0(t,n).map(n0)).pipe(L(r0))}}function kf(e){return null!=e?l0(o0(e)):null}function u0(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function c0(e){return e._rawValidators}function d0(e){return e._rawAsyncValidators}function Of(e){return e?Array.isArray(e)?e:[e]:[]}function Du(e,n){return Array.isArray(e)?e.includes(n):e===n}function h0(e,n){const t=Of(n);return Of(e).forEach(i=>{Du(t,i)||t.push(i)}),t}function f0(e,n){return Of(n).filter(t=>!Du(e,t))}class p0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Rf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=kf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Yn extends p0{get formDirective(){return null}get path(){return null}}class Bi extends p0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class g0{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wr=(()=>{class e extends g0{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(Se(Bi,2))},e.\u0275dir=ht({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Vl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Vt]}),e})(),Ar=(()=>{class e extends g0{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(Se(Yn,10))},e.\u0275dir=ht({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Vl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Vt]}),e})();const ma="VALID",Tu="INVALID",ro="PENDING",_a="DISABLED";function Bf(e){return(xu(e)?e.validators:e)||null}function _0(e){return Array.isArray(e)?Rf(e):e||null}function Uf(e,n){return(xu(n)?n.asyncValidators:e)||null}function y0(e){return Array.isArray(e)?kf(e):e||null}function xu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class b0{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=_0(this._rawValidators),this._composedAsyncValidatorFn=y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ma}get invalid(){return this.status===Tu}get pending(){return this.status==ro}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=_0(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=y0(n)}addValidators(n){this.setValidators(h0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(h0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(f0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(f0(n,this._rawAsyncValidators))}hasValidator(n){return Du(this._rawValidators,n)}hasAsyncValidator(n){return Du(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ro,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=_a,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ma,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ma||this.status===ro)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator=!0;const t=n0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?Tu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(Tu)?Tu:ma}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class ya extends b0{constructor(n,t,r){super(Bf(t),Uf(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function C0(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new ze(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function v0(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new ze(1e3,"");if(!r[t])throw new ze(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Pu(e,n){return[...n.path,e]}function va(e,n){jf(e,n),n.valueAccessor.writeValue(e.value),e.disabled&&n.valueAccessor.setDisabledState?.(!0),function mk(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&w0(e,n)})}(e,n),function yk(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function _k(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&w0(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function gk(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Iu(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Ru(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Fu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function jf(e,n){const t=c0(e);null!==n.validator?e.setValidators(u0(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=d0(e);null!==n.asyncValidator?e.setAsyncValidators(u0(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Fu(n._rawValidators,i),Fu(n._rawAsyncValidators,i)}function Ru(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=c0(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==n.validator);s.length!==i.length&&(t=!0,e.setValidators(s))}}if(null!==n.asyncValidator){const i=d0(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==n.asyncValidator);s.length!==i.length&&(t=!0,e.setAsyncValidators(s))}}}const r=()=>{};return Fu(n._rawValidators,r),Fu(n._rawAsyncValidators,r),t}function w0(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function A0(e,n){jf(e,n)}function Hf(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function S0(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $f(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===br?t=s:function bk(e){return Object.getPrototypeOf(e.constructor)===is}(s)?r=s:i=s}),i||r||t||null}const Ak={provide:Yn,useExisting:Gt(()=>Er)},Ca=(()=>Promise.resolve())();let Er=(()=>{class e extends Yn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new kt,this.form=new ya({},Rf(t),kf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ca.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),va(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ca.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ca.then(()=>{const r=this._findContainer(t.path),i=new ya({});A0(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ca.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ca.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,S0(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(Se(On,10),Se(Vi,10))},e.\u0275dir=ht({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&$e("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([Ak]),Vt]}),e})();function D0(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function M0(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ss=class extends b0{constructor(n=null,t,r){super(Bf(t),Uf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=M0(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){D0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){D0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){M0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Dk={provide:Bi,useExisting:Gt(()=>Hr)},P0=(()=>Promise.resolve())();let Hr=(()=>{class e extends Bi{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new ss,this._registered=!1,this.update=new kt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$f(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Hf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){va(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){P0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&yi(r);P0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Pu(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(Se(Yn,9),Se(On,10),Se(Vi,10),Se(Zr,10),Se(ru,8))},e.\u0275dir=ht({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qt([Dk]),Vt,or]}),e})(),Sr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ht({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Mk={provide:Zr,useExisting:Gt(()=>Gf),multi:!0};let Gf=(()=>{class e extends is{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&$e("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Qt([Mk]),Vt]}),e})(),I0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({}),e})();const Wf=new tt("NgModelWithFormControlWarning"),Fk={provide:Yn,useExisting:Gt(()=>ba)};let ba=(()=>{class e extends Yn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new kt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ru(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return va(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Iu(t.control||null,t,!1),function wk(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,S0(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Iu(r||null,t),(e=>e instanceof ss)(i)&&(va(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);A0(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function vk(e,n){return Ru(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jf(this.form,this),this._oldForm&&Ru(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(Se(On,10),Se(Vi,10))},e.\u0275dir=ht({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&$e("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([Fk]),Vt,or]}),e})();const Ok={provide:Bi,useExisting:Gt(()=>ku)};let ku=(()=>{class e extends Bi{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new kt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$f(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Hf(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Pu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(Se(Yn,13),Se(On,10),Se(Vi,10),Se(Zr,10),Se(Wf,8))},e.\u0275dir=ht({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qt([Ok]),Vt,or]}),e})();const Lk={provide:Zr,useExisting:Gt(()=>io),multi:!0};function L0(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let io=(()=>{class e extends is{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=L0(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Nk(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&$e("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([Lk]),Vt]}),e})(),Ou=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(L0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Se(Zn),Se(di),Se(io,9))},e.\u0275dir=ht({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Vk={provide:Zr,useExisting:Gt(()=>Yf),multi:!0};function N0(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Yf=(()=>{class e extends is{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Bk(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&$e("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([Vk]),Vt]}),e})(),Lu=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(N0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(N0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Se(Zn),Se(di),Se(Yf,9))},e.\u0275dir=ht({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),os=(()=>{class e{constructor(){this._validator=Su}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Su,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ht({type:e,features:[or]}),e})();const Hk={provide:On,useExisting:Gt(()=>bi),multi:!0};let bi=(()=>{class e extends os{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yi,this.createValidator=t=>Xb}enabled(t){return t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ht({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Xr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Qt([Hk]),Vt]}),e})(),q0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({imports:[I0]}),e})(),Yk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({imports:[q0]}),e})(),Xk=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Wf,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({imports:[q0]}),e})();const Qk=new tt("recaptcha-language"),Jk=new tt("recaptcha-base-url"),Zk=new tt("recaptcha-nonce-tag"),Y0=(new tt("recaptcha-settings"),new tt("recaptcha-v3-site-key")),tO_loadScript=function eO(e,n,t,r,i){window.ng2recaptchaloaded=()=>{n(grecaptcha)};const s=document.createElement("script");s.innerHTML="",s.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded${t}`,i&&(s.nonce=i),s.async=!0,s.defer=!0,document.head.appendChild(s)};let wa=(()=>{class e{constructor(t,r,i,s,o,a){this.onLoadComplete=l=>{this.grecaptcha=l,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([u,v])=>this.executeActionWithSubject(u,v)),this.actionBacklog=void 0)},this.zone=t,this.isBrowser=function kF(e){return e===lb}(i),this.siteKey=r,this.nonce=o,this.language=a,this.baseUrl=s,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new _,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new _,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(t){const r=new _;return this.isBrowser&&(this.grecaptcha?this.executeActionWithSubject(t,r):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([t,r]))),r.asObservable()}executeActionWithSubject(t,r){const i=s=>{this.zone.run(()=>{r.error(s),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:t,error:s})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:t}).then(s=>{this.zone.run(()=>{r.next(s),r.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:t,token:s})})},i)}catch(s){i(s)}})}init(){this.isBrowser&&("grecaptcha"in window?this.grecaptcha=grecaptcha:tO_loadScript(this.siteKey,this.onLoadComplete,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce))}}return e.\u0275fac=function(t){return new(t||e)(Xe(dn),Xe(Y0),Xe(Zl),Xe(Jk,8),Xe(Zk,8),Xe(Qk,8))},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})(),nO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({providers:[wa]}),e})();const rO=["addListener","removeListener"],iO=["addEventListener","removeEventListener"],sO=["on","off"];function sn(e,n,t,r){if(A(t)&&(r=t,t=void 0),r)return sn(e,n,t).pipe(If(r));const[i,s]=function lO(e){return A(e.addEventListener)&&A(e.removeEventListener)}(e)?iO.map(o=>a=>e[o](n,a,t)):function oO(e){return A(e.addListener)&&A(e.removeListener)}(e)?rO.map(X0(e,n)):function aO(e){return A(e.on)&&A(e.off)}(e)?sO.map(X0(e,n)):[];if(!i&&Le(e))return An(o=>sn(o,n,t))(Lt(e));if(!i)throw new TypeError("Invalid event target");return new se(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function X0(e,n){return t=>r=>e[t](n,r)}function on(e){return w((n,t)=>{Lt(e).subscribe(k(t,()=>t.complete(),x)),!t.closed&&n.subscribe(t)})}class uO extends ce{constructor(n,t){super()}schedule(n,t=0){return this}}const Nu={setInterval(e,n,...t){const{delegate:r}=Nu;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Nu;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},K0={now:()=>(K0.delegate||Date).now(),delegate:void 0};class Aa{constructor(n,t=Aa.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Aa.now=K0.now;const hO=new class dO extends Aa{constructor(n,t=Aa.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class cO extends uO{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return Nu.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Nu.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pe(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});var as=Ae(36),Vu=Ae.t(as,2),ei=Ae(813),pO=Ae.t(ei,2);const gO=["pdfViewerContainer"];function Xf(e,n,t){e[n]=t}function Ea(){return typeof window>"u"}Ea()||Xf(Vu,"verbosity",as.VerbosityLevel.INFOS);var so=(()=>{return(e=so||(so={}))[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",so;var e})();let yO=(()=>{class e{constructor(t,r){if(this.element=t,this.ngZone=r,this.isVisible=!1,this._cMapsUrl=typeof Vu<"u"?`https://unpkg.com/pdfjs-dist@${as.version}/cmaps/`:null,this._imageResourcesPath=typeof Vu<"u"?`https://unpkg.com/pdfjs-dist@${as.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=so.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new _,this.afterLoadComplete=new kt,this.pageRendered=new kt,this.pageInitialized=new kt,this.textLayerRendered=new kt,this.onError=new kt,this.onProgress=new kt,this.pageChange=new kt(!0),Ea())return;let i;i=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${as.version}/legacy/build/pdf.worker.min.js`,Xf(as.GlobalWorkerOptions,"workerSrc",i)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const r=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,r!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return ei.LinkTarget.BLANK;case"none":return ei.LinkTarget.NONE;case"self":return ei.LinkTarget.SELF;case"parent":return ei.LinkTarget.PARENT;case"top":return ei.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!Ea()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:so.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:r}=t;if(r.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){en(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(on(this.destroy$)).subscribe({next:t=>{const r=this._rotation||t.rotate,i=t.getViewport({scale:this._zoom,rotation:r}).width*e.CSS_UNITS;let s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:r});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer._setScale(s,o)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=e.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function mO(e,n){const t=new e.EventBus;return function _O(e,n){sn(e,"documentload").pipe(on(n)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),sn(e,"pagerendered").pipe(on(n)).subscribe(({pageNumber:t,cssTransform:r,source:i})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:r}),i.div.dispatchEvent(s)}),sn(e,"textlayerrendered").pipe(on(n)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),r.textLayerDiv.dispatchEvent(i)}),sn(e,"pagechanging").pipe(on(n)).subscribe(({pageNumber:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=t,r.container.dispatchEvent(i)}),sn(e,"pagesinit").pipe(on(n)).subscribe(({source:t})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(r)}),sn(e,"pagesloaded").pipe(on(n)).subscribe(({pagesCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(i)}),sn(e,"scalechange").pipe(on(n)).subscribe(({scale:t,presetValue:r,source:i})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=r,i.container.dispatchEvent(s)}),sn(e,"updateviewarea").pipe(on(n)).subscribe(({location:t,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=t,r.container.dispatchEvent(i)}),sn(e,"find").pipe(on(n)).subscribe(({source:t,type:r,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(t===window)return;const u=document.createEvent("CustomEvent");u.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(u)}),sn(e,"attachmentsloaded").pipe(on(n)).subscribe(({attachmentsCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),r.container.dispatchEvent(i)}),sn(e,"sidebarviewchanged").pipe(on(n)).subscribe(({view:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),r.outerContainer.dispatchEvent(i)}),sn(e,"pagemode").pipe(on(n)).subscribe(({mode:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:t}),r.pdfViewer.container.dispatchEvent(i)}),sn(e,"namedaction").pipe(on(n)).subscribe(({action:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:t}),r.pdfViewer.container.dispatchEvent(i)}),sn(e,"presentationmodechanged").pipe(on(n)).subscribe(({active:t,switchInProgress:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:r}),window.dispatchEvent(i)}),sn(e,"outlineloaded").pipe(on(n)).subscribe(({outlineCount:t,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),r.container.dispatchEvent(i)})}(t,n),t}(pO,this.destroy$),sn(this.eventBus,"pagerendered").pipe(on(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),sn(this.eventBus,"pagesinit").pipe(on(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),sn(this.eventBus,"pagechanging").pipe(on(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),sn(this.eventBus,"textlayerrendered").pipe(on(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new ei.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new ei.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:so.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Xf(Vu,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new ei.PDFViewer(this.getPDFOptions()):new ei.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const r={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?r.url=this.src:"object"===t&&(void 0!==this.src.byteLength?r.data=this.src:Object.assign(r,this.src)),r}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=as.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=r=>{this.onProgress.emit(r)};const t=this.src;en(this.loadingTask.promise).pipe(on(this.destroy$)).subscribe({next:r=>{this._pdf=r,this.lastLoaded=t,this.afterLoadComplete.emit(r),this.resetPdfDocument(),this.update()},error:r=>{this.lastLoaded=null,this.onError.emit(r)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,r){const i=this._showBorders?2*e.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(0===o||0===r||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/r,s/t);break;case"page-height":a=o/r;break;default:a=s/t}return this._zoom*a/e.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Ea()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Ea()||this.ngZone.runOutsideAngular(()=>{sn(window,"resize").pipe(function fO(e,n=hO){return w((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function l(){const u=o+e,v=n.now();if(v<u)return i=this.schedule(void 0,u-v),void r.add(i);a()}t.subscribe(k(r,u=>{s=u,o=n.now(),i||(i=n.schedule(l,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100),jr(()=>this._canAutoResize&&!!this._pdf),on(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return e.CSS_UNITS=96/72,e.BORDER_WIDTH=9,e.\u0275fac=function(t){return new(t||e)(Se(Zn),Se(dn))},e.\u0275cmp=En({type:e,selectors:[["pdf-viewer"]],viewQuery:function(t,r){if(1&t&&Hv(gO,5),2&t){let i;ql(i=function Yl(){return function aP(e,n){return e[19].queries[n].queryList}(Ne(),wg())}())&&(r.pdfViewerContainer=i.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[or],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,r){1&t&&(G(0,"div",0,1),jt(2,"div",2),z())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),e})(),vO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({}),e})();const Sa_apiBaseUrl="https://good-lime-squid-cape.cyclic.app/api";class $r extends _{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const Bu=xe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Q0(...e){const n=mo(e),t=Jp(e),{args:r,keys:i}=$b(e);if(0===r.length)return en([],n);const s=new se(function CO(e,n,t=ge){return r=>{J0(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)J0(n,()=>{const u=en(e[l],n);let v=!1;u.subscribe(k(r,D=>{s[l]=D,v||(v=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>Gb(i,o):ge));return t?s.pipe(If(t)):s}function J0(e,n,t){e?ri(t,e,n):n()}function Kf(...e){return function bO(){return ps(1)}()(en(e,mo(e)))}function Z0(e){return new se(n=>{Lt(e()).subscribe(n)})}function Da(e,n){const t=A(e)?e:()=>e,r=i=>i.error(t());return new se(n?i=>n.schedule(r,0,i):r)}function Qf(){return w((e,n)=>{let t=null;e._refCount++;const r=k(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class ew extends se{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,y(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ce;const t=this.getSubject();n.add(this.source.subscribe(k(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ce.EMPTY)}return n}refCount(){return Qf()(this)}}function ti(e,n){return w((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(k(r,l=>{i?.unsubscribe();let u=0;const v=s++;Lt(e(l,v)).subscribe(i=k(r,D=>r.next(n?n(l,D,v,u++):D),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ma(e){return e<=0?()=>ii:w((n,t)=>{let r=0;n.subscribe(k(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Uu(e){return w((n,t)=>{let r=!1;n.subscribe(k(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function tw(e=AO){return w((n,t)=>{let r=!1;n.subscribe(k(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function AO(){return new Bu}function Ui(e,n){const t=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):ge,Ma(1),t?Uu(n):tw(()=>new Bu))}function Ln(e,n,t){const r=A(e)||n||t?{next:e,error:n,complete:t}:e;return r?w((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(k(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ge}function ji(e){return w((n,t)=>{let s,r=null,i=!1;r=n.subscribe(k(t,void 0,void 0,o=>{s=Lt(e(o,ji(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function EO(e,n,t,r,i){return(s,o)=>{let a=t,l=n,u=0;s.subscribe(k(o,v=>{const D=u++;l=a?e(l,v,D):(a=!0,v),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function nw(e,n){return w(EO(e,n,arguments.length>=2,!0))}function Jf(e){return e<=0?()=>ii:w((n,t)=>{let r=[];n.subscribe(k(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rw(e,n){const t=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):ge,Jf(1),t?Uu(n):tw(()=>new Bu))}function Zf(e){return w((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const At="primary",Ta=Symbol("RouteTitle");class MO{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oo(e){return new MO(e)}function TO(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ni(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!iw(e[i],n[i]))return!1;return!0}function iw(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function sw(e){return Array.prototype.concat.apply([],e)}function ow(e){return e.length>0?e[e.length-1]:null}function Dn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Hi(e){return ch(e)?e:Ko(e)?en(Promise.resolve(e)):at(e)}const IO={exact:function uw(e,n,t){if(!us(e.segments,n.segments)||!ju(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!uw(e.children[r],n.children[r],t))return!1;return!0},subset:cw},aw={exact:function FO(e,n){return ni(e,n)},subset:function RO(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>iw(e[t],n[t]))},ignored:()=>!0};function lw(e,n,t){return IO[t.paths](e.root,n.root,t.matrixParams)&&aw[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function cw(e,n,t){return dw(e,n,n.segments,t)}function dw(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!us(i,t)||n.hasChildren()||!ju(i,t,r))}if(e.segments.length===t.length){if(!us(e.segments,t)||!ju(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!cw(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(us(e.segments,i)&&ju(e.segments,i,r)&&e.children[At])&&dw(e.children[At],n,s,r)}}function ju(e,n,t){return n.every((r,i)=>aw[t](e[i].parameters,r.parameters))}class ls{constructor(n,t,r){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oo(this.queryParams)),this._queryParamMap}toString(){return LO.serialize(this)}}class Et{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Dn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hu(this)}}class xa{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oo(this.parameters)),this._parameterMap}toString(){return gw(this)}}function us(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let hw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:function(){return new tp},providedIn:"root"}),e})();class tp{parse(n){const t=new WO(n);return new ls(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Pa(n.root,!0)}`,r=function BO(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${$u(t)}=${$u(i)}`).join("&"):`${$u(t)}=${$u(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function NO(e){return encodeURI(e)}(n.fragment)}`:""}`}}const LO=new tp;function Hu(e){return e.segments.map(n=>gw(n)).join("/")}function Pa(e,n){if(!e.hasChildren())return Hu(e);if(n){const t=e.children[At]?Pa(e.children[At],!1):"",r=[];return Dn(e.children,(i,s)=>{s!==At&&r.push(`${s}:${Pa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function OO(e,n){let t=[];return Dn(e.children,(r,i)=>{i===At&&(t=t.concat(n(r,i)))}),Dn(e.children,(r,i)=>{i!==At&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===At?[Pa(e.children[At],!1)]:[`${i}:${Pa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[At]?`${Hu(e)}/${t[0]}`:`${Hu(e)}/(${t.join("//")})`}}function fw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(e){return fw(e).replace(/%3B/gi,";")}function np(e){return fw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(e){return decodeURIComponent(e)}function pw(e){return Gu(e.replace(/\+/g,"%20"))}function gw(e){return`${np(e.path)}${function VO(e){return Object.keys(e).map(n=>`;${np(n)}=${np(e[n])}`).join("")}(e.parameters)}`}const UO=/^[^\/()?;=#]+/;function Wu(e){const n=e.match(UO);return n?n[0]:""}const jO=/^[^=?&#]+/,$O=/^[^&#]+/;class WO{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[At]=new Et(n,t)),r}parseSegment(){const n=Wu(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(n),new xa(Gu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=Wu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Wu(this.remaining);i&&(r=i,this.capture(r))}n[Gu(t)]=Gu(r)}parseQueryParam(n){const t=function HO(e){const n=e.match(jO);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function GO(e){const n=e.match($O);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=pw(t),s=pw(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ze(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=At);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[At]:new Et([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ze(4011,!1)}}function rp(e){return e.segments.length>0?new Et([],{[At]:e}):e}function zu(e){const n={};for(const r of Object.keys(e.children)){const s=zu(e.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function zO(e){if(1===e.numberOfChildren&&e.children[At]){const n=e.children[At];return new Et(e.segments.concat(n.segments),n.children)}return e}(new Et(e.segments,n))}function cs(e){return e instanceof ls}function XO(e,n,t,r,i){if(0===t.length)return ao(n.root,n.root,n.root,r,i);const s=function yw(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new _w(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Dn(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new _w(t,n,r)}(t);return s.toRoot()?ao(n.root,n.root,new Et([],{}),r,i):function o(l){const u=function QO(e,n,t,r){if(e.isAbsolute)return new lo(n.root,!0,0);if(-1===r)return new lo(t,t===n.root,0);return function vw(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ze(4005,!1);i=r.segments.length}return new lo(r,!1,i-s)}(t,r+(Ia(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,n,e.snapshot?._urlSegment,l),v=u.processChildren?Ra(u.segmentGroup,u.index,s.commands):sp(u.segmentGroup,u.index,s.commands);return ao(n.root,u.segmentGroup,v,r,i)}(e.snapshot?._lastPathIndex)}function Ia(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Fa(e){return"object"==typeof e&&null!=e&&e.outlets}function ao(e,n,t,r,i){let o,s={};r&&Dn(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(v=>`${v}`):`${l}`}),o=e===n?t:mw(e,n,t);const a=rp(zu(o));return new ls(a,s,i)}function mw(e,n,t){const r={};return Dn(e.children,(i,s)=>{r[s]=i===n?t:mw(i,n,t)}),new Et(e.segments,r)}class _w{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ia(r[0]))throw new ze(4003,!1);const i=r.find(Fa);if(i&&i!==ow(r))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lo{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function sp(e,n,t){if(e||(e=new Et([],{})),0===e.segments.length&&e.hasChildren())return Ra(e,n,t);const r=function ZO(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(Fa(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!bw(l,u,o))return s;r+=2}else{if(!bw(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Et(e.segments.slice(0,r.pathIndex),{});return s.children[At]=new Et(e.segments.slice(r.pathIndex),e.children),Ra(s,0,i)}return r.match&&0===i.length?new Et(e.segments,{}):r.match&&!e.hasChildren()?op(e,n,t):r.match?Ra(e,0,i):op(e,n,t)}function Ra(e,n,t){if(0===t.length)return new Et(e.segments,{});{const r=function JO(e){return Fa(e[0])?e[0].outlets:{[At]:e}}(t),i={};return Dn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=sp(e.children[o],n,s))}),Dn(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Et(e.segments,i)}}function op(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(Fa(s)){const l=eL(s.outlets);return new Et(r,l)}if(0===i&&Ia(t[0])){r.push(new xa(e.segments[n].path,Cw(t[0]))),i++;continue}const o=Fa(s)?s.outlets[At]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ia(a)?(r.push(new xa(o,Cw(a))),i+=2):(r.push(new xa(o,{})),i++)}return new Et(r,{})}function eL(e){const n={};return Dn(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=op(new Et([],{}),0,t))}),n}function Cw(e){const n={};return Dn(e,(t,r)=>n[r]=`${t}`),n}function bw(e,n,t){return e==t.path&&ni(n,t.parameters)}class wi{constructor(n,t){this.id=n,this.url=t}}class ap extends wi{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $i extends wi{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qu extends wi{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ww extends wi{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tL extends wi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nL extends wi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rL extends wi{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iL extends wi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sL extends wi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oL{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aL{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lL{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uL{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cL{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dL{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aw{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ew{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=lp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=lp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=up(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return up(n,this._root).map(t=>t.value)}}function lp(e,n){if(e===n.value)return n;for(const t of n.children){const r=lp(e,t);if(r)return r}return null}function up(e,n){if(e===n.value)return[n];for(const t of n.children){const r=up(e,t);if(r.length)return r.unshift(n),r}return[]}class Ai{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function uo(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class Sw extends Ew{constructor(n,t){super(n),this.snapshot=t,cp(this,n)}toString(){return this.snapshot.toString()}}function Dw(e,n){const t=function fL(e,n){const o=new Yu([],{},{},"",{},At,n,null,e.root,-1,{});return new Tw("",new Ai(o,[]))}(e,n),r=new $r([new xa("",{})]),i=new $r({}),s=new $r({}),o=new $r({}),a=new $r(""),l=new ds(r,i,o,a,s,At,n,t.root);return l.snapshot=t.root,new Sw(new Ai(l,[]),t)}class ds{constructor(n,t,r,i,s,o,a,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(L(u=>u[Ta]))??at(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(n=>oo(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(n=>oo(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mw(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function pL(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Yu{constructor(n,t,r,i,s,o,a,l,u,v,D,U){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Ta],this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=v,this._correctedLastPathIndex=U??v,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tw extends Ew{constructor(n,t){super(t),this.url=n,cp(this,t)}toString(){return xw(this._root)}}function cp(e,n){n.value._routerState=e,n.children.forEach(t=>cp(e,t))}function xw(e){const n=e.children.length>0?` { ${e.children.map(xw).join(", ")} } `:"";return`${e.value}${n}`}function dp(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ni(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),ni(n.params,t.params)||e.params.next(t.params),function xO(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ni(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),ni(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function hp(e,n){const t=ni(e.params,n.params)&&function kO(e,n){return us(e,n)&&e.every((t,r)=>ni(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||hp(e.parent,n.parent))}function ka(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function mL(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ka(e,r,i);return ka(e,r)})}(e,n,t);return new Ai(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>ka(e,a)),o}}const r=function _L(e){return new ds(new $r(e.url),new $r(e.params),new $r(e.queryParams),new $r(e.fragment),new $r(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>ka(e,s));return new Ai(r,i)}}const fp="ngNavigationCancelingError";function Pw(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=cs(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Iw(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function Iw(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[fp]=!0,r.cancellationCode=n,t&&(r.url=t),r}function Fw(e){return Rw(e)&&cs(e.url)}function Rw(e){return e&&e[fp]}class yL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Oa,this.attachRef=null}}let Oa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yL,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xu=!1;let pp=(()=>{class e{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new kt,this.deactivateEvents=new kt,this.attachEvents=new kt,this.detachEvents=new kt,this.name=i||At,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,Xu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,Xu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,Xu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ze(4013,Xu);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vL(t,a,i.injector);if(r&&function CL(e){return!!e.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Se(Oa),Se(Nr),function Mo(e){return function YE(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(xg(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(yn(),e)}("name"),Se(ru),Se(Pi))},e.\u0275dir=ht({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class vL{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ds?this.route:n===Oa?this.childContexts:this.parent.get(n,t)}}let gp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=En({type:e,selectors:[["ng-component"]],standalone:!0,features:[Sv],decls:1,vars:0,template:function(t,r){1&t&&jt(0,"router-outlet")},dependencies:[pp],encapsulation:2}),e})();function kw(e,n){return e.providers&&!e._injector&&(e._injector=Wl(e.providers,n,`Route: ${e.path}`)),e._injector??n}function _p(e){const n=e.children&&e.children.map(_p),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=gp),t}function Dr(e){return e.outlet||At}function Ow(e,n){const t=e.filter(r=>Dr(r)===n);return t.push(...e.filter(r=>Dr(r)!==n)),t}function La(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SL{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),dp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=uo(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Dn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=uo(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=uo(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=uo(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dL(s.value.snapshot))}),n.children.length&&this.forwardEvent(new uL(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(dp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dp(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=La(i.snapshot),l=a?.get(jo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class Lw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Ku{constructor(n,t){this.component=n,this.route=t}}function DL(e,n,t){const r=e._root;return Na(r,n?n._root:null,t,[r.value])}function co(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function QA(e){return null!==Ya(e)}(e)?n.get(e):e:r}function Na(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=uo(n);return e.children.forEach(o=>{(function TL(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function xL(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!us(e.url,n.url);case"pathParamsOrQueryParamsChange":return!us(e.url,n.url)||!ni(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hp(e,n)||!ni(e.queryParams,n.queryParams);default:return!hp(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Lw(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Na(e,n,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ku(a.outlet.component,o))}else o&&Va(n,a,i),i.canActivateChecks.push(new Lw(r)),Na(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Dn(s,(o,a)=>Va(o,t.getContext(a),i)),i}function Va(e,n,t){const r=uo(e),i=e.value;Dn(r,(s,o)=>{Va(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Ku(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ba(e){return"function"==typeof e}function yp(e){return e instanceof Bu||"EmptyError"===e?.name}const Qu=Symbol("INITIAL_VALUE");function ho(){return ti(e=>Q0(e.map(n=>n.pipe(Ma(1),function wO(...e){const n=mo(e);return w((t,r)=>{(n?Kf(e,t,n):Kf(e,t)).subscribe(r)})}(Qu)))).pipe(L(n=>{for(const t of n)if(!0!==t){if(t===Qu)return Qu;if(!1===t||t instanceof ls)return t}return!0}),jr(n=>n!==Qu),Ma(1)))}function Nw(e){return function Z(...e){return ue(e)}(Ln(n=>{if(cs(n))throw Pw(0,n)}),L(n=>!0===n))}const vp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vw(e,n,t,r,i){const s=Cp(e,n,t);return s.matched?function zL(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?at(i.map(o=>{const a=co(o,e);return Hi(function OL(e){return e&&Ba(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(ho(),Nw()):at(!0)}(r=kw(n,r),n,t).pipe(L(o=>!0===o?s:{...vp})):at(s)}function Cp(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...vp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||TO)(t,e,n);if(!i)return{...vp};const s={};Dn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ju(e,n,t,r,i="corrected"){if(t.length>0&&function XL(e,n,t){return t.some(r=>Zu(e,n,r)&&Dr(r)!==At)}(e,t,r)){const o=new Et(n,function YL(e,n,t,r){const i={};i[At]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const s of t)if(""===s.path&&Dr(s)!==At){const o=new Et([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,i[Dr(s)]=o}return i}(e,n,r,new Et(t,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function KL(e,n,t){return t.some(r=>Zu(e,n,r))}(e,t,r)){const o=new Et(e.segments,function qL(e,n,t,r,i,s){const o={};for(const a of r)if(Zu(e,t,a)&&!i[Dr(a)]){const l=new Et([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===s?e.segments.length:n.length,o[Dr(a)]=l}return{...i,...o}}(e,n,t,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:t}}const s=new Et(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}function Zu(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function Bw(e,n,t,r){return!!(Dr(e)===r||r!==At&&Zu(n,t,e))&&("**"===e.path||Cp(n,e,t).matched)}function Uw(e,n,t){return 0===n.length&&!e.children[t]}const ec=!1;class tc{constructor(n){this.segmentGroup=n||null}}class jw{constructor(n){this.urlTree=n}}function Ua(e){return Da(new tc(e))}function Hw(e){return Da(new jw(e))}class eN{constructor(n,t,r,i,s){this.injector=n,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const n=Ju(this.urlTree.root,[],[],this.config).segmentGroup,t=new Et(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,At).pipe(L(s=>this.createUrlTree(zu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ji(s=>{if(s instanceof jw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof tc?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,At).pipe(L(i=>this.createUrlTree(zu(i),n.queryParams,n.fragment))).pipe(ji(i=>{throw i instanceof tc?this.noMatchError(i):i}))}noMatchError(n){return new ze(4002,ec)}createUrlTree(n,t,r){const i=rp(n);return new ls(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(L(s=>new Et([],s))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return en(i).pipe(Oi(s=>{const o=r.children[s],a=Ow(t,s);return this.expandSegmentGroup(n,a,o,s).pipe(L(l=>({segment:l,outlet:s})))}),nw((s,o)=>(s[o.outlet]=o.segment,s),{}),rw())}expandSegment(n,t,r,i,s,o){return en(r).pipe(Oi(a=>this.expandSegmentAgainstRoute(n,t,r,a,i,s,o).pipe(ji(u=>{if(u instanceof tc)return at(null);throw u}))),Ui(a=>!!a),ji((a,l)=>{if(yp(a))return Uw(t,i,s)?at(new Et([],{})):Ua(t);throw a}))}expandSegmentAgainstRoute(n,t,r,i,s,o,a){return Bw(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o):Ua(t):Ua(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Hw(s):this.lineralizeSegments(r,s).pipe(An(o=>{const a=new Et(o,{});return this.expandSegment(n,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:v}=Cp(t,i,s);if(!a)return Ua(t);const D=this.applyRedirectCommands(l,i.redirectTo,v);return i.redirectTo.startsWith("/")?Hw(D):this.lineralizeSegments(i,D).pipe(An(U=>this.expandSegment(n,t,r,U.concat(u),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s){return"**"===r.path?(n=kw(r,n),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(L(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Et(i,{})))):at(new Et(i,{}))):Vw(t,r,i,n).pipe(ti(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(n=r._injector??n,r,i).pipe(An(v=>{const D=v.injector??n,U=v.routes,{segmentGroup:Q,slicedSegments:de}=Ju(t,a,l,U),Te=new Et(Q.segments,Q.children);if(0===de.length&&Te.hasChildren())return this.expandChildren(D,U,Te).pipe(L(Pe=>new Et(a,Pe)));if(0===U.length&&0===de.length)return at(new Et(a,{}));const ke=Dr(r)===s;return this.expandSegment(D,Te,U,de,ke?At:s,!0).pipe(L(Ye=>new Et(a.concat(Ye.segments),Ye.children)))})):Ua(t)))}getChildConfig(n,t,r){return t.children?at({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function WL(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?at(!0):at(i.map(o=>{const a=co(o,e);return Hi(function IL(e){return e&&Ba(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(ho(),Nw())}(n,t,r).pipe(An(i=>i?this.configLoader.loadChildren(n,t).pipe(Ln(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function JL(e){return Da(Iw(ec,3))}())):at({routes:[],injector:n})}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return at(r);if(i.numberOfChildren>1||!i.children[At])return Da(new ze(4e3,ec));i=i.children[At]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new ls(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Dn(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return Dn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,r,i)}),new Et(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new ze(4001,ec);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}class nN{}class sN{constructor(n,t,r,i,s,o,a,l){this.injector=n,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const n=Ju(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,At).pipe(L(t=>{if(null===t)return null;const r=new Yu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ai(r,t),s=new Tw(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const t=n.value,r=Mw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i)}processChildren(n,t,r){return en(Object.keys(r.children)).pipe(Oi(i=>{const s=r.children[i],o=Ow(t,i);return this.processSegmentGroup(n,o,s,i)}),nw((i,s)=>i&&s?(i.push(...s),i):null),function SO(e,n=!1){return w((t,r)=>{let i=0;t.subscribe(k(r,s=>{const o=e(s,i++);(o||n)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Uu(null),rw(),L(i=>{if(null===i)return null;const s=$w(i);return function oN(e){e.sort((n,t)=>n.value.outlet===At?-1:t.value.outlet===At?1:n.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(n,t,r,i,s){return en(t).pipe(Oi(o=>this.processSegmentAgainstRoute(o._injector??n,o,r,i,s)),Ui(o=>!!o),ji(o=>{if(yp(o))return Uw(r,i,s)?at([]):at(null);throw o}))}processSegmentAgainstRoute(n,t,r,i,s){if(t.redirectTo||!Bw(t,r,i,s))return at(null);let o;if("**"===t.path){const a=i.length>0?ow(i).parameters:{},l=Ww(r)+i.length;o=at({snapshot:new Yu(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qw(t),Dr(t),t.component??t._loadedComponent??null,t,Gw(r),l,Yw(t),l),consumedSegments:[],remainingSegments:[]})}else o=Vw(r,t,i,n).pipe(L(({matched:a,consumedSegments:l,remainingSegments:u,parameters:v})=>{if(!a)return null;const D=Ww(r)+l.length;return{snapshot:new Yu(l,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qw(t),Dr(t),t.component??t._loadedComponent??null,t,Gw(r),D,Yw(t),D),consumedSegments:l,remainingSegments:u}}));return o.pipe(ti(a=>{if(null===a)return at(null);const{snapshot:l,consumedSegments:u,remainingSegments:v}=a;n=t._injector??n;const D=t._loadedInjector??n,U=function aN(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:de}=Ju(r,u,v,U.filter(ke=>void 0===ke.redirectTo),this.relativeLinkResolution);if(0===de.length&&Q.hasChildren())return this.processChildren(D,U,Q).pipe(L(ke=>null===ke?null:[new Ai(l,ke)]));if(0===U.length&&0===de.length)return at([new Ai(l,[])]);const Te=Dr(t)===s;return this.processSegment(D,U,Q,de,Te?At:s).pipe(L(ke=>null===ke?null:[new Ai(l,ke)]))}))}}function lN(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function $w(e){const n=[],t=new Set;for(const r of e){if(!lN(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=$w(r.children);n.push(new Ai(r.value,i))}return n.filter(r=>!t.has(r))}function Gw(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Ww(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function qw(e){return e.data||{}}function Yw(e){return e.resolve||{}}function Xw(e){return"string"==typeof e.title||null===e.title}function bp(e){return ti(n=>{const t=e(n);return t?en(t).pipe(L(()=>n)):at(n)})}let Kw=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===At);return r}getResolvedTitleForRoute(t){return t.data[Ta]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ot({token:e,factory:function(){return un(Qw)},providedIn:"root"}),e})(),Qw=(()=>{class e extends Kw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(Xe(xb))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class mN{}class yN extends class _N{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const rc=new tt("",{providedIn:"root",factory:()=>({})}),wp=new tt("ROUTES");let Ap=(()=>{class e{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hi(t.loadComponent()).pipe(Ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Zf(()=>{this.componentLoaders.delete(t)})),i=new ew(r,()=>new _).pipe(Qf());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(L(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,v=!1;Array.isArray(a)?u=a:(l=a.create(t).injector,u=sw(l.get(wp,[],ut.Self|ut.Optional)));return{routes:u.map(_p),injector:l}}),Zf(()=>{this.childrenLoaders.delete(r)})),o=new ew(s,()=>new _).pipe(Qf());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Hi(t()).pipe(An(r=>r instanceof Av||Array.isArray(r)?at(r):en(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)(Xe(cr),Xe(Vh))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class CN{}class bN{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function wN(e){throw e}function AN(e,n,t){return n.parse("/")}const EN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Zw(){const e=un(hw),n=un(Oa),t=un(Zh),r=un(cr),i=un(Vh),s=un(wp,{optional:!0})??[],o=un(rc,{optional:!0})??{},a=un(Qw),l=un(Kw,{optional:!0}),u=un(CN,{optional:!0}),v=un(mN,{optional:!0}),D=new an(null,e,n,t,r,i,sw(s));return u&&(D.urlHandlingStrategy=u),v&&(D.routeReuseStrategy=v),D.titleStrategy=l??a,function DN(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}(o,D),D}let an=(()=>{class e{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _,this.errorHandler=wN,this.malformedUriErrorHandler=AN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new bN,this.routeReuseStrategy=new yN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Ap),this.configLoader.onLoadEndListener=U=>this.triggerEvent(new aL(U)),this.configLoader.onLoadStartListener=U=>this.triggerEvent(new oL(U)),this.ngModule=o.get(ts),this.console=o.get(xP);const D=o.get(dn);this.isNgZoneEnabled=D instanceof dn&&dn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function PO(){return new ls(new Et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dw(this.currentUrlTree,this.rootComponentType),this.transitions=new $r({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jr(i=>0!==i.id),L(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ti(i=>{let s=!1,o=!1;return at(i).pipe(Ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return eA(a.source)&&(this.browserUrlTree=a.extractedUrl),at(a).pipe(ti(D=>{const U=this.transitions.getValue();return r.next(new ap(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),U!==this.transitions.getValue()?ii:Promise.resolve(D)}),function tN(e,n,t,r){return ti(i=>function ZL(e,n,t,r,i){return new eN(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(L(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ln(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function cN(e,n,t,r,i,s){return An(o=>function iN(e,n,t,r,i,s,o="emptyOnly",a="legacy"){return new sN(e,n,t,r,i,o,a,s).recognize().pipe(ti(l=>null===l?function rN(e){return new se(n=>n.error(e))}(new nN):at(l)))}(e,n,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(L(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ln(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(Q,D)}this.browserUrlTree=D.urlAfterRedirects}const U=new tL(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(U)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:Q,source:de,restoredState:Te,extras:ke}=a,Be=new ap(U,this.serializeUrl(Q),de,Te);r.next(Be);const Ye=Dw(Q,this.rootComponentType).snapshot;return at(i={...a,targetSnapshot:Ye,urlAfterRedirects:Q,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ii}),Ln(a=>{const l=new nL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),L(a=>i={...a,guards:DL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function NL(e,n){return An(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?at({...t,guardsResult:!0}):function VL(e,n,t,r){return en(e).pipe(An(i=>function GL(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?at(s.map(a=>{const l=La(n)??i,u=co(a,l);return Hi(function kL(e){return e&&Ba(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):l.runInContext(()=>u(e,n,t,r))).pipe(Ui())})).pipe(ho()):at(!0)}(i.component,i.route,t,n,r)),Ui(i=>!0!==i,!0))}(o,r,i,e).pipe(An(a=>a&&function PL(e){return"boolean"==typeof e}(a)?function BL(e,n,t,r){return en(n).pipe(Oi(i=>Kf(function jL(e,n){return null!==e&&n&&n(new lL(e)),at(!0)}(i.route.parent,r),function UL(e,n){return null!==e&&n&&n(new cL(e)),at(!0)}(i.route,r),function $L(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function ML(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>Z0(()=>at(o.guards.map(l=>{const u=La(o.node)??t,v=co(l,u);return Hi(function RL(e){return e&&Ba(e.canActivateChild)}(v)?v.canActivateChild(r,e):u.runInContext(()=>v(r,e))).pipe(Ui())})).pipe(ho())));return at(s).pipe(ho())}(e,i.path,t),function HL(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const i=r.map(s=>Z0(()=>{const o=La(n)??t,a=co(s,o);return Hi(function FL(e){return e&&Ba(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(Ui())}));return at(i).pipe(ho())}(e,i.route,t))),Ui(i=>!0!==i,!0))}(r,s,e,n):at(a)),L(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ln(a=>{if(i.guardsResult=a.guardsResult,cs(a.guardsResult))throw Pw(0,a.guardsResult);const l=new rL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),jr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),bp(a=>{if(a.guards.canActivateChecks.length)return at(a).pipe(Ln(l=>{const u=new iL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),ti(l=>{let u=!1;return at(l).pipe(function dN(e,n){return An(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return at(t);let s=0;return en(i).pipe(Oi(o=>function hN(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!Xw(i)&&(s[Ta]=i.title),function fN(e,n,t,r){const i=function pN(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return at({});const s={};return en(i).pipe(An(o=>function gN(e,n,t,r){const i=La(n)??r,s=co(e,i);return Hi(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[o],n,t,r).pipe(Ui(),Ln(a=>{s[o]=a}))),Jf(1),function DO(e){return L(()=>e)}(s),ji(o=>yp(o)?ii:Da(o)))}(s,e,n,r).pipe(L(o=>(e._resolvedData=o,e.data=Mw(e,t).resolve,i&&Xw(i)&&(e.data[Ta]=i.title),null)))}(o.route,r,e,n)),Ln(()=>s++),Jf(1),An(o=>s===i.length?at(t):ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ln({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ln(l=>{const u=new sL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),bp(a=>{const l=u=>{const v=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ln(D=>{u.component=D}),L(()=>{})));for(const D of u.children)v.push(...l(D));return v};return Q0(l(a.targetSnapshot.root)).pipe(Uu(),Ma(1))}),bp(()=>this.afterPreactivation()),L(a=>{const l=function gL(e,n,t){const r=ka(e,n._root,t?t._root:void 0);return new Sw(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,n,t)=>L(r=>(new SL(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ln({next(){s=!0},complete(){s=!0}}),Zf(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ji(a=>{if(o=!0,Rw(a)){Fw(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new qu(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),Fw(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eA(i.source)};this.scheduleNavigation(u,"imperative",null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new ww(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(_p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,v=l?this.currentUrlTree.fragment:o;let D=null;switch(a){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),XO(u,this.currentUrlTree,t,D,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function MN(e){for(let n=0;n<e.length;n++){if(null==e[n])throw new ze(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...EN}:!1===r?{...SN}:r,cs(t))return lw(this.currentUrlTree,t,i);const s=this.parseUrl(t);return lw(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $i(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((U,Q)=>{a=U,l=Q});const v=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:v,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(U=>Promise.reject(U))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new qu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){Ld()},e.\u0275prov=ot({token:e,factory:function(){return Zw()},providedIn:"root"}),e})();function eA(e){return"imperative"!==e}let hs=(()=>{class e{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new _,this.subscription=t.events.subscribe(s=>{s instanceof $i&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=yi(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=yi(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=yi(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){return!!(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(Se(an),Se(ds),Se(rs))},e.\u0275dir=ht({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&$e("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Xr("target",r.target)("href",r.href,rd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[or]}),e})();class tA{}let PN=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(jr(t=>t instanceof $i),Oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Wl(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return en(i).pipe(ps())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const s=i.pipe(An(o=>null===o?at(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?en([s,this.loader.loadComponent(r)]).pipe(ps()):s})}}return e.\u0275fac=function(t){return new(t||e)(Xe(an),Xe(Vh),Xe(Pi),Xe(tA),Xe(Ap))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sp=new tt("");let nA=(()=>{class e{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ap?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $i&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Aw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Aw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){Ld()},e.\u0275prov=ot({token:e,factory:e.\u0275fac}),e})();function fo(e,n){return{\u0275kind:e,\u0275providers:n}}function Dp(e){return[{provide:wp,multi:!0,useValue:e}]}function iA(){const e=un(cr);return n=>{const t=e.get(tu);if(n!==t.components[0])return;const r=e.get(an),i=e.get(sA);1===e.get(Mp)&&r.initialNavigation(),e.get(oA,null,ut.Optional)?.setUpPreloading(),e.get(Sp,null,ut.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const sA=new tt("",{factory:()=>new _}),Mp=new tt("",{providedIn:"root",factory:()=>1});const oA=new tt("");function kN(e){return fo(0,[{provide:oA,useExisting:PN},{provide:tA,useExisting:e}])}const aA=new tt("ROUTER_FORROOT_GUARD"),ON=[Zh,{provide:hw,useClass:tp},{provide:an,useFactory:Zw},Oa,{provide:ds,useFactory:function rA(e){return e.routerState.root},deps:[an]},Ap];function LN(){return new vC("Router",an)}let lA=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[ON,[],Dp(t),{provide:aA,useFactory:UN,deps:[[an,new ko,new Oo]]},{provide:rc,useValue:r||{}},r?.useHash?{provide:rs,useClass:_I}:{provide:rs,useClass:GC},{provide:Sp,useFactory:()=>{const e=un(an),n=un(OF),t=un(rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nA(e,n,t)}},r?.preloadingStrategy?kN(r.preloadingStrategy).\u0275providers:[],{provide:vC,multi:!0,useFactory:LN},r?.initialNavigation?jN(r):[],[{provide:uA,useFactory:iA},{provide:hC,multi:!0,useExisting:uA}]]}}static forChild(t){return{ngModule:e,providers:[Dp(t)]}}}return e.\u0275fac=function(t){return new(t||e)(Xe(aA,8))},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({imports:[gp]}),e})();function UN(e){return"guarded"}function jN(e){return["disabled"===e.initialNavigation?fo(3,[{provide:Ql,multi:!0,useFactory:()=>{const n=un(an);return()=>{n.setUpLocationChangeListener()}}},{provide:Mp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?fo(2,[{provide:Mp,useValue:0},{provide:Ql,multi:!0,deps:[cr],useFactory:n=>{const t=n.get(gI,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=n.get(an),a=n.get(sA);(function i(s){n.get(an).events.pipe(jr(a=>a instanceof $i||a instanceof qu||a instanceof ww),L(a=>a instanceof $i||a instanceof qu&&(0===a.code||1===a.code)&&null),jr(a=>null!==a),Ma(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?at(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const uA=new tt("");class cA{constructor(n,t){const r=new String((new Date).toLocaleString()),i=r.substring(0,r.indexOf(" ")).split("/");this._id="",this.familycode=n,this.useremail=t,this.itemName="",this.price="",this.memo="",this.cyear=i[0],this.cmonth=i[1],this.cday=i[2],this.itemtype="",this.locate="",this.shop=""}reset(){const n=new String((new Date).toLocaleString()),t=n.substring(0,n.indexOf(" ")).split("/");this._id="",this.itemName="",this.price="",this.memo="",this.cyear=t[0],this.cmonth=t[1],this.cday=t[2],this.itemtype="",this.locate="",this.shop=""}}const ac=new tt("Browser Storage",{providedIn:"root",factory:()=>localStorage});class Tp{constructor(){this.familycode="",this.name="",this.email="",this.familyname="",this.role="",this.paid="",this.duedate="",this.paytype="",this.password="",this.keep=!0}}let ja=(()=>{class e{constructor(t,r){this.http=t,this.storage=r,this.apiBaseUrl=Sa_apiBaseUrl}editAccount(t){const r=`${this.apiBaseUrl}/fmaccount/${t._id}`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.put(r,t,i)}login(t){return this.http.post(`${this.apiBaseUrl}/login`,t)}register(t){return this.http.post(`${this.apiBaseUrl}/fmregister`,t)}checkAccount(t){return this.http.post(`${this.apiBaseUrl}/isuser`,{name:t})}delItem(t){const r=`${this.apiBaseUrl}/fmaccount/${t}`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.delete(r,i)}getName(){const t=this.getCurrentUser();let r="";return t&&(r=t.name),r}getToken(){let t="";const r=this.storage.getItem("userObj");return r&&(t=(null===r?"":JSON.parse(r)).token),t}newAccount(t){const r=`${this.apiBaseUrl}/fmaccount`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.post(r,t,i)}saveLocalConsume(t){const r=this.storage.getItem("LocalConsume");var i=JSON.parse(r);null==i&&(i=[]),i.push(t),this.storage.setItem("LocalConsume",JSON.stringify(i))}readLocalConsume(){const t=this.storage.getItem("LocalConsume");var r=JSON.parse(t);return null==r&&(r=[]),r}getCurrentUser(){const t=this.storage.getItem("userObj");if(t){let r=null===t?"":JSON.parse(t),{familycode:i,email:s,name:o,familyname:a,role:l,paid:u,duedate:v,paytype:D}=r;return{familycode:i,email:s,name:o,familyname:a,role:l,paid:u,duedate:v,paytype:D}}}}return e.\u0275fac=function(t){return new(t||e)(Xe(Eu),Xe(ac))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mr=(()=>{class e{constructor(t,r){this.dataService=t,this.storage=r}getToken(){let t="";const r=this.storage.getItem("userObj");return r&&(t=(null===r?"":JSON.parse(r)).token),t}login(t){return this.dataService.login(t)}register(t){return this.dataService.register(t)}logout(){return this.storage.removeItem("userObj"),!0}isLoggedIn(){let t=!1;const r=this.storage.getItem("userObj");if(r){const s=(null===r?"":JSON.parse(r)).token;t=JSON.parse(atob(s.split(".")[1])).exp>Date.now()/1e3}else t=!1;return t}getCurrentUser(){const t=this.storage.getItem("userObj");let r=new Tp;if(null!==t){let i=null===t?"":JSON.parse(t),{familycode:s,email:o,name:a,familyname:l,role:u,paid:v,duedate:D,paytype:U}=i;void 0!==a&&"\u6f58\u4e01\u745c"===a&&(u="SystemAdmin"),r={familycode:s,email:o,name:a,familyname:l,role:u,paid:v,duedate:D,paytype:U}}return r}getFamilyName(){let t="";const r=this.storage.getItem("userObj");let i=null===r?"":JSON.parse(r);return""!==i&&(t=i.familyname),t}isPaid(){let t=!1;const r=this.storage.getItem("userObj");let i=null===r?"":JSON.parse(r);return""!==i&&(t="Y"===i.paid),t}isUser(t){return this.dataService.checkAccount(t)}saveItem(t,r){null!==this.storage.getItem(t)&&this.storage.removeItem(t),this.storage.setItem(t,r)}getItem(t){let r=this.storage.getItem(t);return("undefined"===r||null===r)&&(r=""),r}getName(){return this.getItem("faccount-name")}getMail(){return this.getItem("faccount-email")}}return e.\u0275fac=function(t){return new(t||e)(Xe(ja),Xe(ac))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $N(e,n){if(1&e&&(G(0,"span"),te(1),z()),2&e){const t=We(2);fe(1),cn("(",t.familyInfo.name,")")}}function GN(e,n){if(1&e&&(G(0,"div",19),te(1),z()),2&e){const t=We(2);fe(1),cn(" ",t.formError," ")}}const WN=function(e){return{height:e}};function zN(e,n){if(1&e){const t=Cn();G(0,"div")(1,"form",1),$e("ngSubmit",function(){return it(t),st(We().onConsumeSubmit())}),G(2,"h4"),te(3,"\u65b0\u589e\u6d88\u8cbb\u9805\u76ee"),et(4,$N,2,1,"span",0),z(),et(5,GN,2,1,"div",2),G(6,"div",3)(7,"div",4)(8,"span",5)(9,"span",6),te(10,"*"),z(),te(11,"\u540d\u7a31\uff1a"),z()(),G(12,"input",7),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.itemName=i)}),z()(),G(13,"div",3)(14,"div",4)(15,"span",5)(16,"span",6),te(17,"*"),z(),te(18,"\u50f9\u9322\uff1a"),z()(),G(19,"input",8),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.price=i)}),z()(),G(20,"div",3)(21,"div",4)(22,"span",9),te(23,"\u8aaa\u660e\uff1a"),z()(),G(24,"textarea",10),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.memo=i)}),te(25,"            "),z()(),G(26,"div",3)(27,"div",4)(28,"span",5)(29,"span",6),te(30,"*"),z(),te(31,"\u65e5\u671f\uff1a"),z()(),G(32,"input",11),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cyear=i)}),z(),G(33,"span",12),te(34,"/"),z(),G(35,"input",13),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cmonth=i)}),z(),G(36,"span",12),te(37,"/"),z(),G(38,"input",14),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cday=i)}),z()(),G(39,"div",15)(40,"div",16)(41,"button",17),te(42,"\u5132\u5b58"),z(),G(43,"button",18),$e("click",function(){return it(t),st(We().formClear())}),te(44,"\u53d6\u6d88"),z()()()()()}if(2&e){const t=We();fe(4),Ee("ngIf",t.familyInfo),fe(1),Ee("ngIf",t.formError),fe(7),Ee("ngModel",t.newConsume.itemName),fe(7),Ee("ngModel",t.newConsume.price),fe(3),Ee("ngStyle",Lr(10,WN,t.hgt+"px")),fe(2),Ee("ngModel",t.newConsume.memo),fe(8),Ee("ngModel",t.newConsume.cyear),fe(3),Ee("ngModel",t.newConsume.cmonth),fe(3),Ee("ngModel",t.newConsume.cday),fe(3),Ee("disabled",t.disableBtn)}}let qN=(()=>{class e{constructor(t,r,i){this.router=t,this.authenticationService=r,this.dataService=i,this.hgt="62",this.formVisible=!1,this.formError="",this.listCunsume=[],this.disableBtn=!1,this.GetFamily()}ngOnInit(){this.authenticationService.isLoggedIn()?setTimeout(()=>{this.adjustMemoHeight()},1e3):this.router.navigateByUrl("/login")}adjustMemoHeight(){if(this.familyInfo){const r=document.getElementById("memo").getBoundingClientRect();this.hgt=r.height.toString()}}isLoggedIn(){return this.getUsername(),this.authenticationService.isLoggedIn()}getUsername(){const t=this.authenticationService.getCurrentUser();return t&&t.name&&(this.newConsume.useremail=t.email),t?t.name:"Guest"}onConsumeSubmit(){let t="";""===this.newConsume.itemName&&(t+="\u540d\u7a31\u672a\u586b;"),""===this.newConsume.price&&(t+="\u50f9\u9322\u672a\u586b;"),""===this.newConsume.cyear&&(t+="\u8cb7\u5e74\u672a\u586b;"),""===this.newConsume.cmonth&&(t+="\u8cb7\u6708\u672a\u586b;"),""===this.newConsume.cday&&(t+="\u8cb7\u65e5\u672a\u586b;"),""===t?(console.log(this.newConsume),this.disableBtn=!0,this.dataService.newAccount(this.newConsume).subscribe(r=>{const i=r;"Created"==i.message?(this.formError="\u65b0\u589e\u6210\u529f",this.formClear(),this.disableBtn=!1):(this.formError=i.message,this.disableBtn=!1)})):this.formError=t}formClear(){this.newConsume&&this.newConsume.reset()}hidedError(){this.formError=""}GetFamily(){const t=this.authenticationService.getCurrentUser();if(t){const{familycode:r,email:i,name:s,familyname:o,role:a,paid:l,duedate:u,paytype:v}=t;this.familyInfo={familycode:r,email:i,name:s,familyname:o,role:a,paid:l,duedate:u,paytype:v},this.newConsume=new cA(t.familycode,t.email)}}}return e.\u0275fac=function(t){return new(t||e)(Se(an),Se(Mr),Se(ja))},e.\u0275cmp=En({type:e,selectors:[["app-add-item"]],decls:3,vars:1,consts:[[4,"ngIf"],["role","form",3,"ngSubmit"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"star"],["id","itemName","name","itemName","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","price","name","price","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"input-group-text",3,"ngStyle"],["name","memo","id","memo","rows","2",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","cyear","name","cyear","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"slash"],["id","cmonth","name","cmonth","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","cday","name","cday","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"row","fMargin"],[1,"offset-md-3","col-md-6"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-warning",2,"margin-left","100px",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br"),et(2,zN,45,12,"div",0)),2&t&&(fe(2),Ee("ngIf",r.newConsume))},dependencies:[hr,no,Sr,br,wr,Ar,bi,Hr,Er],styles:[".star[_ngcontent-%COMP%]{color:red}"]}),e})(),Ei=(()=>{class e{constructor(t,r){this.http=t,this.storage=r,this.apiBaseUrl=Sa_apiBaseUrl}getToken(){let t="";const r=this.storage.getItem("userObj");return r&&(t=(null===r?"":JSON.parse(r)).token),t}listFamilies(){const t=`${this.apiBaseUrl}/listfamilies`,r={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.get(t,r)}savePayRec(t){const r=`${this.apiBaseUrl}/savePayRec`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.post(r,t,i)}CreatUser(t){const r=`${this.apiBaseUrl}/fmlyuser`;console.log(r);const i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.post(r,t,i)}UpdateUser(t){const r=`${this.apiBaseUrl}/fmlyuser`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.put(r,t,i)}DelUser(t){const r=`${this.apiBaseUrl}/fmlyuser/${t}`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.delete(r,i)}QueryUser(t){const r=`${this.apiBaseUrl}/fmlyuser`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.patch(r,t,i)}ChangePws(t){console.log(t);const r=`${this.apiBaseUrl}/changePws`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.post(r,t,i)}ForgetPws(t){return this.http.post(`${this.apiBaseUrl}/forgetpws`,t)}verifyReCaptcha(t){return this.http.post(`${this.apiBaseUrl}/reCaptchaValidate`,{recaptcha:t,version:"v3"})}SuggestCreate(t){const r=`${this.apiBaseUrl}/suggest`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.post(r,t,i)}SuggestUpdate(t){const r=`${this.apiBaseUrl}/suggest`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.put(r,t,i)}SuggestQuery(t){const r=`${this.apiBaseUrl}/suggest`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.patch(r,t,i)}SuggestDelete(t){const r=`${this.apiBaseUrl}/suggest/${t}`,i={headers:new Ft({Authorization:`Bearer ${this.getToken()}`})};return this.http.delete(r,i)}getDateTimeStr(){return this.getDateStr()+this.getTimeStr()}getDateStr(){const r=(new Date).toLocaleDateString().split("/");return r[0]+(1===r[1].length?"0"+r[1]:r[1])+(1===r[2].length?"0"+r[2]:r[2])}getTimeStr(){const r=(new Date).toTimeString().split(":");return r[0]+r[1]+r[2].split(" ")[0]}}return e.\u0275fac=function(t){return new(t||e)(Xe(Eu),Xe(ac))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dA=(()=>{class e{constructor(t,r){this.http=t,this.storage=r,this.apiBaseUrl=Sa_apiBaseUrl}readMonthItems(t){const r=`${this.apiBaseUrl}/fmaccount`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.patch(r,t,i)}getParasByName(t){const r=`${this.apiBaseUrl}/paras`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.patch(r,t,i)}setParasByName(t){const r=`${this.apiBaseUrl}/paras`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.post(r,t,i)}queryFamilyMembers(t){const r=`${this.apiBaseUrl}/listFmUsers`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.post(r,{familycode:t},i)}setIncome(t){const r=`${this.apiBaseUrl}/income`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.post(r,t,i)}queryIncomes(t,r){const i=`${this.apiBaseUrl}/income`,s={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.patch(i,{familycode:t,yearmonth:r},s)}delIncome(t){const r=`${this.apiBaseUrl}/income/${t}`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.delete(r,i)}delById(t){const r=`${this.apiBaseUrl}/paras/${t}`,i={headers:new Ft({Authorization:`Bearer ${this.storage.getItem("faccount-token")}`})};return this.http.delete(r,i)}}return e.\u0275fac=function(t){return new(t||e)(Xe(Eu),Xe(ac))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function YN(e,n){if(1&e&&(G(0,"div",20)(1,"div",21),te(2),z()()),2&e){const t=We();fe(2),cn(" ",t.formError," ")}}function XN(e,n){if(1&e&&(G(0,"option",22),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function KN(e,n){if(1&e&&(G(0,"option",22),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function QN(e,n){if(1&e&&(G(0,"option",22),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.key)}}function JN(e,n){if(1&e){const t=Cn();G(0,"button",26),$e("click",function(){return it(t),st(We(2).clearButdge())}),te(1,"\u56de\u4e3b\u9801"),z()}}function ZN(e,n){if(1&e){const t=Cn();G(0,"tr")(1,"td"),te(2),z(),G(3,"td"),te(4),z(),G(5,"td"),te(6),z(),G(7,"td"),te(8),z(),G(9,"td")(10,"button",26),$e("click",function(){const s=it(t).$implicit;return st(We(2).delIncome(s))}),te(11,"\u522a\u9664"),z()()()}if(2&e){const t=n.$implicit,r=We(2);fe(2),xt(t.yearmonth),fe(2),xt(r.email2Name(t.useremail)),fe(2),xt(t.amount),fe(2),xt(t.incometitle)}}function e2(e,n){if(1&e&&(G(0,"div"),et(1,JN,2,0,"button",23),G(2,"table",24)(3,"tr")(4,"td"),te(5,"\u5e74\u6708"),z(),G(6,"td"),te(7,"\u6210\u54e1"),z(),G(8,"td"),te(9,"\u91d1\u984d"),z(),G(10,"td"),te(11,"\u4f86\u6e90"),z(),G(12,"td"),te(13,"\u522a\u9664"),z()(),et(14,ZN,12,4,"tr",25),z()()),2&e){const t=We();fe(1),Ee("ngIf",t.fmIncomesShow),fe(13),Ee("ngForOf",t.fmIncomes)}}const hA=function(e){return{height:e}};let fA=(()=>{class e{constructor(t,r,i){this.admin=t,this.analystService=r,this.auth=i,this.formError="",this.isShowMain=!0,this.cyear="",this.cmonth="",this.cincome=0,this.cmember="",this.incomeTitle="",this.viewModel={years:["2020"],months:["01","02","03","04","05","06","07","08","09","10","11","12"],users:[{key:"all",value:"all"}]},this.fmlyUsers=[],this.fmIncomes=[],this.fmIncomesShow=!1,this.paraMartin={paraName:"",paraType:"monthBudget",paraText:"",paraNo:0,paraMemo:"Martin"},this.paraKaty={paraName:"",paraType:"monthBudget",paraText:"",paraNo:0,paraMemo:"Katy"},this.hgt="20",this.paraAll=[]}ngOnInit(){this.adjustInputWidth(),this.checkViewModel();const t=new Date;this.cyear=t.getFullYear().toString(),this.cmonth=(t.getMonth()+1).toString(),this.cmonth=1===this.cmonth.length?"0"+this.cmonth:this.cmonth,setTimeout(()=>{this.cmember=this.currentUser.email},500)}adjustInputWidth(){const r=document.getElementById("divLength").getBoundingClientRect();this.hgt=r.height.toString()}checkViewModel(){const t=this.auth.getCurrentUser();this.currentUser={familycode:t.familycode,email:t.email,name:t.name,familyname:t.familyname,role:t.role,paid:t.paid,duedate:t.duedate,password:"",paytype:"",keep:!1};const r=Number.parseInt(this.viewModel.years[0]),i=(new Date).getFullYear();let s=r+1;for(;s<=i;)this.viewModel.years.push(s.toString()),s+=1;this.checkViewModelUsers()}checkViewModelUsers(){""!==this.currentUser.familycode&&this.admin.QueryUser({familycode:this.currentUser.familycode,email:this.currentUser.email,aName:this.currentUser.name,familyName:this.currentUser.familyname}).subscribe({next:r=>{if("success"===r.message){this.fmlyUsers=r.data,this.viewModel.users=[];for(const i of r.data)("admin"===this.currentUser?.role||this.currentUser?.email===i.email)&&this.viewModel.users.push({key:i.name,value:i.email})}else this.formError=r.message},error:r=>{this.formError=r.error.message}})}GetYearMonth(){return this.cyear+(1===this.cmonth.length?"0"+this.cmonth:this.cmonth)}queryIncomes(){this.formError="",this.analystService.queryIncomes(this.currentUser.familycode,this.cyear+this.cmonth).subscribe({next:t=>{console.log(t);const{message:r,data:i}=t;"success"===r&&i.length>0?(this.fmIncomes=i,document.getElementById("mainForm").style.display="none",this.fmIncomesShow=this.fmIncomes.length>0):this.formError=`${this.cyear}\u5e74${this.cmonth}\u6708\u5c1a\u672a\u8a2d\u5b9a\u6536\u5165\u8cc7\u6599!!`},error:t=>{this.formError=t.error.message}})}setIncome(){if(this.formError="",""===this.cmember&&(this.formError+="\u8acb\u9078\u53d6\u6210\u54e1;"),""===this.incomeTitle&&(this.formError+="\u8acb\u8f38\u5165\u4f86\u6e90;"),0===this.cincome&&(this.formError+="\u8acb\u8f38\u5165\u91d1\u984d;"),""===this.formError){const{familycode:t}=this.auth.getCurrentUser(),r={familycode:t,useremail:this.cmember,incometitle:this.incomeTitle,amount:this.cincome,yearmonth:this.cyear+this.cmonth};console.log(r),this.analystService.setIncome(r).subscribe({next:i=>{const{message:s}=i;"success"===s&&(this.formError="\u6536\u5165\u8a2d\u5b9a\u5b8c\u6210;",this.incomeTitle="",this.cincome=0)},error:i=>{this.formError=i.error.message}})}}searchName(t){let r="";return this.viewModel.users.every(i=>!i||i.value!==t||(r=i.key,!1)),r}MartinBlur(){this.paraKaty.paraNo=this.paraMartin.paraNo}clearButdge(){document.getElementById("mainForm").style.display="block",this.fmIncomes=[],this.fmIncomesShow=!1,this.formError=""}delIncome(t){this.formError="";const r=this.searchName(t.useremail);confirm(`\u78ba\u5b9a\u8981\u522a\u9664${r}(${t.yearmonth})\u7684${t.incometitle}?`)&&this.analystService.delIncome(t._id).subscribe({next:i=>{const{message:s}=i;if("success"===s){this.formError=`${r}(${t.yearmonth})\u7684${t.incometitle}\u522a\u9664\u6210\u529f;`;for(var o=0;o<this.fmIncomes.length;o++)this.fmIncomes[o]._id===t._id&&this.fmIncomes.splice(o,1)}else this.formError=s},error:i=>{this.formError=i.error.message}})}email2Name(t){let r="";for(let i=0;i<this.fmlyUsers.length;i++){const s=this.fmlyUsers[i];s.email===t&&(r=s.name)}return r}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(dA),Se(Mr))},e.\u0275cmp=En({type:e,selectors:[["app-butget"]],decls:47,vars:16,consts:[["class","row",4,"ngIf"],["role","form","id","mainForm",3,"ngSubmit"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","cyear","required","","name","cyear",1,"col-12","col-md-5","form-control","ctrlColor",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slash"],["id","cmonth","required","","name","cmonth",1,"col-12","col-md-5","form-control","ctrlColor",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"appand","fa",3,"ngStyle"],["id","cmember","required","","name","cmember",1,"col-12","col-md-5","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","divLength",1,"input-group","fMargin"],["type","text","id","incomeTitle","name","incomeTitle","required","required",1,"col-12","col-md-5","form-control",3,"ngModel","ngModelChange"],["type","number","id","cincome","name","cincome","required","required",1,"col-12","col-md-5","form-control",3,"ngModel","ngModelChange"],[1,"row","fMargin"],[1,"col-12","col-md-6"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"],[4,"ngIf"],[1,"row"],["role","alert",1,"alert","alert-danger"],[3,"value"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"tb3103"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div"),et(4,YN,3,1,"div",0),G(5,"form",1),$e("ngSubmit",function(){return r.queryIncomes()}),G(6,"h4"),te(7,"\u6536\u5165\u7ba1\u7406"),z(),G(8,"div",2)(9,"div",3)(10,"span",4),te(11,"\u5e74\u6708\uff1a"),z()(),G(12,"select",5),$e("ngModelChange",function(s){return r.cyear=s}),et(13,XN,2,2,"option",6),z(),G(14,"span",7),te(15,"/"),z(),G(16,"select",8),$e("ngModelChange",function(s){return r.cmonth=s}),et(17,KN,2,2,"option",6),z(),G(18,"div",9)(19,"span",10),te(20,"\u2207"),z()()(),G(21,"div",2)(22,"div",3)(23,"span",4),te(24,"\u6210\u54e1\uff1a"),z()(),G(25,"select",11),$e("ngModelChange",function(s){return r.cmember=s}),et(26,QN,2,2,"option",6),z(),G(27,"div",9)(28,"span",10),te(29,"\u2207"),z()()(),G(30,"div",12)(31,"div",3)(32,"span",4),te(33,"\u4f86\u6e90\uff1a"),z()(),G(34,"input",13),$e("ngModelChange",function(s){return r.incomeTitle=s}),z()(),G(35,"div",12)(36,"div",3)(37,"span",4),te(38,"\u91d1\u984d\uff1a"),z()(),G(39,"input",14),$e("ngModelChange",function(s){return r.cincome=s}),z()(),G(40,"div",15)(41,"div",16)(42,"button",17),te(43,"\u67e5\u8a62"),z(),G(44,"button",18),$e("click",function(){return r.setIncome()}),te(45,"\u8a2d\u5b9a"),z()()()(),et(46,e2,15,2,"div",19),z()),2&t&&(fe(4),Ee("ngIf",r.formError),fe(8),Ee("ngModel",r.cyear),fe(1),Ee("ngForOf",r.viewModel.years),fe(3),Ee("ngModel",r.cmonth),fe(1),Ee("ngForOf",r.viewModel.months),fe(2),Ee("ngStyle",Lr(12,hA,r.hgt+"px")),fe(6),Ee("ngModel",r.cmember),fe(1),Ee("ngForOf",r.viewModel.users),fe(2),Ee("ngStyle",Lr(14,hA,r.hgt+"px")),fe(6),Ee("ngModel",r.incomeTitle),fe(5),Ee("ngModel",r.cincome),fe(7),Ee("ngIf",r.fmIncomesShow))},dependencies:[to,hr,no,Sr,Ou,Lu,br,Gf,io,wr,Ar,bi,Hr,Er],styles:[".appand[_ngcontent-%COMP%]{background-color:#fafad2;color:gray;font-weight:100;padding:10px 5px 0;border-bottom-right-radius:3px;border-top-right-radius:3px;border-left:0px}select[_ngcontent-%COMP%]:focus-within{background:lightyellow;color:#04b104}input[_ngcontent-%COMP%]:focus{background:lightyellow;color:#04b104}.tb3103[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid rgb(90,109,150);width:100%}table.tb3103[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-collapse:collapse;border:1px solid rgb(90,109,150);padding:5px}"]}),e})();function t2(e,n){if(1&e&&(G(0,"div",15),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError,"")}}const xp=function(e,n){return{"fa-eye-slash":e,"fa-eye":n}};let n2=(()=>{class e{constructor(t,r,i){this.admin=t,this.auth=r,this.recaptchaV3Service=i,this.model=new ya({email:new ss("null",ga.required),oldPassword:new ss(null,ga.required),password:new ss(null,ga.required),newPassword:new ss(null,ga.required)}),this.formError="",this.oldPasswordTextType=!0,this.passwordTextType=!0,this.newPasswordTextType=!0,this.user=this.auth.getCurrentUser(),this.model.setValue({email:this.user.email,oldPassword:null,password:null,newPassword:null})}ngOnInit(){}onChangePassword(){let t="";this.model.controls.oldPassword.value||(t+="\u820a\u5bc6\u78bc\u672a\u586b;"),this.model.controls.password.value||(t+="\u65b0\u5bc6\u78bc\u672a\u586b;"),this.model.controls.newPassword.value||(t+="\u78ba\u8a8d\u65b0\u5bc6\u78bc\u672a\u586b;"),this.model.controls.password.value!==this.model.controls.newPassword.value&&(this.formError=""),""!==t?this.formError=t:this.recaptchaV3Service.execute("importantAction").subscribe(r=>{this.admin.verifyReCaptcha(r).subscribe(i=>{i.success?this.admin.ChangePws(this.model.value).subscribe({next:s=>{""===s.message?(this.formError=s.data,this.model.setValue({email:this.user.email,oldPassword:null,password:null,newPassword:null})):this.formError=s.message},error:s=>{this.formError=s.error.message}}):this.formError=i.message})})}setNewPasswordText(){this.newPasswordTextType=!this.newPasswordTextType}setPasswordText(){this.passwordTextType=!this.passwordTextType}setOldPasswordText(){this.oldPasswordTextType=!this.oldPasswordTextType}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(Mr),Se(wa))},e.\u0275cmp=En({type:e,selectors:[["app-changepassword"]],decls:38,vars:18,consts:[[1,"row"],[1,"col-12"],[2,"color","gold"],["role","alert","class","alert alert-danger",4,"ngIf"],[3,"formGroup","submit"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"form-control"],[1,"input-group","mb-3","fMargin"],["id","oldPassword","name","oldPassword","placeholder","\u8f38\u5165\u820a\u5bc6\u78bc","formControlName","oldPassword","autocomplete","off",1,"form-control",3,"type"],[1,"fa",3,"ngClass","click"],["id","password","name","password","placeholder","\u8f38\u5165\u65b0\u5bc6\u78bc","formControlName","password","autocomplete","off",1,"form-control",3,"type"],["id","newPassword","name","newPassword","placeholder","\u78ba\u8a8d\u65b0\u5bc6\u78bc","formControlName","newPassword","autocomplete","off",1,"form-control",3,"type"],["type","submit","role","button",1,"btn","btn-primary","fMargin"],["role","alert",1,"alert","alert-danger"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0)(4,"div",1)(5,"h4",2),te(6,"\u4fee\u6539\u500b\u4eba\u5bc6\u78bc "),z(),et(7,t2,2,1,"div",3),G(8,"form",4),$e("submit",function(){return r.onChangePassword()}),G(9,"div",5)(10,"div",6)(11,"span",7),te(12,"Email\uff1a"),z()(),G(13,"span",8),te(14),z()(),G(15,"div",9)(16,"div",6)(17,"span",7),te(18,"\u820a\u5bc6\u78bc\uff1a"),z()(),jt(19,"input",10),G(20,"span",7)(21,"i",11),$e("click",function(){return r.setOldPasswordText()}),z()()(),G(22,"div",9)(23,"div",6)(24,"span",7),te(25,"\u65b0\u5bc6\u78bc\uff1a"),z()(),jt(26,"input",12),G(27,"span",7)(28,"i",11),$e("click",function(){return r.setPasswordText()}),z()()(),G(29,"div",9)(30,"div",6)(31,"span",7),te(32,"\u518d\u78ba\u8a8d\uff1a"),z()(),jt(33,"input",13),G(34,"span",7)(35,"i",11),$e("click",function(){return r.setNewPasswordText()}),z()()(),G(36,"button",14),te(37,"\u9001\u51fa"),z()()()()),2&t&&(fe(7),Ee("ngIf",r.formError),fe(1),Ee("formGroup",r.model),fe(6),xt(r.model.value.email),fe(5),Ee("type",r.oldPasswordTextType?"password":"text"),fe(2),Ee("ngClass",ra(9,xp,r.oldPasswordTextType,!r.oldPasswordTextType)),fe(5),Ee("type",r.passwordTextType?"password":"text"),fe(2),Ee("ngClass",ra(12,xp,r.passwordTextType,!r.passwordTextType)),fe(5),Ee("type",r.newPasswordTextType?"password":"text"),fe(2),Ee("ngClass",ra(15,xp,r.newPasswordTextType,!r.newPasswordTextType)))},dependencies:[df,hr,Sr,br,wr,Ar,ba,ku]}),e})();function r2(e,n){if(1&e&&(G(0,"div",15),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError,"")}}function i2(e,n){if(1&e){const t=Cn();G(0,"button",11),$e("click",function(){return it(t),st(We().addSave())}),te(1,"\u65b0\u589e"),z()}}function s2(e,n){if(1&e){const t=Cn();G(0,"button",11),$e("click",function(){return it(t),st(We().editSave())}),te(1,"\u5132\u5b58"),z()}}function o2(e,n){if(1&e){const t=Cn();G(0,"button",11),$e("click",function(){return it(t),st(We().resetPassword())}),te(1,"\u91cd\u8a2d\u5bc6\u78bc"),z()}}function a2(e,n){if(1&e){const t=Cn();G(0,"tr")(1,"td"),te(2),z(),G(3,"td",16),te(4),z(),G(5,"td",16),te(6),z(),G(7,"td")(8,"button",17),$e("click",function(i){const o=it(t).$implicit;return st(We().editUser(i,o))}),te(9,"\u7de8\u8f2f"),z()(),G(10,"td")(11,"button",18),$e("click",function(i){const o=it(t).$implicit;return st(We().delUser(i,o))}),te(12,"\u522a\u9664"),z()()()}if(2&e){const t=n.$implicit;fe(2),xt(t.name),fe(2),xt(t.role),fe(2),xt(t.email),fe(2),Ee("disabled","member"!==t.role),fe(3),Ee("disabled","member"!==t.role)}}let l2=(()=>{class e{constructor(t,r,i){this.admin=t,this.auth=r,this.recaptchaV3Service=i,this.fmly={familycode:"",aName:"",familyName:"",email:""},this.user={familycode:"",name:"",role:"",email:""},this.updateFlag=!1,this.mailDisabled=!1,this.formError=""}ngOnInit(){const t=this.auth.getCurrentUser();this.fmly={familycode:t.familycode,email:t.email,aName:t.name,familyName:t.familyname},this.members=[{familycode:t.familycode,name:t.name,role:"admin",email:t.email}],this.queryAllUser()}queryAllUser(){this.formError="",""!==this.fmly.familycode?this.recaptchaV3Service.execute("importantAction").subscribe(t=>{this.admin.verifyReCaptcha(t).subscribe(r=>{r.success?this.admin.QueryUser(this.fmly).subscribe({next:i=>{if("success"===i.message)for(const s of i.data)s.email!=this.fmly.email&&this.members?.push({familycode:s.familycode,email:s.email,role:"member",name:s.name});else this.formError=i.message},error:i=>{this.formError=i.error.message}}):this.formError=r.message})}):this.formError="\u7121\u6cd5\u8b80\u53d6\u5bb6\u5ead\u78bc\u6216\u5c1a\u672a\u7533\u8acb\u5efa\u7acb\u5bb6\u5ead\u8a18\u5e33"}editUser(t,r){this.formError="","member"===r.role?(this.user=r,this.mailDisabled=!0,this.updateFlag=!0):this.formError=`${r.name}\u662f\u7ba1\u7406\u4eba\u54e1\u4e0d\u53ef\u7de8\u8f2f`}delUser(t,r){this.formError="",this.recaptchaV3Service.execute("importantAction").subscribe(i=>{this.admin.verifyReCaptcha(i).subscribe(s=>{s.success?confirm(`\u78ba\u5b9a\u8981\u522a\u9664\u7528\u6236(${r.name})?`)&&this.admin.DelUser(r.email).subscribe({next:o=>{if(""===o.message){this.formError=`\u7528\u6236(${r.name})\u5df2\u522a\u9664!`;const a=this.members.findIndex(l=>l.email===r.email);this.members.splice(a,1)}},error:o=>{this.formError=o.error.message}}):this.formError=s.message})})}addSave(){this.formError="",""===this.user.name&&(this.formError+="\u59d3\u540d\u672a\u586b;"),""===this.user.email&&(this.formError+="Email\u672a\u586b;"),""===this.formError&&this.recaptchaV3Service.execute("importantAction").subscribe(t=>{this.admin.verifyReCaptcha(t).subscribe(r=>{console.log(r),r.success?(this.user.familycode=this.fmly.familycode,this.user.role="member",console.log(this.user),this.admin.CreatUser(this.user).subscribe({next:i=>{""===i.message?(this.members?.push(this.user),this.cancels(`\u5df2\u65b0\u589e\u7528\u6236${this.user.name}\uff0c\u5bc6\u78bc\uff1a${i.data}`)):this.formError=i.message},error:i=>{this.formError=i.error.message}})):this.formError=r.message})})}editSave(){if(this.formError="",""!==this.user.name)return""===this.user.email?(this.formError+="\u7121Email\u4e0d\u53ef\u7de8\u8f2f;",void this.cancel()):(this.recaptchaV3Service.execute("importantAction").subscribe(t=>{this.admin.verifyReCaptcha(t).subscribe(r=>{r.success?this.admin.UpdateUser(this.user).subscribe({next:i=>{""===i.message?(this.cancel(),this.formError=i.data):this.formError=i.message},error:i=>{this.formError=i.error.message}}):this.formError=r.message})}),void(this.mailDisabled=!1));this.formError+="\u59d3\u540d\u4e0d\u53ef\u7a7a\u767d;"}cancel(){this.updateFlag=!1,this.user=new Tp,this.mailDisabled=!1}cancels(t){this.cancel(),this.formError=t}resetPassword(){}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(Mr),Se(wa))},e.\u0275cmp=En({type:e,selectors:[["app-createfmlymember"]],decls:43,vars:11,consts:[[1,"row"],[1,"col-12"],["role","alert","class","alert alert-danger",4,"ngIf"],["aria-hidden","true",1,"glyphicon","glyphicon-question-sign"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","name","name","name","placeholder","\u5bb6\u5ead\u6210\u54e1\u59d3\u540d",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","fMargin",2,"margin","20px  0px 20px 0px"],["type","button","class","btn btn-primary","style","margin-left: 100px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"],[1,"table-wrapper-scroll-y","my-custom-scrollbar"],[1,"table","table-striped","table-primary"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-danger"],[1,"text-right"],["type","button",1,"btn","btn-primary","fMargin",3,"disabled","click"],["type","button",1,"btn","btn-danger","fMargin",3,"disabled","click"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0)(4,"div",1)(5,"form"),et(6,r2,2,1,"div",2),G(7,"div"),te(8),jt(9,"span",3),z(),G(10,"div",4)(11,"div",5)(12,"span",6),te(13,"\u59d3\u540d"),z()(),G(14,"input",7),$e("ngModelChange",function(s){return r.user.name=s}),z()(),G(15,"div",4)(16,"div",5)(17,"span",6),te(18,"Email\uff1a"),z()(),G(19,"input",8),$e("ngModelChange",function(s){return r.user.email=s}),z()()(),G(20,"div",9)(21,"div",1),et(22,i2,2,0,"button",10),et(23,s2,2,0,"button",10),et(24,o2,2,0,"button",10),G(25,"button",11),$e("click",function(){return r.cancel()}),te(26,"\u53d6\u6d88"),z()()(),G(27,"div",12)(28,"table",13)(29,"thead")(30,"tr")(31,"th"),te(32,"\u59d3\u540d"),z(),G(33,"th"),te(34,"\u89d2\u8272"),z(),G(35,"th"),te(36,"Email"),z(),G(37,"th"),te(38,"\u7de8\u8f2f"),z(),G(39,"th"),te(40,"\u522a\u9664"),z()()(),G(41,"tbody"),et(42,a2,13,5,"tr",14),z()()()()()),2&t&&(fe(6),Ee("ngIf",r.formError),fe(2),Ul("",r.fmly.familyName,"\u8ca1\u52d9\u7ba1\u7406\u4eba\uff1a",r.fmly.aName,"(",r.fmly.familycode,") "),fe(6),Ee("ngModel",r.user.name),fe(5),Ee("ngModel",r.user.email)("disabled",r.mailDisabled),fe(3),Ee("ngIf",!r.updateFlag),fe(1),Ee("ngIf",r.updateFlag),fe(1),Ee("ngIf",!1),fe(18),Ee("ngForOf",r.members))},dependencies:[to,hr,Sr,br,wr,Ar,Hr,Er]}),e})();function u2(e,n){if(1&e&&(G(0,"div",10),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError,"")}}let c2=(()=>{class e{constructor(t){this.admin=t,this.model=new ya({email:new ss(null,ga.required)}),this.formError="",this.formError="\u8f38\u5165email\u4ee5\u4fbf\u8b8a\u66f4\u5bc6\u78bc!"}ngOnInit(){}onChangePassword(){this.formError="",this.model.controls.email.value?this.admin.ForgetPws(this.model.value).subscribe({next:t=>{"success"===t.message?(this.formError=t.data,this.model.setValue({email:null})):this.formError=t.message},error:t=>{this.formError=t.error.message}}):this.formError="\u65b0\u5bc6\u78bc\u672a\u586b;"}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei))},e.\u0275cmp=En({type:e,selectors:[["app-forgetpassword"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-12"],[2,"color","gold"],["role","alert","class","alert alert-danger",4,"ngIf"],[3,"formGroup","submit"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ","formControlName","email",1,"form-control"],["type","submit","role","button",1,"btn","btn-primary","fMargin"],["role","alert",1,"alert","alert-danger"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0)(4,"div",1)(5,"h4",2),te(6,"\u5fd8\u8a18\u5bc6\u78bc(\u91cd\u8a2d) "),z(),et(7,u2,2,1,"div",3),G(8,"form",4),$e("submit",function(){return r.onChangePassword()}),G(9,"div",5)(10,"div",6)(11,"span",7),te(12,"Email\uff1a"),z()(),jt(13,"input",8),z(),G(14,"button",9),te(15,"\u9001\u51fa"),z()()()()),2&t&&(fe(7),Ee("ngIf",r.formError),fe(1),Ee("formGroup",r.model))},dependencies:[hr,Sr,br,wr,Ar,ba,ku]}),e})(),d2=(()=>{class e{constructor(t,r){this.authenticationService=t,this.dataService=r,this.hgt="62",this.familyName="",this.formVisible=!1,this.formError="",this.listCunsume=[]}ngOnInit(){this.formClear(),this.familyName=this.authenticationService.getFamilyName()}isLoggedIn(){return this.getUsername(),this.authenticationService.isLoggedIn()}getUsername(){const t=this.authenticationService.getCurrentUser();return t&&t.name&&(this.newConsume.useremail=t.email,this.newConsume.familycode=t.familycode),t?t.name:"Guest"}onConsumeSubmit(){let t="";""===this.newConsume.itemName&&(t+="\u540d\u7a31\u672a\u586b;"),""===this.newConsume.price&&(t+="\u50f9\u9322\u672a\u586b;"),""===this.newConsume.cyear&&(t+="\u8cb7\u5e74\u672a\u586b;"),""===this.newConsume.cmonth&&(t+="\u8cb7\u6708\u672a\u586b;"),""===this.newConsume.cday&&(t+="\u8cb7\u65e5\u672a\u586b;"),""===t?void 0===this.familyInfo?this.dataService.saveLocalConsume(this.newConsume):this.dataService.newAccount(this.newConsume).subscribe(r=>{const i=r;"Created"==i.message?(this.formError="\u65b0\u589e\u6210\u529f",this.formClear()):this.formError=i.message}):this.formError=t}formClear(){const t=new String((new Date).toLocaleString());t.substr(0,t.indexOf(" ")).split("/")}hidedError(){this.formError=""}}return e.\u0275fac=function(t){return new(t||e)(Se(Mr),Se(ja))},e.\u0275cmp=En({type:e,selectors:[["app-homepage"]],decls:59,vars:0,consts:[[1,"title"],[1,"divclass"],[1,"hometext2"],[2,"color","green"],[1,"hometext"],[1,"hometext3"]],template:function(t,r){1&t&&(G(0,"h2",0),te(1,"\u7c21\u6613\u5feb\u901f"),z(),G(2,"div",1)(3,"h2",2),te(4,"\u8a2d\u7acb\u672c\u7db2\u7ad9\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u8b93"),G(5,"span",3),te(6,"\u8a18\u5e33"),z(),te(7,"\u8b8a\u5f97\u7c21\u55ae\u5feb\u901f\uff0c"),z(),G(8,"h2",2),te(9,"\u8b93\u4f60\u9858\u610f\u82b1\u4e00\u9ede\u9ede\u6642\u9593\u4f86"),G(10,"span",3),te(11,"\u8a18\u5e33"),z()(),G(12,"h2",2),te(13,"\u53ef\u4ee5\u7c21\u55ae\u7684\u7d71\u8a08\u5bb6\u5ead\u4e2d\u6bcf\u500b\u6708\u6bcf\u4e00\u500b\u6210\u54e1\u7684\u6536\u5165\u8207\u652f\u51fa\uff0c"),z(),G(14,"h2",2),te(15,"\u4ee5\u53ca\u5bb6\u5ead\u7e3d\u6536\u5165\u8207\u7e3d\u652f\u51fa\uff0c\u4ee5\u4f5c\u70ba\u672a\u4f86\u5bb6\u5ead\u6536\u652f\u898f\u5283\u7684\u53c3\u8003\u3002"),z(),G(16,"h2",4),te(17,"\u4e00\u500b\u4eba\u6216\u4e00\u500b\u5bb6\u5ead\u5728\u5fd9\u788c\u7684\u5de5\u5546\u793e\u6703\u4e2d\u5162\u5162\u696d\u696d\u7684\u8f9b\u52e4\u5de5\u4f5c\uff0c"),z(),G(18,"h2",4),te(19,"\u9664\u4e86\u8ffd\u6c42\u6210\u5c31\u611f\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u91d1\u9322\u4e86\u3002"),z(),G(20,"h2",4),te(21,"\u6522\u4e0b\u5f88\u591a\u9322\u4e0d\u5916\u4e4e\u7528\u65bc\u63d0\u9ad8\u751f\u6d3b\u54c1\u8cea\u6216\u6295\u8cc7\u751f\u66f4\u591a\u9322\uff0c\u4ee5\u5099\u4e0d\u6642\u4e4b\u9700\u3002"),z(),G(22,"h2",5),te(23,"\u6536\u5165\u3001\u652f\u51fa\u3001\u751f\u6d3b\u54c1\u8cea\u662f\u4e0d\u662f\u9700\u8981\u4e00\u500b\u5e73\u8861\u9ede?"),z(),G(24,"h2",5),te(25,"\u8981\u5982\u4f55\u638c\u63e1\u9019\u500b\u5e73\u8861\u9ede?"),z(),G(26,"h2",5),te(27,"\u9996\u5148\u8981\u77e5\u9053\u81ea\u5df1\u8cfa\u4e86\u591a\u5c11\u9322\uff0c\u82b1\u4e86\u591a\u5c11\u9322\u3002"),z(),G(28,"h2",5),te(29,"\u90a3\u4e9b\u9322\u662f\u4e00\u5b9a\u8981\u82b1\u7684\uff0c\u90a3\u4e9b\u9322\u662f\u53ef\u4ee5\u7701\u7684\u3002"),z(),G(30,"h2",4)(31,"span",3),te(32,"\u8a18\u5e33"),z(),te(33,"\u9019\u4ef6\u4e8b\u9019\u6642\u5019\u986f\u7684\u91cd\u8981\u4e86"),z(),G(34,"h2",4)(35,"span",3),te(36,"\u8a18\u5e33"),z(),te(37,"\u8ab0\u4e0d\u77e5\u9053\u5b83\u7684\u91cd\u8981\u6027?\u4f46\u6709\u5e7e\u500b\u4eba\u80fd\u505a\u5230\u5462?"),z(),G(38,"h2",4)(39,"span",3),te(40,"\u8a18\u5e33"),z(),te(41,"\u4e0d\u662f\u4ef6\u56f0\u96e3\u4e8b\uff0c\u537b\u5f88\u5c11\u4eba\u80fd\u6301\u4e4b\u4ee5\u6046?"),z(),G(42,"h2",4)(43,"span",3),te(44,"\u8a18\u5e33"),z(),te(45,"\u4e0d\u662f\u4f5c\u4e0d\u5230\uff0c\u53ea\u56e0\u70ba\u592a\u7e41\u7463\uff0c\u8b93\u4eba\u4e0d\u60f3\u505a!"),z(),G(46,"h2",4),te(47,"\u672c\u7c21\u6613\u5feb\u901f\u7684"),G(48,"span",3),te(49,"\u8a18\u5e33"),z(),te(50,"\u7db2\u7ad9\uff0c\u7c21\u6613\u5feb\u901f\u7684\u8a18\u5e33\u65b9\u5f0f\uff0c"),z(),G(51,"h2",4),te(52,"\u8b93\u4f60\u9858\u610f\u5728\u5fd9\u788c\u7684\u751f\u6d3b\u4e2d\uff0c\u64a5\u4e00\u9ede\u9ede\u6642\u9593\u4f86"),G(53,"span",3),te(54,"\u8a18\u5e33"),z(),te(55,"!!"),z(),jt(56,"h2")(57,"h2")(58,"h2"),z())},styles:[".divclass[_ngcontent-%COMP%]{background-image:url(homebg3.3ff20910fda99bdd.png);height:1080px;background-size:contain;background-repeat:no-repeat;background-position:top;background-size:100% 100%;margin-top:200px;padding:0;opacity:.3}.title[_ngcontent-%COMP%]{position:fixed;top:15%;font-size:50px;left:30%;color:#000}.title2[_ngcontent-%COMP%]{position:fixed;font-size:70px;left:100px;top:60%;width:5em;margin-top:-2.5em}h1[_ngcontent-%COMP%]{background:linear-gradient(to top,#3a1c71,#d76d77,#ffaf7b);-webkit-background-clip:text;background-clip:text;color:transparent}.hometext[_ngcontent-%COMP%]{color:red;font-weight:1000;padding-top:18px;margin:0 30px 0 20px}.hometext3[_ngcontent-%COMP%]{color:#d76d77;font-weight:1000;padding-top:18px;margin:0 30px 0 20px}.hometext2[_ngcontent-%COMP%]{color:purple;font-weight:1000;padding-top:20px;margin:0 30px 0 20px}"]}),e})(),pA=(()=>{class e{constructor(t){this.router=t,this.urls=[],this.router.events.pipe(jr(r=>r instanceof $i)).subscribe(r=>{this.urls=[...this.urls,r.urlAfterRedirects]})}getPreviousUrl(){const t=this.urls.length;return t>1?this.urls[t-2]:"/"}getLastNonLoginUrl(){const t=["/register","/login"],r=this.urls.filter(s=>!t.includes(s)),i=r.length;return i>1?r[i-1]:"/"}}return e.\u0275fac=function(t){return new(t||e)(Xe(an))},e.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function h2(e,n){if(1&e&&(G(0,"div",16),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError,"")}}let f2=(()=>{class e{constructor(t,r,i,s,o){this.admin=t,this.router=r,this.authenticationService=i,this.historyService=s,this.recaptchaV3Service=o,this.formError="",this.credentials={name:"",email:"",password:"",keep:!0}}ngOnInit(){let{name:t,email:r,password:i,keep:s}=this.authenticationService.getCurrentUser();this.credentials={name:t,email:r,password:i,keep:s},this.credentials.keep=!0,this.credentials.email=this.authenticationService.getMail(),this.credentials.name=this.authenticationService.getName()}onLoginSubmit(){this.formError="",this.recaptchaV3Service.execute("importantAction").subscribe(t=>{this.admin.verifyReCaptcha(t).subscribe(r=>{r.success?this.credentials.email&&this.credentials.password?this.doLogin():this.formError="\u5168\u90e8\u6b04\u4f4d\u90fd\u5fc5\u586b":this.formError=r.message})})}doLogin(){this.credentials.name=this.captalCase(this.credentials.name);const t=new Tp;t.email=this.credentials.email,t.password=this.credentials.password,t.name=this.credentials.name,t.keep=this.credentials.keep,this.authenticationService.login(t).subscribe({next:r=>{""===r.message?(JSON.parse(r.data),this.authenticationService.saveItem("userObj",r.data),this.credentials.keep?(this.authenticationService.saveItem("faccount-name",this.credentials.name),this.authenticationService.saveItem("faccount-email",this.credentials.email)):(this.authenticationService.saveItem("faccount-name",""),this.authenticationService.saveItem("faccount-email","")),this.router.navigateByUrl(this.historyService.getLastNonLoginUrl())):this.formError=r.message},error:r=>{this.formError=r.error.message}})}clearErr(){this.formError="",this.credentials.name=""}captalCase(t){return t?t.replace(/\w\S*/g,r=>r[0].toUpperCase()+r.substr(1).toLowerCase()):""}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(an),Se(Mr),Se(pA),Se(wa))},e.\u0275cmp=En({type:e,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"loginTitle"],[3,"submit"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","name","name","name","placeholder","\u8f38\u5165\u5e33\u865f",1,"form-control",3,"ngModel","focus","ngModelChange"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password","name","password","placeholder","\u8f38\u5165\u5bc6\u78bc",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","role","button",1,"btn","btn-primary"],["type","checkbox","name","keepLocal",1,"fCheck",3,"ngModel","ngModelChange"],["for","keepLocal"],[1,"lead"],["routerLink","/register",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0)(4,"div",1)(5,"h3",2),te(6,"\u767b\u5165\u8a18\u5e33\u7db2\u7ad9"),z()(),G(7,"div",1)(8,"form",3),$e("submit",function(){return r.onLoginSubmit()}),et(9,h2,2,1,"div",4),G(10,"div",5)(11,"div",6)(12,"span",7),te(13,"\u59d3\u540d\uff1a"),z()(),G(14,"input",8),$e("focus",function(){return r.clearErr()})("ngModelChange",function(s){return r.credentials.name=s}),z()(),G(15,"div",5)(16,"div",6)(17,"span",7),te(18,"Email\uff1a"),z()(),G(19,"input",9),$e("ngModelChange",function(s){return r.credentials.email=s}),z()(),G(20,"div",5)(21,"div",6)(22,"span",7),te(23,"\u5bc6 \u78bc\uff1a"),z()(),G(24,"input",10),$e("ngModelChange",function(s){return r.credentials.password=s}),z()(),G(25,"button",11),te(26,"\u767b\u5165"),z(),G(27,"input",12),$e("ngModelChange",function(s){return r.credentials.keep=s}),z(),G(28,"label",13),te(29,"\u4fdd\u7559\u5e33\u865f\uff0c\u4e0b\u6b21\u4e0d\u7528\u8f38\u5165"),z(),G(30,"span",14),te(31,"\u4e0d\u662f\u6703\u54e1\u8acb\u5148 "),G(32,"a",15),te(33,"\u8a3b \u518a"),z()()()()()),2&t&&(fe(9),Ee("ngIf",r.formError),fe(5),Ee("ngModel",r.credentials.name),fe(5),Ee("ngModel",r.credentials.email),fe(5),Ee("ngModel",r.credentials.password),fe(3),Ee("ngModel",r.credentials.keep))},dependencies:[hr,hs,Sr,br,Ff,wr,Ar,Hr,Er],styles:["input[type=password][_ngcontent-%COMP%]{-webkit-text-security:square}"]}),e})();class Pp{}function p2(e,n){if(1&e&&(G(0,"div",19),te(1),z()),2&e){const t=We(2);fe(1),cn(" ",t.formError," ")}}const g2=function(e){return{height:e}};function m2(e,n){if(1&e){const t=Cn();G(0,"div")(1,"form",2),$e("ngSubmit",function(){return it(t),st(We().onEditSubmit())}),G(2,"h4"),te(3,"\u4fee\u6539\u6d88\u8cbb\u9805\u76ee"),z(),et(4,p2,2,1,"div",3),jt(5,"hr"),G(6,"div",4)(7,"div",5)(8,"span",6),te(9,"\u540d\u7a31\uff1a"),z()(),G(10,"input",7),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.itemName=i)}),z()(),G(11,"div",4)(12,"div",5)(13,"span",6),te(14,"\u50f9\u9322\uff1a"),z()(),G(15,"input",8),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.price=i)}),z()(),G(16,"div",4)(17,"div",5)(18,"span",9),te(19,"\u8aaa\u660e\uff1a"),z()(),G(20,"textarea",10),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.memo=i)}),te(21,"            "),z()(),G(22,"div",4)(23,"div",5)(24,"span",6),te(25,"\u65e5\u671f\uff1a"),z()(),G(26,"input",11),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cyear=i)}),z(),G(27,"span",12),te(28,"/"),z(),G(29,"input",13),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cmonth=i)}),z(),G(30,"span",12),te(31,"/"),z(),G(32,"input",14),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().newConsume.cday=i)}),z()(),G(33,"div",15)(34,"div",16)(35,"button",17),te(36,"\u5132\u5b58"),z(),G(37,"button",18),$e("click",function(){return it(t),st(We().editCancel())}),te(38,"\u53d6\u6d88"),z()()()()()}if(2&e){const t=We();fe(4),Ee("ngIf",t.formError),fe(6),Ee("ngModel",t.newConsume.itemName),fe(5),Ee("ngModel",t.newConsume.price),fe(3),Ee("ngStyle",Lr(8,g2,t.hgt+"px")),fe(2),Ee("ngModel",t.newConsume.memo),fe(6),Ee("ngModel",t.newConsume.cyear),fe(3),Ee("ngModel",t.newConsume.cmonth),fe(3),Ee("ngModel",t.newConsume.cday)}}function _2(e,n){1&e&&(G(0,"div",20)(1,"div",21)(2,"p",22),te(3,"\u8acb\u5148 "),G(4,"a",23),te(5,"\u767b \u5165"),z(),te(6,"\u4fee\u6539\u5e33\u76ee "),z()()())}let y2=(()=>{class e{constructor(t,r){this.authenticationService=t,this.dataService=r,this.editResult=new kt,this.formError="",this.hgt="62"}ngOnInit(){setTimeout(()=>{this.adjustMemoHeight()},1e3)}adjustMemoHeight(){const r=document.getElementById("memo").getBoundingClientRect();this.hgt=r.height.toString()}onEditSubmit(){let t="";""===this.newConsume.itemName&&(t+="\u540d\u7a31\u672a\u586b;"),""===this.newConsume.price&&(t+="\u50f9\u9322\u672a\u586b;"),""===this.newConsume.cyear&&(t+="\u8cb7\u5e74\u672a\u586b;"),""===this.newConsume.cmonth&&(t+="\u8cb7\u6708\u672a\u586b;"),""===this.newConsume.cday&&(t+="\u8cb7\u65e5\u672a\u586b;"),""===t?this.dataService.editAccount(this.newConsume).subscribe(r=>{const i=r;"Updated"==i.message?this.editResult.emit(!0):this.formError=i.message}):this.formError=t}isLoggedIn(){return this.authenticationService.isLoggedIn()}editCancel(){this.editResult.emit(!1)}hidedError(){this.formError=""}}return e.\u0275fac=function(t){return new(t||e)(Se(Mr),Se(ja))},e.\u0275cmp=En({type:e,selectors:[["app-edit-item"]],inputs:{newConsume:"newConsume"},outputs:{editResult:"editResult"},decls:5,vars:2,consts:[[4,"ngIf"],["class","row",4,"ngIf"],["role","form",3,"ngSubmit"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","itemName","name","itemName","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","price","name","price","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"input-group-text",3,"ngStyle"],["name","memo","id","memo","rows","2",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","cyear","name","cyear","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"slash"],["id","cmonth","name","cmonth","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","cday","name","cday","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"row","fMargin"],[1,"offset-md-3","col-md-6"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",2,"margin-left","100px",3,"click"],["role","alert",1,"alert","alert-danger"],[1,"row"],[1,"col-12","col-md-8"],[1,"lead"],["routerLink","/login",1,"btn","btn-primary"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),et(3,m2,39,10,"div",0),et(4,_2,7,0,"div",1)),2&t&&(fe(3),Ee("ngIf",r.newConsume),fe(1),Ee("ngIf",!r.isLoggedIn()))},dependencies:[hr,no,hs,Sr,br,wr,Ar,bi,Hr,Er]}),e})();function v2(e,n){if(1&e&&(G(0,"div",12),te(1),z()),2&e){const t=We(2);fe(1),cn(" ",t.formError," ")}}function C2(e,n){if(1&e){const t=Cn();G(0,"button",13),$e("click",function(){return it(t),st(We(2).goQuery())}),te(1,"\u56de\u67e5\u8a62"),z()}}function b2(e,n){if(1&e&&(G(0,"option",28),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function w2(e,n){if(1&e&&(G(0,"option",28),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function A2(e,n){if(1&e&&(G(0,"option",28),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.key)}}function E2(e,n){if(1&e){const t=Cn();G(0,"form",14,15),$e("ngSubmit",function(){return it(t),st(We(2).onSubmit())}),G(2,"div",16)(3,"div",17)(4,"span",18),te(5,"\u5e74\u6708\uff1a"),z()(),G(6,"select",19),$e("ngModelChange",function(i){return it(t),st(We(2).model.cyear=i)}),et(7,b2,2,2,"option",20),z(),G(8,"span",21),te(9,"/"),z(),G(10,"select",22),$e("ngModelChange",function(i){return it(t),st(We(2).model.cmonth=i)}),et(11,w2,2,2,"option",20),z()(),G(12,"div",16)(13,"div",17)(14,"span",18),te(15,"\u6210\u54e1\uff1a"),z()(),G(16,"select",23),$e("ngModelChange",function(i){return it(t),st(We(2).model.user.key=i)}),et(17,A2,2,2,"option",20),z()(),G(18,"div",24)(19,"div",25)(20,"button",26),te(21,"\u6d88\u8cbb\u7d30\u76ee"),z(),G(22,"button",27),$e("click",function(){return it(t),st(We(2).monthTotal())}),te(23,"\u6536\u652f\u7d50\u7b97"),z()()()()}if(2&e){const t=We(2);fe(6),Ee("ngModel",t.model.cyear),fe(1),Ee("ngForOf",t.viewModel.years),fe(3),Ee("ngModel",t.model.cmonth),fe(1),Ee("ngForOf",t.viewModel.months),fe(5),Ee("ngModel",t.model.user.key),fe(1),Ee("ngForOf",t.viewModel.users)}}function S2(e,n){if(1&e&&(G(0,"div",29),te(1),G(2,"div",31),te(3),z()()),2&e){const t=n.$implicit;fe(1),cn("",t.value.title,"\u652f\u51fa\uff1a"),fe(2),cn("",t.value.price,"\u5143")}}function D2(e,n){if(1&e&&(G(0,"div",24)(1,"div",29),te(2),z(),et(3,S2,4,2,"div",30),wh(4,"keyvalue"),G(5,"div",29),te(6,"\u5bb6\u5ead\u7e3d\u652f\u51fa\uff1a"),G(7,"div",31),te(8),z()(),G(9,"div",29),te(10,"\u5bb6\u5ead\u7e3d\u6536\u5165\uff1a"),G(11,"div",31),te(12),z()(),G(13,"div",29),te(14,"\u5bb6\u5ead\u7e3d\u7d50\u9918\uff1a"),G(15,"div",31),te(16),z()()()),2&e){const t=We(2);fe(2),fh("",t.model.cyear," \u5e74 ",t.model.cmonth,"\u6708\u6d88\u8cbb\u652f\u51fa"),fe(1),Ee("ngForOf",Ah(4,6,t.totalList)),fe(5),cn("",t.total,"\u5143"),fe(4),cn("",t.butget,"\u5143"),fe(4),cn("",t.butget-t.total,"\u5143")}}function M2(e,n){if(1&e){const t=Cn();G(0,"tbody")(1,"tr",38),$e("click",function(i){const o=it(t).$implicit;return st(We(4).onClickEvent(i,o))}),G(2,"td"),te(3),z(),G(4,"td",35),te(5),z(),G(6,"td",35),te(7),z()()()}if(2&e){const t=n.$implicit;fe(3),xt(t.itemName),fe(2),xt(t.price),fe(2),Ul("",t.cyear,"/",t.cmonth,"/",t.cday,"")}}function T2(e,n){if(1&e&&(G(0,"table",34)(1,"thead")(2,"tr")(3,"th"),te(4,"\u540d\u7a31"),z(),G(5,"th",35),te(6,"\u50f9\u683c"),z(),G(7,"th",35),te(8,"\u65e5\u671f"),z()(),G(9,"tr")(10,"td"),te(11),z(),G(12,"td",36),te(13),z(),jt(14,"td",35),z()(),et(15,M2,8,5,"tbody",37),z()),2&e){const t=n.$implicit,r=We(3);fe(11),cn("",r.mail2name(t.key)+r.model.cyear+"  \u5e74 "+r.model.cmonth+" \u6708 ","\u5c0f\u8a08"),fe(2),xt(r.sum(t.value,"price")),fe(2),Ee("ngForOf",t.value)}}function x2(e,n){if(1&e&&(G(0,"div",32),et(1,T2,16,3,"table",33),wh(2,"keyvalue"),z()),2&e){const t=We(2);fe(1),Ee("ngForOf",Ah(2,1,t.theList))}}function P2(e,n){if(1&e&&(G(0,"div")(1,"div",4),et(2,v2,2,1,"div",5),z(),G(3,"div",4)(4,"div",6)(5,"h4"),te(6,"\u6d88\u8cbb\u9805\u76ee\u67e5\u8a62"),z()(),G(7,"div",7),et(8,C2,2,0,"button",8),z()(),et(9,E2,24,6,"form",9),et(10,D2,17,8,"div",10),et(11,x2,3,3,"div",11),z()),2&e){const t=We();fe(2),Ee("ngIf",t.formError),fe(6),Ee("ngIf",t.theList||t.totalList),fe(1),Ee("ngIf",!t.theList&&!t.totalList),fe(1),Ee("ngIf",t.totalList),fe(1),Ee("ngIf",t.theList)}}function I2(e,n){if(1&e){const t=Cn();G(0,"div")(1,"app-edit-item",39),$e("editResult",function(i){return it(t),st(We().getEditResult(i))}),z()()}if(2&e){const t=We();fe(1),Ee("newConsume",t.theSelected)}}let F2=(()=>{class e{constructor(t,r,i,s){this.admin=t,this.auth=r,this.analystService=i,this.dataService=s,this.viewModel={years:["2020"],months:["1","2","3","4","5","6","7","8","9","10","11","12"],users:[{key:"all",value:"all"}]},this.model={familycode:"",cyear:"",cmonth:"",user:{key:"all",value:"all"}},this.summary={martin:0,katy:0,monthSum:0,remainder:0,budget:1e5},this.summaryText={martinText:"",katyText:"",monthText:"",remainderText:"",title:"",budget:""},this.total=0,this.butget=0,this.formError="",this.showMain=!0,this.sum=function(o,a){return o.reduce(function(l,u){return l+u[a]},0)}}ngOnInit(){const t=new Date;this.checkViewModel(),this.model.cyear=t.getFullYear().toString(),this.model.cmonth=(t.getMonth()+1).toString()}listIncome(){}checkViewModel(){const t=this.auth.getCurrentUser();this.currentUser={familycode:t.familycode,email:t.email,name:t.name,familyname:t.familyname,role:t.role,paid:t.paid,duedate:t.duedate,password:"",paytype:"",keep:!1},this.model.familycode=t.familycode;const r=Number.parseInt(this.viewModel.years[0]),i=(new Date).getFullYear();let s=r+1;for(;s<=i;)this.viewModel.years.push(s.toString()),s+=1;this.checkViewModelUsers()}checkViewModelUsers(){""!==this.currentUser.familycode&&this.admin.QueryUser({familycode:this.currentUser.familycode,email:this.currentUser.email,aName:this.currentUser.name,familyName:this.currentUser.familyname}).subscribe({next:r=>{if("success"===r.message)for(const i of r.data)this.viewModel.users.push({key:i.name,value:i.email});else this.formError=r.message},error:r=>{this.formError=r.error.message}})}onSubmit(){this.analystService.readMonthItems(this.model).subscribe({next:t=>{if("success"===t.message){if(t.data.length>0)if(this.theList=new Pp,"all"===this.model.user.key)for(const r of t.data)null!=this.theList[r.useremail]||(this.theList[r.useremail]=[]),this.theList[r.useremail].push(r);else for(const r of t.data)r.useremail===this.model.user.key&&(null!=this.theList[r.useremail]||(this.theList[r.useremail]=[]),this.theList[r.useremail].push(r));else this.formError=`${this.model.cyear}\u5e74${this.model.cmonth}\u6708 \u67e5\u7121\u5e33\u52d9\u8cc7\u6599`;console.log(t.data)}else this.formError=t.message},error:t=>{this.formError=t.error.message}})}monthTotal(){this.queryIncomes(),this.analystService.readMonthItems(this.model).subscribe({next:t=>{if("success"===t.message)if(t.data.length>0){this.totalList=new Pp;let r=new Pp;for(const i of t.data)null!=r[i.useremail]?(r[i.useremail].push(i),this.totalList[i.useremail].price+=i.price):(r[i.useremail]=[],r[i.useremail].push(i),this.totalList[i.useremail]={title:this.mail2name(i.useremail),email:i.useremail,price:i.price}),this.total+=i.price}else this.formError=`${this.model.cyear}\u5e74${this.model.cmonth}\u6708 \u67e5\u7121\u5e33\u52d9\u8cc7\u6599`;else this.formError=t.message},error:t=>{this.formError=t.error.message}})}queryIncomes(){const t=this.model.cyear+(1===this.model.cmonth.length?"0"+this.model.cmonth:this.model.cmonth);this.butget=0,this.analystService.queryIncomes(this.currentUser.familycode,t).subscribe({next:r=>{if("success"===r.message)for(const i of r.data){const s=Number(i.amount.toString());this.butget+=s}},error:r=>{console.log(r)}})}mail2name(t){const r=this.viewModel.users.filter(s=>s.value===t?s.key:"");return(r?r[0].key:"")+" "}GetYearMonth(){return this.model.cyear+(1===this.model.cmonth.length?"0"+this.model.cmonth:this.model.cmonth)}strFormat(t){return` ${t.cyear}/ ${t.cmonth}/ ${t.cday}`}goQuery(){this.totalList=void 0,this.theList=void 0,this.summary.martin=0,this.summary.katy=0,this.summary.monthSum=0,this.summary.remainder=0,this.formError=""}onClickEvent(t,r){this.theSelected=r;const i=document.getElementById("contextMenu");i.style.display="block"===i.style.display?"none":"block",i.style.left=t.clientX.toString()+"px",i.style.top=t.clientY.toString()+"px"}onItemEvent(t){document.getElementById("contextMenu").style.display="none",this.theSelected.useremail==this.auth.getCurrentUser().email?"edit"===t?this.showMain=!1:confirm(`\u78ba\u5b9a\u8981\u522a\u9664${this.theSelected.itemName}?`)&&this.dataService.delItem(this.theSelected._id).subscribe({next:r=>{this.formError=`${this.theSelected.itemName} \u91d1\u984d:${this.theSelected.price} \u5df2\u522a\u9664`,this.onSubmit()},error:r=>{this.formError=`${this.theSelected.itemName} \u91d1\u984d:${this.theSelected.price} \u522a\u9664\u5931\u6557`}}):this.formError="\u4e0d\u80fd\u4fee\u6539\u6216\u522a\u9664\u5225\u4eba\u5efa\u7acb\u7684\u5e33\u76ee"}getEditResult(t){t?(this.formError=`\u540d\u7a31\uff1a[${this.theSelected.itemName}] \u5df2\u4fee\u6539`,this.onSubmit()):this.formError=`\u540d\u7a31\uff1a[${this.theSelected.itemName}] \u53d6\u6d88\u4fee\u6539`;const r=this.auth.getCurrentUser();this.theSelected=new cA(r.familycode,r.email),this.showMain=!0}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(Mr),Se(dA),Se(ja))},e.\u0275cmp=En({type:e,selectors:[["app-monthlist"]],decls:11,vars:2,consts:[[4,"ngIf"],["id","contextMenu",1,"menu"],[1,"menu-options"],[1,"menu-option",3,"click"],[1,"row"],["class","col-12  col-md-12","class","alert alert-danger","role","alert",4,"ngIf"],[1,"col-xs-6","col-md-6"],[1,"col-xs-6","col-md-6","text-right"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["class","row  fMargin",4,"ngIf"],["class","table-wrapper-scroll-y my-custom-scrollbar",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit"],["queryForm","ngForm"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","cyear","required","","name","cyear",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slash"],["id","cmonth","required","","name","cmonth",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","user","required","","name","user",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],[1,"row","fMargin"],[1,"col-12"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"],[3,"value"],[1,"col-12","form-control","fontColor"],["class","col-12 form-control fontColor",4,"ngFor","ngForOf"],[1,"moneyright"],[1,"table-wrapper-scroll-y","my-custom-scrollbar"],["class","table table-striped table-primary ",4,"ngFor","ngForOf"],[1,"table","table-striped","table-primary"],[1,"text-right"],[1,"text-right","textRed"],[4,"ngFor","ngForOf"],[3,"click"],[3,"newConsume","editResult"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),et(3,P2,12,5,"div",0),G(4,"div",1)(5,"ul",2)(6,"li",3),$e("click",function(){return r.onItemEvent("edit")}),te(7,"\u4fee\u6539"),z(),G(8,"li",3),$e("click",function(){return r.onItemEvent("delete")}),te(9,"\u522a\u9664"),z()()(),et(10,I2,2,1,"div",0)),2&t&&(fe(3),Ee("ngIf",r.showMain),fe(7),Ee("ngIf",!r.showMain))},dependencies:[to,hr,Sr,Ou,Lu,io,wr,Ar,bi,Hr,Er,y2,ob],styles:[".tdTopLine[_ngcontent-%COMP%]{border-top:1px chartreuse}.textRed[_ngcontent-%COMP%]{color:red}.my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;width:100%;overflow-y:auto}.table-wrapper-scroll-y[_ngcontent-%COMP%]{display:block}.fontColor[_ngcontent-%COMP%]{background-color:#00bfff;color:brown;font-weight:800}.ctrlColor[_ngcontent-%COMP%]{background-color:#fafad2;color:#008b8b;font-weight:800}.menu[_ngcontent-%COMP%]{width:120px;position:absolute;display:none;z-index:2000;margin:0;border-radius:3px}.menu-option[_ngcontent-%COMP%]{font-weight:700;font-size:14px;padding:10px 40px 10px 20px;cursor:pointer;color:purple;background-color:#ffb6c1;border-radius:3px;border:outset}li[_ngcontent-%COMP%]:hover{background:whitesmoke}.menu-options[_ngcontent-%COMP%]{list-style:none;padding:0}.moneyright[_ngcontent-%COMP%]{width:150px;text-align:right;display:inline-table}"]}),e})(),R2=(()=>{class e{constructor(){this.pdfSrc="../../assets/Doc/\u5bb6\u5ead\u8a18\u5e33\u64cd\u4f5c\u8aaa\u660e.pdf"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=En({type:e,selectors:[["app-operate-doc"]],decls:5,vars:3,consts:[[1,"text-center"],[2,"width","95%","height","700px",3,"src","render-text","original-size"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0),jt(4,"pdf-viewer",1),z()),2&t&&(fe(4),Ee("src",r.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[yO]}),e})();function k2(e,n){if(1&e&&(G(0,"div",22),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError," ")}}function O2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.name)}}function L2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.name)}}function N2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.name)}}function V2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function B2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function U2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t),fe(1),xt(t)}}function j2(e,n){if(1&e&&(G(0,"option",23),te(1),z()),2&e){const t=n.$implicit;Ee("value",t.value),fe(1),xt(t.name)}}const Ha=function(e){return{height:e}};let H2=(()=>{class e{constructor(t,r){this.admin=t,this.authenticationService=r,this.disableBtn=!1,this.formError="",this.family={value:"",name:"",email:""},this.paytype={name:"",value:""},this.year="",this.month="",this.cost=0,this.families=[],this.paytypes=[],this.years=["2022","2023","2024"],this.months=["01","02","03","04","05","06","07","08","09","10","11","12"],this.monthBigs=["01","03","05","07","08","10","12"],this.discount={value:1,name:"\u539f\u50f9"},this.discounts=[{value:1,name:"\u539f\u50f9"},{value:.9,name:"\u4e5d\u6298"},{value:.8,name:"\u516b\u6298"},{value:.7,name:"\u4e03\u6298"},{value:.6,name:"\u516d\u6298"},{value:.5,name:"\u5c0d\u6298"}],this.prices=new $2,this.price=0,this.days=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],this.bday="01",this.paymethod="",this.PayMethods=[{value:"CD",name:"\u4fe1\u7528\u5361"},{value:"CH",name:"\u73fe\u91d1"},{value:"TF",name:"\u532f\u6b3e"},{value:"OT",name:"\u5176\u4ed6"}],this.hgt="300",this.prices={Y:600,S:160,M:60,T:0},this.formClear()}ngOnInit(){this.adjustInputWidth()}ListFamilies(){this.admin.listFamilies().subscribe(t=>{this.families=t.data.map(i=>({value:i._id,name:i.familyname,email:i.email}))})}CheckYears(){let r=(new Date).getFullYear();for(;-1===this.years.indexOf(r.toString());)this.years.push(r.toString()),r--}SetPayTypes(){this.paytypes=[{name:"\u5e74\u4ed8",value:"Y"},{name:"\u5b63\u4ed8",value:"S"},{name:"\u6708\u4ed8",value:"M"},{name:"\u8a66\u7528",value:"T"}]}SetDays(){const t=parseInt(this.year);this.days=this.monthBigs.indexOf(this.month)>-1?["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]:"02"===this.month&&this.leapYear(t)?["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"]:"02"===this.month?["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"]:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"]}leapYear(t){return t%4==0&&t%100!=0||t%400==0}setInit(){const t=new Date;this.paytype={name:"\u6708\u4ed8",value:"M"},this.year=t.getFullYear().toString();const r="0"+(t.getMonth()+1).toString(),i=3===r.length?1:0;this.month=r.substring(i,i+2);const s="0"+t.getDate().toString(),o=3===s.length?1:0;this.bday=s.substring(o,o+2)}formClear(){this.CheckYears(),this.SetPayTypes(),this.ListFamilies(),this.SetDays(),setTimeout(()=>{this.setInit()},100)}onSubmit(){if(this.family.name=this.searchName(this.families,this.family.value),this.paytype.name=this.searchName(this.paytypes,this.paytype.value),!this.family.value)return void(this.formError="\u8acb\u9078\u64c7\u5bb6\u5ead\u540d\u7a31");if(!this.paymethod)return void(this.formError="\u8acb\u9078\u64c7\u4ed8\u8cbb\u65b9\u5f0f");this.family.email=this.searchMail(this.families,this.family.value);const t={familycode:this.family.value,email:this.family.email,amount:this.prices[this.paytype.value]*this.discount.value,discount:this.discount.value,paymethod:this.paymethod,paytype:this.paytype.value,actiondate:this.GetActionDate(),duedate:this.GetDueDate()};this.admin.savePayRec(t).subscribe({next:r=>{console.log(r);const{message:i}=r;"Created"===i?(this.formError=`${this.family.name}${this.paytype.name}\u5132\u503c\u7d00\u9304\u5b8c\u6210;`,this.formClear()):this.formError=i},error:r=>{this.formError=r.error.message}})}SetPrice(){this.price=this.prices[this.paytype.value]*this.discount.value}GetActionDate(){const t=parseInt(this.year.toString()),r=parseInt(this.month),i=parseInt(this.bday);return new Date(t,r,i).getTime()/1e3}GetDueDate(){const t=parseInt(this.year.toString()),r=parseInt(this.month),i=parseInt(this.bday),s=new Date(t,r,i);let o=1;return"M"===this.paytype.value?o=1:"S"===this.paytype.value?o=3:"Y"===this.paytype.value&&(o=12),s.setMonth(s.getMonth()+o)/1e3}adjustInputWidth(){const r=document.getElementById("divLength").getBoundingClientRect();this.hgt=r.height.toString()}searchName(t,r){let i="";return t.every(s=>!s||s.value!==r||(i=s.name,!1)),i}searchMail(t,r){let i="";return t.every(s=>!s||s.value!==r||(i=s.email,!1)),i}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(Mr))},e.\u0275cmp=En({type:e,selectors:[["app-payrecord"]],decls:68,vars:32,consts:[[2,"height","500px","overflow-y","scroll"],["role","form",3,"ngSubmit"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","family","name","family","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-append"],[1,"appand","fa",3,"ngStyle"],["id","paytype","name","paytype","required","","aria-label","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","paymethod","name","paymethod","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","cyear","name","cyear","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","month","name","month","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","bday","name","bday","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],["id","divLength",1,"input-group","fMargin"],["id","discount","name","discount","required","",1,"col-12","col-md-8","form-control","ctrlColor",3,"ngModel","ngModelChange"],[1,"col-12","col-md-8","form-control","ctrlColor"],[1,"row","fMargin"],[1,"offset-md-3","col-md-6"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-warning",2,"margin-left","100px",3,"click"],["role","alert",1,"alert","alert-danger"],[3,"value"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br"),G(2,"div",0)(3,"form",1),$e("ngSubmit",function(){return r.onSubmit()}),G(4,"h4"),te(5,"\u5bb6\u5ead\u5132\u503c\u767b\u8a18"),z(),et(6,k2,2,1,"div",2),G(7,"div",3)(8,"div",4)(9,"span",5),te(10,"\u5bb6\u5ead\u540d\u7a31\uff1a"),z()(),G(11,"select",6),$e("ngModelChange",function(s){return r.family.value=s}),et(12,O2,2,2,"option",7),z(),G(13,"div",8)(14,"span",9),te(15,"\u2207"),z()()(),G(16,"div",3)(17,"div",4)(18,"span",5),te(19,"\u4ed8\u8cbb\u985e\u578b\uff1a"),z()(),G(20,"select",10),$e("ngModelChange",function(s){return r.paytype.value=s}),et(21,L2,2,2,"option",7),z(),G(22,"div",8)(23,"span",9),te(24,"\u2207"),z()()(),G(25,"div",3)(26,"div",4)(27,"span",5),te(28,"\u4ed8\u8cbb\u65b9\u5f0f\uff1a"),z()(),G(29,"select",11),$e("ngModelChange",function(s){return r.paymethod=s}),et(30,N2,2,2,"option",7),z(),G(31,"div",8)(32,"span",9),te(33,"\u2207"),z()()(),G(34,"div",3)(35,"div",4)(36,"span",5),te(37,"\u8d77\u59cb\u65e5\uff1a"),z()(),G(38,"select",12),$e("ngModelChange",function(s){return r.year=s}),et(39,V2,2,2,"option",7),z(),G(40,"select",13),$e("ngModelChange",function(s){return r.month=s}),et(41,B2,2,2,"option",7),z(),G(42,"select",14),$e("ngModelChange",function(s){return r.bday=s}),et(43,U2,2,2,"option",7),z(),G(44,"div",8)(45,"span",9),te(46,"\u2207"),z()()(),G(47,"div",15)(48,"div",4)(49,"span",5),te(50,"\u6298\u6263\uff1a"),z()(),G(51,"select",16),$e("ngModelChange",function(s){return r.discount.value=s}),et(52,j2,2,2,"option",7),z(),G(53,"div",8)(54,"span",9),te(55,"\u2207"),z()()(),G(56,"div",3)(57,"div",4)(58,"span",5),te(59,"\u91d1\u984d\uff1a"),z()(),G(60,"span",17),te(61),z()(),G(62,"div",18)(63,"div",19)(64,"button",20),te(65,"\u5132\u5b58"),z(),G(66,"button",21),$e("click",function(){return r.formClear()}),te(67,"\u53d6\u6d88"),z()()()()()),2&t&&(fe(6),Ee("ngIf",r.formError),fe(5),Ee("ngModel",r.family.value),fe(1),Ee("ngForOf",r.families),fe(2),Ee("ngStyle",Lr(22,Ha,r.hgt+"px")),fe(6),Ee("ngModel",r.paytype.value),fe(1),Ee("ngForOf",r.paytypes),fe(2),Ee("ngStyle",Lr(24,Ha,r.hgt+"px")),fe(6),Ee("ngModel",r.paymethod),fe(1),Ee("ngForOf",r.PayMethods),fe(2),Ee("ngStyle",Lr(26,Ha,r.hgt+"px")),fe(6),Ee("ngModel",r.year),fe(1),Ee("ngForOf",r.years),fe(1),Ee("ngModel",r.month),fe(1),Ee("ngForOf",r.months),fe(1),Ee("ngModel",r.bday),fe(1),Ee("ngForOf",r.days),fe(2),Ee("ngStyle",Lr(28,Ha,r.hgt+"px")),fe(6),Ee("ngModel",r.discount.value),fe(1),Ee("ngForOf",r.discounts),fe(2),Ee("ngStyle",Lr(30,Ha,r.hgt+"px")),fe(7),xt(r.prices[r.paytype.value]*r.discount.value),fe(3),Ee("disabled",r.disableBtn))},dependencies:[to,hr,no,Sr,Ou,Lu,io,wr,Ar,bi,Hr,Er],styles:[".custom-select[_ngcontent-%COMP%]{background-color:#fafad2;color:#008b8b;font-weight:800;border-radius:5px;border-color:#ff0}option[_ngcontent-%COMP%]:checked{color:red}.appand[_ngcontent-%COMP%]{background-color:#fafad2;color:gray;font-weight:100;padding:10px 5px 0;border-bottom-right-radius:3px;border-top-right-radius:3px;border-left:0px}select[_ngcontent-%COMP%]:focus-within{background:lightyellow;color:#04b104}"]}),e})();class $2{}function G2(e,n){if(1&e&&(G(0,"div",16),te(1),z()),2&e){const t=We();fe(1),cn(" ",t.formError,"")}}function W2(e,n){if(1&e){const t=Cn();G(0,"input",17),$e("click",function(){return it(t),st(We().setPasswordText())}),z()}}function z2(e,n){1&e&&(G(0,"label",18),te(1,"\u986f\u793a\u5bc6\u78bc"),z())}let q2=(()=>{class e{constructor(t,r,i,s,o){this.admin=t,this.router=r,this.authenticationService=i,this.historyService=s,this.recaptchaV3Service=o,this.formError="",this.passwordTextType=!1,this.password2TextType=!0,this.accountUsed=!1,this.credentials={familyName:"",name:"",email:"",keep:!0}}ngOnInit(){}onRegisterSubmit(){this.formError="",this.recaptchaV3Service.execute("importantAction").subscribe(t=>{this.admin.verifyReCaptcha(t).subscribe(r=>{r.success?this.credentials.name&&this.credentials.email?this.doRegister():this.formError="\u5168\u90e8\u6b04\u4f4d\u90fd\u662f\u5fc5\u586b\uff0c\u8acb\u518d\u8a66\u4e00\u6b21":this.formError=r.message})})}doRegister(){this.authenticationService.register(this.credentials).subscribe({next:t=>{"ok"===t.data?(this.formError=t.message,setTimeout(()=>{this.router.navigateByUrl(this.historyService.getLastNonLoginUrl())},2e4)):this.formError=t.message},error:t=>{this.formError=t.error.message}})}checkAccount(){this.credentials.name=this.captalCase(this.credentials.name),this.authenticationService.isUser(this.credentials.name)}clearErr(){this.formError="",this.credentials.name=""}captalCase(t){return t?t.replace(/\w\S*/g,r=>r[0].toUpperCase()+r.substr(1).toLowerCase()):""}setPasswordText(){this.passwordTextType=!this.passwordTextType;var t=document.getElementsByClassName("fpws");if(t.length>0)for(let r=0;r<t.length;r++){t[r].setAttribute("type",this.passwordTextType?"Text":"Password")}}setPassword2Text(){this.password2TextType=!this.password2TextType}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(an),Se(Mr),Se(pA),Se(wa))},e.\u0275cmp=En({type:e,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"loginTitle"],[3,"submit"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","name","name","name","placeholder","\u9673\u5bd3/\u6e6f\u59c6\u8207\u746a\u9e97\u7684\u5bb6",1,"form-control",3,"ngModel","focus","ngModelChange"],["id","name","name","name","placeholder","\u8ca1\u52d9\u7ba1\u7406\u4eba\u59d3\u540d",1,"form-control",3,"ngModel","focus","ngModelChange"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","role","button",1,"btn","btn-primary","fMargin"],["class","fCheck","type","checkbox","value","","id","flexCheckChecked",3,"click",4,"ngIf"],["for","flexCheckChecked",4,"ngIf"],[1,"lead"],["routerLink","/login",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"],["type","checkbox","value","","id","flexCheckChecked",1,"fCheck",3,"click"],["for","flexCheckChecked"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br")(2,"br"),G(3,"div",0)(4,"div",1)(5,"h3",2),te(6,"\u8a3b\u518a\u70ba\u5bb6\u5ead\u8a18\u5e33\u6703\u54e1"),z(),G(7,"h5",2),te(8,"\u7531\u8ca1\u52d9\u7ba1\u7406\u4eba\u65b0\u589e\u5bb6\u5ead\u6210\u54e1\u4ee5\u4fbf\u8a18\u5e33"),z()(),G(9,"div",1)(10,"form",3),$e("submit",function(){return r.onRegisterSubmit()}),et(11,G2,2,1,"div",4),G(12,"div",5)(13,"div",6)(14,"span",7),te(15,"\u5bb6\u5ead"),z()(),G(16,"input",8),$e("focus",function(){return r.clearErr()})("ngModelChange",function(s){return r.credentials.familyName=s}),z()(),G(17,"div",5)(18,"div",6)(19,"span",7),te(20,"\u59d3\u540d"),z()(),G(21,"input",9),$e("focus",function(){return r.clearErr()})("ngModelChange",function(s){return r.credentials.name=s}),z()(),G(22,"div",5)(23,"div",6)(24,"span",7),te(25,"Email\uff1a"),z()(),G(26,"input",10),$e("ngModelChange",function(s){return r.credentials.email=s}),z()(),G(27,"button",11),te(28,"\u8a3b\u518a"),z(),et(29,W2,1,0,"input",12),et(30,z2,2,0,"label",13),G(31,"span",14),te(32,"\u6703\u54e1\u8acb\u76f4\u63a5"),G(33,"a",15),te(34,"\u767b \u5165"),z()()()()()),2&t&&(fe(11),Ee("ngIf",r.formError),fe(5),Ee("ngModel",r.credentials.familyName),fe(5),Ee("ngModel",r.credentials.name),fe(5),Ee("ngModel",r.credentials.email),fe(3),Ee("ngIf",!1),fe(1),Ee("ngIf",!1))},dependencies:[hr,hs,Sr,br,wr,Ar,Hr,Er]}),e})();function Y2(e,n){if(1&e&&(G(0,"div",19),te(1),z()),2&e){const t=We(2);fe(1),cn(" ",t.formError," ")}}function X2(e,n){1&e&&(G(0,"button",20),te(1,"\u63d0\u8b70"),z())}function K2(e,n){if(1&e){const t=Cn();G(0,"button",21),$e("click",function(){return it(t),st(We(2).editSave())}),te(1,"\u5132\u5b58"),z()}if(2&e){const t=We(2);Ee("disabled",!t.isOriginalUser(t.opinion))}}function Q2(e,n){1&e&&(G(0,"th"),te(1,"\u522a\u9664"),z())}function J2(e,n){if(1&e){const t=Cn();G(0,"td")(1,"button",24),$e("click",function(){it(t);const i=We().$implicit;return st(We(2).delOpinion(i))}),te(2,"\u522a\u9664"),z()()}}function Z2(e,n){if(1&e){const t=Cn();G(0,"tr")(1,"td"),te(2),z(),G(3,"td",22),te(4),z(),G(5,"td",22),te(6),z(),G(7,"td")(8,"button",23),$e("click",function(){const s=it(t).$implicit;return st(We(2).editOpinion(s))}),te(9,"\u7d30\u7bc0"),z()(),et(10,J2,3,0,"td",2),z()}if(2&e){const t=n.$implicit,r=We(2);fe(2),xt(t.advice),fe(2),xt(t.username),fe(2),xt(r.localDate(t.dttime)),fe(4),Ee("ngIf",r.isSystemAdmin())}}const eV=function(e){return{height:e}};function tV(e,n){if(1&e){const t=Cn();G(0,"div")(1,"form",3),$e("ngSubmit",function(){return it(t),st(We().onSuggestSubmit())}),et(2,Y2,2,1,"div",4),G(3,"div",5)(4,"div",6)(5,"span",7),te(6,"\u6279\u8a55\u610f\u898b\uff1a"),z()(),G(7,"input",8),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().opinion.advice=i)}),z()(),G(8,"div",5)(9,"div",6)(10,"span",9),te(11,"\u8a73\u7d30\u8aaa\u660e\uff1a"),z()(),G(12,"textarea",10),$e("focus",function(){return it(t),st(We().hidedError())})("ngModelChange",function(i){return it(t),st(We().opinion.explain=i)}),te(13,"            "),z()(),G(14,"div",11)(15,"div",12),et(16,X2,2,0,"button",13),et(17,K2,2,1,"button",14),G(18,"button",15),$e("click",function(){return it(t),st(We().cancel())}),te(19,"\u53d6\u6d88"),z()()()(),G(20,"div",16)(21,"table",17)(22,"thead")(23,"tr")(24,"th"),te(25,"\u610f\u898b"),z(),G(26,"th"),te(27,"\u59d3\u540d"),z(),G(28,"th"),te(29,"\u65e5\u671f"),z(),G(30,"th"),te(31,"\u7d30\u7bc0"),z(),et(32,Q2,2,0,"th",2),z()(),G(33,"tbody"),et(34,Z2,11,4,"tr",18),z()()()()}if(2&e){const t=We();fe(2),Ee("ngIf",t.formError),fe(5),Ee("ngModel",t.opinion.advice),fe(3),Ee("ngStyle",Lr(8,eV,t.hgt+"px")),fe(2),Ee("ngModel",t.opinion.explain),fe(4),Ee("ngIf",!t.edited),fe(1),Ee("ngIf",t.edited),fe(15),Ee("ngIf",t.isSystemAdmin()),fe(2),Ee("ngForOf",t.opinions)}}let nV=(()=>{class e{constructor(t,r){this.admin=t,this.authenticationService=r,this.hgt="62",this.formError="",this.opinions=[],this.edited=!1}ngOnInit(){this.user=this.authenticationService.getCurrentUser(),this.initOpinion(),setTimeout(()=>{this.adjustMemoHeight()},1e3),this.getOpinions()}adjustMemoHeight(){if(this.familyInfo){const r=document.getElementById("memo").getBoundingClientRect();this.hgt=r.height.toString()}}isLoggedIn(){return this.authenticationService.isLoggedIn()}onSuggestSubmit(){this.opinion.dttime=this.admin.getDateTimeStr(),this.admin.SuggestCreate(this.opinion).subscribe({next:t=>{""===t.message?(this.opinions.push(t.data),this.formError="\u5df2\u6536\u5230\u60a8\u73cd\u8cb4\u7684\u610f\u898b\uff0c\u5c07\u6703\u5728\u6539\u7248\u6642\uff0c\u7814\u8a0e\u5176\u53ef\u884c\u6027\uff0c\u8b1d\u8b1d!!",this.initOpinion()):this.formError=t.message},error:t=>{this.formError=t.error.message,console.log(JSON.stringify(t))}})}hidedError(){this.formError=""}initOpinion(){this.opinion=new rV,this.opinion.email=this.user.email,this.opinion.username=this.user.name,this.edited=!1}getOpinions(){this.admin.SuggestQuery(this.opinion).subscribe({next:t=>{const{message:r,data:i}=t;""===r&&(this.opinions=i)},error:t=>{this.formError=t.error.message,console.log(JSON.stringify(t))}})}delOpinion(t){this.admin.SuggestDelete(t._id).subscribe({next:r=>{const i=this.opinions.indexOf(t);this.opinions.splice(i,1)},error:r=>{console.log(JSON.stringify(r))}})}editOpinion(t){this.opinion=t,this.edited=!0}localDate(t){let r=t.substring(0,8);return r=r.substring(0,6)+"/"+r.substring(6),r=r.substring(0,4)+"/"+r.substring(4),r}isSystemAdmin(){return"SystemAdmin"===this.user?.role}isOriginalUser(t){return t.email===this.user?.email}editSave(){this.admin.SuggestUpdate(this.opinion).subscribe({next:t=>{console.log(JSON.stringify(t)),""===t.message?(this.formError=`${t.data.advice}\u5df2\u4fee\u6539!!`,this.initOpinion()):this.formError=t.message},error:t=>{this.formError=t.error.message,console.log(JSON.stringify(t))}})}cancel(){this.initOpinion()}}return e.\u0275fac=function(t){return new(t||e)(Se(Ei),Se(Mr))},e.\u0275cmp=En({type:e,selectors:[["app-suggest"]],decls:8,vars:1,consts:[[1,"col-12",2,"margin-top","20px"],[1,"loginTitle"],[4,"ngIf"],["role","form",3,"ngSubmit"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","advice","name","advice","required","required",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"input-group-text",3,"ngStyle"],["name","explain","id","explain","rows","2",1,"form-control",3,"ngModel","focus","ngModelChange"],[1,"row","fMargin",2,"margin","20px  0px 20px 0px"],[1,"offset-md-3","col-md-6"],["type","submit","class","btn btn-primary",4,"ngIf"],["type","button","class","btn btn-primary","style","margin-left: 100px;",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"],[1,"table-wrapper-scroll-y","my-custom-scrollbar"],[1,"table","table-striped","table-primary"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-danger"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"disabled","click"],[1,"text-right"],["type","button",1,"btn","btn-info","fMargin",3,"click"],["type","button",1,"btn","btn-danger","fMargin",3,"click"]],template:function(t,r){1&t&&(jt(0,"br")(1,"br"),G(2,"div",0)(3,"h3",1),te(4,"\u6539\u9032\u610f\u898b"),z(),G(5,"h5",1),te(6,"\u4f7f\u7528\u672c\u8edf\u9ad4\u5f8c\u5e0c\u671b\u672c\u7db2\u7ad9\u505a\u90a3\u4e9b\u8abf\u6574\uff0c\u6703\u66f4\u9069\u5408\u60a8\u4f7f\u7528"),z()(),et(7,tV,35,10,"div",2)),2&t&&(fe(7),Ee("ngIf",r.isLoggedIn()))},dependencies:[to,hr,no,Sr,br,wr,Ar,bi,Hr,Er],styles:[".accordion-body[_ngcontent-%COMP%]{background-color:#0ff}"]}),e})();class rV{constructor(){this._id="",this.email="",this.advice="",this.explain="",this.dttime="",this.username="",this.ans=""}}const iV=[{path:"",component:d2},{path:"monthlist",component:F2},{path:"login",component:f2},{path:"register",component:q2},{path:"createmember",component:l2},{path:"monthbudget",component:fA},{path:"additem",component:qN},{path:"income",component:fA},{path:"payrecord",component:H2},{path:"changepws",component:n2},{path:"forgetpws",component:c2},{path:"suggest",component:nV},{path:"opdoc",component:R2}];let sV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e}),e.\u0275inj=Tn({imports:[lA.forRoot(iV),lA]}),e})();function oV(e,n){if(1&e&&(G(0,"span"),te(1),z()),2&e){const t=We();fe(1),xt(t.familyName)}}function aV(e,n){1&e&&(G(0,"li")(1,"a",21),te(2,"\u6708\u5e33\u6e05\u55ae"),z()())}function lV(e,n){1&e&&(G(0,"li")(1,"a",22),te(2,"\u6536\u5165"),z()())}function uV(e,n){1&e&&(G(0,"li")(1,"a",23),te(2,"\u6279\u8a55\u610f\u898b"),z()())}function cV(e,n){1&e&&(G(0,"a",30),te(1,"\u7528\u6236\u7ba1\u7406"),z())}function dV(e,n){if(1&e&&(G(0,"li",9)(1,"a",24),te(2,"\u7528\u6236\u593e"),z(),G(3,"ul",25)(4,"a",26),te(5,"\u767b\u5165"),z(),G(6,"a",27),te(7,"\u8a3b\u518a"),z(),G(8,"a",28),te(9,"\u5fd8\u8a18\u5bc6\u78bc"),z(),et(10,cV,2,0,"a",29),z()()),2&e){const t=We();fe(10),Ee("ngIf",t.IsAdmin)}}function hV(e,n){1&e&&(G(0,"a",37),te(1,"\u5132\u503c\u767b\u8a18"),z())}function fV(e,n){1&e&&(G(0,"a",38),te(1,"\u7ba1\u7406\u6210\u54e1"),z())}function pV(e,n){if(1&e){const t=Cn();G(0,"li",9)(1,"a",31),te(2),z(),G(3,"ul",32)(4,"li")(5,"a",33),$e("click",function(){return it(t),st(We().doLogout())}),te(6,"\u767b\u51fa"),z()(),G(7,"li")(8,"a",34),te(9,"\u4fee\u6539\u5bc6\u78bc"),z()(),G(10,"li"),et(11,hV,2,0,"a",35),z(),G(12,"li"),et(13,fV,2,0,"a",36),z()()()}if(2&e){const t=We();fe(2),xt(t.getUsername()),fe(9),Ee("ngIf",t.isSystemAdmin()),fe(2),Ee("ngIf",t.isAdmin())}}const gV=function(e,n){return{paid:e,nopaid:n}};let mV=(()=>{class e{constructor(t,r){this.router=t,this.authenticationService=r,this.title="FamilyWeb",this.paid4app=!1,this.familyName="",this.IsAdmin=!1,this.familyName=this.authenticationService.getFamilyName(),this.paid4app=this.authenticationService.isPaid()}ngOnInit(){}doLogout(){this.authenticationService.logout(),this.router.navigateByUrl("")}isLoggedIn(){return this.authenticationService.isLoggedIn()}getUsername(){const t=this.authenticationService.getCurrentUser();return t&&t.name?t.name:"Guest"}isSystemAdmin(){return"SystemAdmin"===this.authenticationService.getCurrentUser().role}isAdmin(){const t=this.authenticationService.getCurrentUser();return"admin"===t.role||"SystemAdmin"===t.role}}return e.\u0275fac=function(t){return new(t||e)(Se(an),Se(Mr))},e.\u0275cmp=En({type:e,selectors:[["app-root"]],decls:44,vars:10,consts:[[1,"navbar","fixed-top","navbar-expand-md","navbar-light"],[1,"container-fluid"],["routerLink","additem",1,"navbar-brand","ank"],["alt","",3,"ngClass"],[4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarMain","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",2,"border","none","text-align","center","padding-left","0px"],[1,"navbar-toggler-icon",2,"color","honeydew","border","none"],["id","navbarMain",1,"navbar-collapse","collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle",2,"color","goldenrod"],[1,"dropdown-menu"],["routerLink","additem",1,"dropdown-item"],["routerLink","",1,"dropdown-item"],["routerLink","opdoc",1,"dropdown-item"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],["class","nav-item dropdown",4,"ngIf"],[1,"container","content"],[1,"navbar","fixed-bottom"],[1,"row"],[1,"col-12"],["routerLink","monthlist",1,"dropdown-item"],["routerLink","income",1,"dropdown-item"],["routerLink","suggest",1,"dropdown-item"],["id","navbarDropdownpay","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"color","goldenrod"],["aria-labelledby","navbarDropdownpay",1,"dropdown-menu"],["routerLink","login",1,"dropdown-item"],["routerLink","register",1,"dropdown-item"],["routerLink","forgetpws",1,"dropdown-item"],["routerLink","setuser","class","dropdown-item",4,"ngIf"],["routerLink","setuser",1,"dropdown-item"],["id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",2,"color","goldenrod"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["routerLink","changepws",1,"dropdown-item"],["routerLink","payrecord","class","dropdown-item",4,"ngIf"],["routerLink","createmember","class","dropdown-item",4,"ngIf"],["routerLink","payrecord",1,"dropdown-item"],["routerLink","createmember",1,"dropdown-item"]],template:function(t,r){1&t&&(G(0,"nav",0)(1,"div",1)(2,"a",2),jt(3,"img",3),et(4,oV,2,1,"span",4),te(5,"\u5bb6\u5ead\u8a18\u5e33"),z(),G(6,"button",5)(7,"span",6),te(8,"Menu"),z()(),G(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),te(13,"\u5e33\u52d9\u593e"),z(),G(14,"ul",11)(15,"li")(16,"a",12),te(17,"\u8a18\u5e33"),z()(),et(18,aV,3,0,"li",4),et(19,lV,3,0,"li",4),z()()(),G(20,"ul",8)(21,"li",9)(22,"a",10),te(23,"\u95dc\u65bc"),z(),G(24,"ul",11)(25,"li")(26,"a",13),te(27,"\u9996\u9801"),z()(),G(28,"li")(29,"a",14),te(30,"\u4f7f\u7528\u8aaa\u660e"),z()(),et(31,uV,3,0,"li",4),z()()(),G(32,"ul",15),et(33,dV,11,1,"li",16),et(34,pV,14,3,"li",16),z()()()(),G(35,"div",17),jt(36,"router-outlet"),G(37,"footer",18)(38,"div",19)(39,"div",20)(40,"small"),te(41,"\xa92022 \u6f58\u4e01\u745c\u8a2d\u8a08\u958b\u767c "),z(),G(42,"span"),te(43,"***\u672c\u7522\u54c1\u514d\u8cbb\u4f7f\u7528***"),z()()()()()),2&t&&(fe(3),Ee("ngClass",ra(7,gV,r.paid4app,!r.paid4app)),fe(1),Ee("ngIf",r.familyName),fe(14),Ee("ngIf",r.isLoggedIn()),fe(1),Ee("ngIf",r.isLoggedIn()),fe(12),Ee("ngIf",r.isLoggedIn()),fe(2),Ee("ngIf",!r.isLoggedIn()),fe(1),Ee("ngIf",r.isLoggedIn()))},dependencies:[df,hr,pp,hs],styles:[".paid[_ngcontent-%COMP%]{content:url(paid_trans.e18d26b6a39927f2.png);background-size:contain;background-repeat:no-repeat;background-position:center;margin:0;padding:0;background-color:transparent;height:32px;width:32px}.nopaid[_ngcontent-%COMP%]{content:url(notpaid_trans.bc00c8213bf82d1e.png);background-size:contain;background-repeat:no-repeat;background-position:center;margin:0;padding:0;background-color:transparent;height:32px;width:32px}.ank[_ngcontent-%COMP%]{-webkit-text-decoration:transparent;text-decoration:transparent;border:none;outline:none}"]}),e})(),_V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Bn({type:e,bootstrap:[mV]}),e.\u0275inj=Tn({providers:[{provide:Y0,useValue:"6Lc1mhQhAAAAAAvBU2oxo4-Qqmn_LnlTpUhoqJiF"}],imports:[AR,sV,Xk,Yk,zR,nO,vO]}),e})();(function YP(){xC=!1})(),wR().bootstrapModule(_V).catch(e=>console.error(e))},36:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(156).default,Ae;Ae=()=>(()=>{"use strict";var __webpack_modules__=[,(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.VerbosityLevel=j.Util=j.UnknownErrorException=j.UnexpectedResponseException=j.UNSUPPORTED_FEATURES=j.TextRenderingMode=j.StreamType=j.RenderingIntentFlag=j.PermissionFlag=j.PasswordResponses=j.PasswordException=j.PageActionEventType=j.OPS=j.MissingPDFException=j.InvalidPDFException=j.ImageKind=j.IDENTITY_MATRIX=j.FormatError=j.FontType=j.FeatureTest=j.FONT_IDENTITY_MATRIX=j.DocumentActionEventType=j.CMapCompressionType=j.BaseException=j.AnnotationType=j.AnnotationStateModelType=j.AnnotationReviewState=j.AnnotationReplyType=j.AnnotationMode=j.AnnotationMarkedState=j.AnnotationFlag=j.AnnotationFieldFlag=j.AnnotationBorderStyleType=j.AnnotationActionEventType=j.AbortException=void 0,j.arrayByteLength=re,j.arraysToBytes=function ne(_e){const q=_e.length;if(1===q&&_e[0]instanceof Uint8Array)return _e[0];let Y=0;for(let Le=0;Le<q;Le++)Y+=re(_e[Le]);let Me=0;const Fe=new Uint8Array(Y);for(let Le=0;Le<q;Le++){let je=_e[Le];je instanceof Uint8Array||(je="string"==typeof je?ee(je):new Uint8Array(je));const gt=je.byteLength;Fe.set(je,Me),Me+=gt}return Fe},j.assert=function ue(_e,q){_e||Z(q)},j.bytesToString=function L(_e){("object"!=typeof _e||null===_e||void 0===_e.length)&&Z("Invalid argument for bytesToString");const q=_e.length,Y=8192;if(q<Y)return String.fromCharCode.apply(null,_e);const Me=[];for(let Fe=0;Fe<q;Fe+=Y){const Le=Math.min(Fe+Y,q),je=_e.subarray(Fe,Le);Me.push(String.fromCharCode.apply(null,je))}return Me.join("")},j.createPromiseCapability=function Ot(){const _e=Object.create(null);let q=!1;return Object.defineProperty(_e,"settled",{get:()=>q}),_e.promise=new Promise(function(Y,Me){_e.resolve=function(Fe){q=!0,Y(Fe)},_e.reject=function(Fe){q=!0,Me(Fe)}}),_e},j.createValidAbsoluteUrl=function ve(_e,q=null,Y=null){if(!_e)return null;try{if(Y&&"string"==typeof _e){if(Y.addDefaultProtocol&&_e.startsWith("www.")){const Fe=_e.match(/\./g);Fe&&Fe.length>=2&&(_e=`http://${_e}`)}if(Y.tryConvertEncoding)try{_e=Ie(_e)}catch{}}const Me=q?new URL(_e,q):new URL(_e);if(function se(_e){if(!_e)return!1;switch(_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Me))return Me}catch{}return null},j.escapeString=function ae(_e){return _e.replace(/([()\\\n\r])/g,q=>"\n"===q?"\\n":"\r"===q?"\\r":`\\${q}`)},j.getModificationDate=function vt(_e=new Date){return[_e.getUTCFullYear().toString(),(_e.getUTCMonth()+1).toString().padStart(2,"0"),_e.getUTCDate().toString().padStart(2,"0"),_e.getUTCHours().toString().padStart(2,"0"),_e.getUTCMinutes().toString().padStart(2,"0"),_e.getUTCSeconds().toString().padStart(2,"0")].join("")},j.getVerbosityLevel=function ie(){return W},j.info=function le(_e){W>=I.INFOS&&console.log(`Info: ${_e}`)},j.isArrayBuffer=function He(_e){return"object"==typeof _e&&null!==_e&&void 0!==_e.byteLength},j.isArrayEqual=function ft(_e,q){if(_e.length!==q.length)return!1;for(let Y=0,Me=_e.length;Y<Me;Y++)if(_e[Y]!==q[Y])return!1;return!0},j.isAscii=function Ue(_e){return/^[\x00-\x7F]*$/.test(_e)},j.objectFromMap=function ye(_e){const q=Object.create(null);for(const[Y,Me]of _e)q[Y]=Me;return q},j.objectSize=function he(_e){return Object.keys(_e).length},j.setVerbosityLevel=function J(_e){Number.isInteger(_e)&&(W=_e)},j.shadow=De,j.string32=function oe(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,255&_e)},j.stringToBytes=ee,j.stringToPDFString=function K(_e){if(_e[0]>="\xef"){let Y;if("\xfe"===_e[0]&&"\xff"===_e[1]?Y="utf-16be":"\xff"===_e[0]&&"\xfe"===_e[1]?Y="utf-16le":"\xef"===_e[0]&&"\xbb"===_e[1]&&"\xbf"===_e[2]&&(Y="utf-8"),Y)try{const Me=new TextDecoder(Y,{fatal:!0}),Fe=ee(_e);return Me.decode(Fe)}catch(Me){ge(`stringToPDFString: "${Me}".`)}}const q=[];for(let Y=0,Me=_e.length;Y<Me;Y++){const Fe=R[_e.charCodeAt(Y)];q.push(Fe?String.fromCharCode(Fe):_e.charAt(Y))}return q.join("")},j.stringToUTF16BEString=function Ve(_e){const q=["\xfe\xff"];for(let Y=0,Me=_e.length;Y<Me;Y++){const Fe=_e.charCodeAt(Y);q.push(String.fromCharCode(Fe>>8&255),String.fromCharCode(255&Fe))}return q.join("")},j.stringToUTF8String=Ie,j.unreachable=Z,j.utf8StringToString=function Ge(_e){return unescape(encodeURIComponent(_e))},j.warn=ge,Ae(2),j.IDENTITY_MATRIX=[1,0,0,1,0,0],j.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],j.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},j.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},j.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},j.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},j.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},j.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},j.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},j.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},j.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},j.AnnotationReplyType={GROUP:"Group",REPLY:"R"},j.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},j.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},j.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},j.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},j.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},j.PageActionEventType={O:"PageOpen",C:"PageClose"},j.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},j.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const I={ERRORS:0,WARNINGS:1,INFOS:5};j.VerbosityLevel=I,j.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},j.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},j.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},j.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let W=I.WARNINGS;function ge(_e){W>=I.WARNINGS&&console.log(`Warning: ${_e}`)}function Z(_e){throw new Error(_e)}function De(_e,q,Y){return Object.defineProperty(_e,q,{value:Y,enumerable:!0,configurable:!0,writable:!1}),Y}const B=function(){function q(Y,Me){this.constructor===q&&Z("Cannot initialize BaseException."),this.message=Y,this.name=Me}return q.prototype=new Error,q.constructor=q,q}();function ee(_e){"string"!=typeof _e&&Z("Invalid argument for stringToBytes");const q=_e.length,Y=new Uint8Array(q);for(let Me=0;Me<q;++Me)Y[Me]=255&_e.charCodeAt(Me);return Y}function re(_e){return void 0!==_e.length?_e.length:void 0!==_e.byteLength?_e.byteLength:void Z("Invalid argument for arrayByteLength")}j.BaseException=B,j.PasswordException=class m extends B{constructor(q,Y){super(q,"PasswordException"),this.code=Y}},j.UnknownErrorException=class _ extends B{constructor(q,Y){super(q,"UnknownErrorException"),this.details=Y}},j.InvalidPDFException=class c extends B{constructor(q){super(q,"InvalidPDFException")}},j.MissingPDFException=class y extends B{constructor(q){super(q,"MissingPDFException")}},j.UnexpectedResponseException=class w extends B{constructor(q,Y){super(q,"UnexpectedResponseException"),this.status=Y}},j.FormatError=class k extends B{constructor(q){super(q,"FormatError")}},j.AbortException=class O extends B{constructor(q){super(q,"AbortException")}},j.FeatureTest=class me{static get isLittleEndian(){return De(this,"isLittleEndian",function Re(){const _e=new Uint8Array(4);return _e[0]=1,1===new Uint32Array(_e.buffer,0,1)[0]}())}static get isEvalSupported(){return De(this,"isEvalSupported",function qe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return De(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const we=[...Array(256).keys()].map(_e=>_e.toString(16).padStart(2,"0"));class be{static makeHexColor(q,Y,Me){return`#${we[q]}${we[Y]}${we[Me]}`}static scaleMinMax(q,Y){let Me;q[0]?(q[0]<0&&(Me=Y[0],Y[0]=Y[1],Y[1]=Me),Y[0]*=q[0],Y[1]*=q[0],q[3]<0&&(Me=Y[2],Y[2]=Y[3],Y[3]=Me),Y[2]*=q[3],Y[3]*=q[3]):(Me=Y[0],Y[0]=Y[2],Y[2]=Me,Me=Y[1],Y[1]=Y[3],Y[3]=Me,q[1]<0&&(Me=Y[2],Y[2]=Y[3],Y[3]=Me),Y[2]*=q[1],Y[3]*=q[1],q[2]<0&&(Me=Y[0],Y[0]=Y[1],Y[1]=Me),Y[0]*=q[2],Y[1]*=q[2]),Y[0]+=q[4],Y[1]+=q[4],Y[2]+=q[5],Y[3]+=q[5]}static transform(q,Y){return[q[0]*Y[0]+q[2]*Y[1],q[1]*Y[0]+q[3]*Y[1],q[0]*Y[2]+q[2]*Y[3],q[1]*Y[2]+q[3]*Y[3],q[0]*Y[4]+q[2]*Y[5]+q[4],q[1]*Y[4]+q[3]*Y[5]+q[5]]}static applyTransform(q,Y){return[q[0]*Y[0]+q[1]*Y[2]+Y[4],q[0]*Y[1]+q[1]*Y[3]+Y[5]]}static applyInverseTransform(q,Y){const Me=Y[0]*Y[3]-Y[1]*Y[2];return[(q[0]*Y[3]-q[1]*Y[2]+Y[2]*Y[5]-Y[4]*Y[3])/Me,(-q[0]*Y[1]+q[1]*Y[0]+Y[4]*Y[1]-Y[5]*Y[0])/Me]}static getAxialAlignedBoundingBox(q,Y){const Me=be.applyTransform(q,Y),Fe=be.applyTransform(q.slice(2,4),Y),Le=be.applyTransform([q[0],q[3]],Y),je=be.applyTransform([q[2],q[1]],Y);return[Math.min(Me[0],Fe[0],Le[0],je[0]),Math.min(Me[1],Fe[1],Le[1],je[1]),Math.max(Me[0],Fe[0],Le[0],je[0]),Math.max(Me[1],Fe[1],Le[1],je[1])]}static inverseTransform(q){const Y=q[0]*q[3]-q[1]*q[2];return[q[3]/Y,-q[1]/Y,-q[2]/Y,q[0]/Y,(q[2]*q[5]-q[4]*q[3])/Y,(q[4]*q[1]-q[5]*q[0])/Y]}static apply3dTransform(q,Y){return[q[0]*Y[0]+q[1]*Y[1]+q[2]*Y[2],q[3]*Y[0]+q[4]*Y[1]+q[5]*Y[2],q[6]*Y[0]+q[7]*Y[1]+q[8]*Y[2]]}static singularValueDecompose2dScale(q){const Y=[q[0],q[2],q[1],q[3]],Me=q[0]*Y[0]+q[1]*Y[2],je=q[2]*Y[1]+q[3]*Y[3],gt=(Me+je)/2,bt=Math.sqrt((Me+je)**2-4*(Me*je-(q[2]*Y[0]+q[3]*Y[2])*(q[0]*Y[1]+q[1]*Y[3])))/2,Dt=gt-bt||1;return[Math.sqrt(gt+bt||1),Math.sqrt(Dt)]}static normalizeRect(q){const Y=q.slice(0);return q[0]>q[2]&&(Y[0]=q[2],Y[2]=q[0]),q[1]>q[3]&&(Y[1]=q[3],Y[3]=q[1]),Y}static intersect(q,Y){const Me=Math.max(Math.min(q[0],q[2]),Math.min(Y[0],Y[2])),Fe=Math.min(Math.max(q[0],q[2]),Math.max(Y[0],Y[2]));if(Me>Fe)return null;const Le=Math.max(Math.min(q[1],q[3]),Math.min(Y[1],Y[3])),je=Math.min(Math.max(q[1],q[3]),Math.max(Y[1],Y[3]));return Le>je?null:[Me,Le,Fe,je]}static bezierBoundingBox(q,Y,Me,Fe,Le,je,gt,bt){const Ht=[],Dt=[[],[]];let ln,Yt,Xn,$t,Lt,Nn,Kn,Vn;for(let go=0;go<2;++go)if(0===go?(Yt=6*q-12*Me+6*Le,ln=-3*q+9*Me-9*Le+3*gt,Xn=3*Me-3*q):(Yt=6*Y-12*Fe+6*je,ln=-3*Y+9*Fe-9*je+3*bt,Xn=3*Fe-3*Y),Math.abs(ln)<1e-12){if(Math.abs(Yt)<1e-12)continue;$t=-Xn/Yt,0<$t&&$t<1&&Ht.push($t)}else Kn=Yt*Yt-4*Xn*ln,Vn=Math.sqrt(Kn),!(Kn<0)&&(Lt=(-Yt+Vn)/(2*ln),0<Lt&&Lt<1&&Ht.push(Lt),Nn=(-Yt-Vn)/(2*ln),0<Nn&&Nn<1&&Ht.push(Nn));let Mn,fr=Ht.length;const Gi=fr;for(;fr--;)$t=Ht[fr],Mn=1-$t,Dt[0][fr]=Mn*Mn*Mn*q+3*Mn*Mn*$t*Me+3*Mn*$t*$t*Le+$t*$t*$t*gt,Dt[1][fr]=Mn*Mn*Mn*Y+3*Mn*Mn*$t*Fe+3*Mn*$t*$t*je+$t*$t*$t*bt;return Dt[0][Gi]=q,Dt[1][Gi]=Y,Dt[0][Gi+1]=gt,Dt[1][Gi+1]=bt,Dt[0].length=Dt[1].length=Gi+2,[Math.min(...Dt[0]),Math.min(...Dt[1]),Math.max(...Dt[0]),Math.max(...Dt[1])]}}j.Util=be;const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ie(_e){return decodeURIComponent(escape(_e))}},(Oe,j,Ae)=>{Ae(3)},(Oe,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.isNodeJS=void 0;const Ae=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);j.isNodeJS=Ae},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Oe,Ae,A,xe,Ce,pe,ce,X,jp,N;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:E,NodeCMapReaderFactory:g,NodeStandardFontDataFactory:x}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=E,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=g,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=x}function setPDFNetworkStreamFactory(E){createPDFNetworkStream=E}function getDocument(E){const g=new PDFDocumentLoadingTask;let x;if("string"==typeof E||E instanceof URL)x={url:E};else if((0,_util.isArrayBuffer)(E))x={data:E};else if(E instanceof PDFDataRangeTransport)x={range:E};else{if("object"!=typeof E)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!E.url&&!E.data&&!E.range)throw new Error("Invalid parameter object: need either .data, .range or .url");x=E}const h=Object.create(null);let p=null,b=null;for(const M in x){const S=x[M];switch(M){case"url":if(typeof window<"u")try{h[M]=new URL(S,window.location).href;continue}catch(d){(0,_util.warn)(`Cannot create valid URL: "${d}".`)}else if("string"==typeof S||S instanceof URL){h[M]=S.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":p=S;continue;case"worker":b=S;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&S instanceof Buffer)h[M]=new Uint8Array(S);else{if(S instanceof Uint8Array)break;if("string"==typeof S)h[M]=(0,_util.stringToBytes)(S);else if("object"!=typeof S||null===S||isNaN(S.length)){if(!(0,_util.isArrayBuffer)(S))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");h[M]=new Uint8Array(S)}else h[M]=new Uint8Array(S)}continue}h[M]=S}if(h.CMapReaderFactory=h.CMapReaderFactory||DefaultCMapReaderFactory,h.StandardFontDataFactory=h.StandardFontDataFactory||DefaultStandardFontDataFactory,h.ignoreErrors=!0!==h.stopAtErrors,h.fontExtraProperties=!0===h.fontExtraProperties,h.pdfBug=!0===h.pdfBug,h.enableXfa=!0===h.enableXfa,(!Number.isInteger(h.rangeChunkSize)||h.rangeChunkSize<1)&&(h.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof h.docBaseUrl||(0,_display_utils.isDataScheme)(h.docBaseUrl))&&(h.docBaseUrl=null),(!Number.isInteger(h.maxImageSize)||h.maxImageSize<-1)&&(h.maxImageSize=-1),"string"!=typeof h.cMapUrl&&(h.cMapUrl=null),"string"!=typeof h.standardFontDataUrl&&(h.standardFontDataUrl=null),"boolean"!=typeof h.useWorkerFetch&&(h.useWorkerFetch=h.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&h.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof h.isEvalSupported&&(h.isEvalSupported=!0),"boolean"!=typeof h.disableFontFace&&(h.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof h.useSystemFonts&&(h.useSystemFonts=!_is_node.isNodeJS&&!h.disableFontFace),("object"!=typeof h.ownerDocument||null===h.ownerDocument)&&(h.ownerDocument=globalThis.document),"boolean"!=typeof h.disableRange&&(h.disableRange=!1),"boolean"!=typeof h.disableStream&&(h.disableStream=!1),"boolean"!=typeof h.disableAutoFetch&&(h.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(h.verbosity),!b){const M={verbosity:h.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};b=M.port?PDFWorker.fromPort(M):new PDFWorker(M),g._worker=b}const V=g.docId;return b.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");const M=_fetchDocument(b,h,p,V),S=new Promise(function(d){let f;p?f=new _transport_stream.PDFDataTransportStream({length:h.length,initialData:h.initialData,progressiveDone:h.progressiveDone,contentDispositionFilename:h.contentDispositionFilename,disableRange:h.disableRange,disableStream:h.disableStream},p):h.data||(f=createPDFNetworkStream({url:h.url,length:h.length,httpHeaders:h.httpHeaders,withCredentials:h.withCredentials,rangeChunkSize:h.rangeChunkSize,disableRange:h.disableRange,disableStream:h.disableStream})),d(f)});return Promise.all([M,S]).then(function([d,f]){if(g.destroyed)throw new Error("Loading aborted");const I=new _message_handler.MessageHandler(V,d,b.port),P=new WorkerTransport(I,g,f,h);g._transport=P,I.send("Ready",null)})}).catch(g._capability.reject),g}function _fetchDocument(E,g,x,h){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(E,g,x,h){if(E.destroyed)throw new Error("Worker was destroyed");x&&(g.length=x.length,g.initialData=x.initialData,g.progressiveDone=x.progressiveDone,g.contentDispositionFilename=x.contentDispositionFilename);const p=yield E.messageHandler.sendWithPromise("GetDocRequest",{docId:h,apiVersion:"2.14.305",source:{data:g.data,url:g.url,password:g.password,disableAutoFetch:g.disableAutoFetch,rangeChunkSize:g.rangeChunkSize,length:g.length},maxImageSize:g.maxImageSize,disableFontFace:g.disableFontFace,docBaseUrl:g.docBaseUrl,ignoreErrors:g.ignoreErrors,isEvalSupported:g.isEvalSupported,fontExtraProperties:g.fontExtraProperties,enableXfa:g.enableXfa,useSystemFonts:g.useSystemFonts,cMapUrl:g.useWorkerFetch?g.cMapUrl:null,standardFontDataUrl:g.useWorkerFetch?g.standardFontDataUrl:null});if(E.destroyed)throw new Error("Worker was destroyed");return p})).apply(this,arguments)}const j=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+gA(j,Oe)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var g=this;return _asyncToGenerator(function*(){g.destroyed=!0,yield g._transport?.destroy(),g._transport=null,g._worker&&(g._worker.destroy(),g._worker=null)})()}};let PDFDocumentLoadingTask=j;Oe=new WeakMap,nt(PDFDocumentLoadingTask,Oe,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(g,x,h=!1,p=null){this.length=g,this.initialData=x,this.progressiveDone=h,this.contentDispositionFilename=p,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(g){this._rangeListeners.push(g)}addProgressListener(g){this._progressListeners.push(g)}addProgressiveReadListener(g){this._progressiveReadListeners.push(g)}addProgressiveDoneListener(g){this._progressiveDoneListeners.push(g)}onDataRange(g,x){for(const h of this._rangeListeners)h(g,x)}onDataProgress(g,x){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(g,x)})}onDataProgressiveRead(g){this._readyCapability.promise.then(()=>{for(const x of this._progressiveReadListeners)x(g)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const g of this._progressiveDoneListeners)g()})}transportReady(){this._readyCapability.resolve()}requestDataRange(g,x){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(g,x){var p,h=this;this._pdfInfo=g,this._transport=x,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(p=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),h.stats||{streamTypes:{},fontTypes:{}}}),function(){return p.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(g){return this._transport.getPage(g)}getPageIndex(g){return this._transport.getPageIndex(g)}getDestinations(){return this._transport.getDestinations()}getDestination(g){return this._transport.getDestination(g)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(g=!1){return this._transport.startCleanup(g||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(g,x,h,p,b=!1){this._pageIndex=g,this._pageInfo=x,this._ownerDocument=p,this._transport=h,this._stats=b?new _display_utils.StatTimer:null,this._pdfBug=b,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:g,rotation:x=this.rotate,offsetX:h=0,offsetY:p=0,dontFlip:b=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:g,rotation:x,offsetX:h,offsetY:p,dontFlip:b})}getAnnotations({intent:g="display"}={}){const x=this._transport.getRenderingIntent(g);let h=this._annotationPromises.get(x.cacheKey);return h||(h=this._transport.getAnnotations(this._pageIndex,x.renderingIntent),this._annotationPromises.set(x.cacheKey,h),h=h.then(p=>{for(const b of p)void 0!==b.titleObj&&Object.defineProperty(b,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),b.titleObj.str)}),void 0!==b.contentsObj&&Object.defineProperty(b,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),b.contentsObj.str)});return p})),h}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var g=this;return _asyncToGenerator(function*(){return g._transport._htmlForXfa?.children[g._pageIndex]||null})()}render({canvasContext:g,viewport:x,intent:h="display",annotationMode:p=_util.AnnotationMode.ENABLE,transform:b=null,imageLayer:V=null,canvasFactory:M=null,background:S=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:I=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&p===_util.AnnotationMode.ENABLE&&(p=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&p===_util.AnnotationMode.ENABLE&&(p=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const P=this._transport.getRenderingIntent(h,p);this.pendingCleanup=!1,d||(d=this._transport.getOptionalContentConfig());let F=this._intentStates.get(P.cacheKey);F||(F=Object.create(null),this._intentStates.set(P.cacheKey,F)),F.streamReaderCancelTimeout&&(clearTimeout(F.streamReaderCancelTimeout),F.streamReaderCancelTimeout=null);const H=M||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$=!!(P.renderingIntent&_util.RenderingIntentFlag.PRINT);F.displayReadyCapability||(F.displayReadyCapability=(0,_util.createPromiseCapability)(),F.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(P));const W=le=>{F.renderTasks.delete(J),(this.cleanupAfterRender||$)&&(this.pendingCleanup=!0),this._tryCleanup(),le?(J.capability.reject(le),this._abortOperatorList({intentState:F,reason:le instanceof Error?le:new Error(le)})):J.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},J=new InternalRenderTask({callback:W,params:{canvasContext:g,viewport:x,transform:b,imageLayer:V,background:S},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:F.operatorList,pageIndex:this._pageIndex,canvasFactory:H,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:I});(F.renderTasks||(F.renderTasks=new Set)).add(J);const ie=J.task;return Promise.all([F.displayReadyCapability.promise,d]).then(([le,ge])=>{this.pendingCleanup?W():(this._stats&&this._stats.time("Rendering"),J.initializeGraphics({transparency:le,optionalContentConfig:ge}),J.operatorListChanged())}).catch(W),ie}getOperatorList({intent:g="display",annotationMode:x=_util.AnnotationMode.ENABLE}={}){const p=this._transport.getRenderingIntent(g,x,!0);let V,b=this._intentStates.get(p.cacheKey);return b||(b=Object.create(null),this._intentStates.set(p.cacheKey,b)),b.opListReadCapability||(V=Object.create(null),V.operatorListChanged=function h(){b.operatorList.lastChunk&&(b.opListReadCapability.resolve(b.operatorList),b.renderTasks.delete(V))},b.opListReadCapability=(0,_util.createPromiseCapability)(),(b.renderTasks||(b.renderTasks=new Set)).add(V),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(p)),b.opListReadCapability.promise}streamTextContent({disableCombineTextItems:g=!1,includeMarkedContent:x=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==g,includeMarkedContent:!0===x},{highWaterMark:100,size:p=>p.items.length})}getTextContent(g={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const x=this.streamTextContent(g);return new Promise(function(h,p){const V=x.getReader(),M={items:[],styles:Object.create(null)};!function b(){V.read().then(function({value:S,done:d}){d?h(M):(Object.assign(M.styles,S.styles),M.items.push(...S.items),b())},p)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const g=[];for(const x of this._intentStates.values())if(this._abortOperatorList({intentState:x,reason:new Error("Page was destroyed."),force:!0}),!x.opListReadCapability)for(const h of x.renderTasks)g.push(h.completed),h.cancel();this.objs.clear();for(const x of this._bitmaps)x.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(g)}cleanup(g=!1){return this.pendingCleanup=!0,this._tryCleanup(g)}_tryCleanup(g=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:x,operatorList:h}of this._intentStates.values())if(x.size>0||!h.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,g&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const x of this._bitmaps)x.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(g,x){const h=this._intentStates.get(x);!h||(this._stats&&this._stats.timeEnd("Page Request"),h.displayReadyCapability&&h.displayReadyCapability.resolve(g))}_renderPageChunk(g,x){for(let h=0,p=g.length;h<p;h++)x.operatorList.fnArray.push(g.fnArray[h]),x.operatorList.argsArray.push(g.argsArray[h]);x.operatorList.lastChunk=g.lastChunk;for(const h of x.renderTasks)h.operatorListChanged();g.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:g,cacheKey:x}){const p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:g,cacheKey:x,annotationStorage:g&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),b=this._intentStates.get(x);b.streamReader=p;const V=()=>{p.read().then(({value:M,done:S})=>{S?b.streamReader=null:this._transport.destroyed||(this._renderPageChunk(M,b),V())},M=>{if(b.streamReader=null,!this._transport.destroyed){if(b.operatorList){b.operatorList.lastChunk=!0;for(const S of b.renderTasks)S.operatorListChanged();this._tryCleanup()}if(b.displayReadyCapability)b.displayReadyCapability.reject(M);else{if(!b.opListReadCapability)throw M;b.opListReadCapability.reject(M)}}})};V()}_abortOperatorList({intentState:g,reason:x,force:h=!1}){if(g.streamReader){if(!h){if(g.renderTasks.size>0)return;if(x instanceof _display_utils.RenderingCancelledException)return void(g.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:g,reason:x,force:!0}),g.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(g.streamReader.cancel(new _util.AbortException(x.message)).catch(()=>{}),g.streamReader=null,!this._transport.destroyed){for(const[p,b]of this._intentStates)if(b===g){this._intentStates.delete(p);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(g,x){const h={data:structuredClone(g,x)};this._deferred.then(()=>{for(const p of this._listeners)p.call(this,h)})}addEventListener(g,x){this._listeners.push(x)}removeEventListener(g,x){const h=this._listeners.indexOf(x);this._listeners.splice(h,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const E=document?.currentScript?.src;E&&(PDFWorkerUtil.fallbackWorkerSrc=E.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(E,g){let x;try{if(x=new URL(E),!x.origin||"null"===x.origin)return!1}catch{return!1}const h=new URL(g,x);return x.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(E){return URL.createObjectURL(new Blob([`importScripts("${E}");`]))};const _PDFWorker=class{constructor({name:E=null,port:g=null,verbosity:x=(0,_util.getVerbosityLevel)()}={}){if(g&&Je(_PDFWorker,Ae).has(g))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=E,this.destroyed=!1,this.verbosity=x,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,g)return Je(_PDFWorker,Ae).set(g,this),void this._initializeFromPort(g);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(E){this._port=E,this._messageHandler=new _message_handler.MessageHandler("main","worker",E),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let E=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,E)||(E=PDFWorkerUtil.createCDNWrapper(new URL(E,window.location).href));const g=new Worker(E),x=new _message_handler.MessageHandler("main","worker",g),h=()=>{g.removeEventListener("error",p),x.destroy(),g.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},p=()=>{this._webWorker||h()};g.addEventListener("error",p),x.on("test",V=>{g.removeEventListener("error",p),this.destroyed?h():V?(this._messageHandler=x,this._port=g,this._webWorker=g,this._readyCapability.resolve(),x.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),x.destroy(),g.terminate())}),x.on("ready",V=>{if(g.removeEventListener("error",p),this.destroyed)h();else try{b()}catch{this._setupFakeWorker()}});const b=()=>{const V=new Uint8Array;x.send("test",V,[V.buffer])};return void b()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(E=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const g=new LoopbackPort;this._port=g;const x="fake"+PDFWorkerUtil.fakeWorkerId++,h=new _message_handler.MessageHandler(x+"_worker",x,g);E.setup(h,g);const p=new _message_handler.MessageHandler(x,x+"_worker",g);this._messageHandler=p,this._readyCapability.resolve(),p.send("configure",{verbosity:this.verbosity})}).catch(E=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${E.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Je(_PDFWorker,Ae).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(E){if(!E?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Je(this,Ae).has(E.port)?Je(this,Ae).get(E.port):new _PDFWorker(E)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function E(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;Ae=new WeakMap,nt(PDFWorker,Ae,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(g,x,h,p){nt(this,A,null),nt(this,xe,new Map),nt(this,Ce,new Map),nt(this,pe,null),this.messageHandler=g,this.loadingTask=x,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:x.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:p.ownerDocument,styleElement:p.styleElement}),this._params=p,p.useWorkerFetch||(this.CMapReaderFactory=new p.CMapReaderFactory({baseUrl:p.cMapUrl,isCompressed:p.cMapPacked}),this.StandardFontDataFactory=new p.StandardFontDataFactory({baseUrl:p.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Je(this,A)}getRenderingIntent(g,x=_util.AnnotationMode.ENABLE,h=!1){let p=_util.RenderingIntentFlag.DISPLAY,b="";switch(g){case"any":p=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":p=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${g}`)}switch(x){case _util.AnnotationMode.DISABLE:p+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:p+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:p+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,b=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${x}`)}return h&&(p+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:p,cacheKey:`${p}_${b}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const g=[];for(const h of Je(this,xe).values())g.push(h._destroy());Je(this,xe).clear(),Je(this,Ce).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const x=this.messageHandler.sendWithPromise("Terminate",null);return g.push(x),Promise.all(g).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Xt(this,pe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:g,loadingTask:x}=this;g.on("GetReader",(h,p)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=b=>{this._lastProgress={loaded:b.loaded,total:b.total}},p.onPull=()=>{this._fullReader.read().then(function({value:b,done:V}){V?p.close():((0,_util.assert)((0,_util.isArrayBuffer)(b),"GetReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(b),1,[b]))}).catch(b=>{p.error(b)})},p.onCancel=b=>{this._fullReader.cancel(b),p.ready.catch(V=>{if(!this.destroyed)throw V})}}),g.on("ReaderHeadersReady",h=>{const p=(0,_util.createPromiseCapability)(),b=this._fullReader;return b.headersReady.then(()=>{(!b.isStreamingSupported||!b.isRangeSupported)&&(this._lastProgress&&x.onProgress?.(this._lastProgress),b.onProgress=V=>{x.onProgress?.({loaded:V.loaded,total:V.total})}),p.resolve({isStreamingSupported:b.isStreamingSupported,isRangeSupported:b.isRangeSupported,contentLength:b.contentLength})},p.reject),p.promise}),g.on("GetRangeReader",(h,p)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const b=this._networkStream.getRangeReader(h.begin,h.end);b?(p.onPull=()=>{b.read().then(function({value:V,done:M}){M?p.close():((0,_util.assert)((0,_util.isArrayBuffer)(V),"GetRangeReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(V),1,[V]))}).catch(V=>{p.error(V)})},p.onCancel=V=>{b.cancel(V),p.ready.catch(M=>{if(!this.destroyed)throw M})}):p.close()}),g.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,x._capability.resolve(new PDFDocumentProxy(h,this))}),g.on("DocException",function(h){let p;switch(h.name){case"PasswordException":p=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":p=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":p=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":p=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":p=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}x._capability.reject(p)}),g.on("PasswordRequest",h=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),x.onPassword){const p=b=>{b instanceof Error?this._passwordCapability.reject(b):this._passwordCapability.resolve({password:b})};try{x.onPassword(p,h.code)}catch(b){this._passwordCapability.reject(b)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),g.on("DataLoaded",h=>{x.onProgress?.({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),g.on("StartRenderPage",h=>{this.destroyed||Je(this,xe).get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),g.on("commonobj",([h,p,b])=>{if(!this.destroyed&&!this.commonObjs.has(h))switch(p){case"Font":const V=this._params;if("error"in b){const d=b.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(h,d);break}let M=null;V.pdfBug&&globalThis.FontInspector?.enabled&&(M={registerFont(d,f){globalThis.FontInspector.fontAdded(d,f)}});const S=new _font_loader.FontFaceObject(b,{isEvalSupported:V.isEvalSupported,disableFontFace:V.disableFontFace,ignoreErrors:V.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:M});this.fontLoader.bind(S).catch(d=>g.sendWithPromise("FontFallback",{id:h})).finally(()=>{!V.fontExtraProperties&&S.data&&(S.data=null),this.commonObjs.resolve(h,S)});break;case"FontPath":case"Image":this.commonObjs.resolve(h,b);break;default:throw new Error(`Got unknown common object type ${p}`)}}),g.on("obj",([h,p,b,V])=>{if(this.destroyed)return;const M=Je(this,xe).get(p);if(!M.objs.has(h))switch(b){case"Image":M.objs.resolve(h,V);const S=8e6;if(V){let d;if(V.bitmap){const{bitmap:f,width:I,height:P}=V;d=I*P*4,M._bitmaps.add(f)}else d=V.data?.length||0;d>S&&(M.cleanupAfterRender=!0)}break;case"Pattern":M.objs.resolve(h,V);break;default:throw new Error(`Got unknown object type ${b}`)}}),g.on("DocProgress",h=>{this.destroyed||x.onProgress?.({loaded:h.loaded,total:h.total})}),g.on("DocStats",h=>{this.destroyed||Xt(this,A,Object.freeze({streamTypes:Object.freeze(h.streamTypes),fontTypes:Object.freeze(h.fontTypes)}))}),g.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),g.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),g.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:g}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(g)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(g){if(!Number.isInteger(g)||g<=0||g>this._numPages)return Promise.reject(new Error("Invalid page request."));const x=g-1,h=Je(this,Ce).get(x);if(h)return h;const p=this.messageHandler.sendWithPromise("GetPage",{pageIndex:x}).then(b=>{if(this.destroyed)throw new Error("Transport destroyed");const V=new PDFPageProxy(x,b,this,this._params.ownerDocument,this._params.pdfBug);return Je(this,xe).set(x,V),V});return Je(this,Ce).set(x,p),p}getPageIndex(g){return"object"!=typeof g||null===g||!Number.isInteger(g.num)||g.num<0||!Number.isInteger(g.gen)||g.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:g.num,gen:g.gen})}getAnnotations(g,x){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:g,intent:x})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(g){return"string"!=typeof g?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:g})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(g){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:g})}getStructTree(g){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:g})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(g=>new _optional_content_config.OptionalContentConfig(g))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Je(this,pe)||Xt(this,pe,this.messageHandler.sendWithPromise("GetMetadata",null).then(g=>({info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(g=!1){var x=this;return _asyncToGenerator(function*(){if(yield x.messageHandler.sendWithPromise("Cleanup",null),!x.destroyed){for(const h of Je(x,xe).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);x.commonObjs.clear(),g||x.fontLoader.clear(),Xt(x,pe,null),x._getFieldObjectsPromise=null,x._hasJSActionsPromise=null}})()}get loadingParams(){const g=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:g.disableAutoFetch,enableXfa:g.enableXfa})}}A=new WeakMap,xe=new WeakMap,Ce=new WeakMap,pe=new WeakMap;class PDFObjects{constructor(){nt(this,X),nt(this,ce,Object.create(null))}get(g,x=null){if(x){const p=Ze(this,X,jp).call(this,g);return p.capability.promise.then(()=>x(p.data)),null}const h=Je(this,ce)[g];if(!h?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${g}.`);return h.data}has(g){return Je(this,ce)[g]?.capability.settled||!1}resolve(g,x=null){const h=Ze(this,X,jp).call(this,g);h.data=x,h.capability.resolve()}clear(){Xt(this,ce,Object.create(null))}}ce=new WeakMap,X=new WeakSet,jp=function(g){return Je(this,ce)[g]||(Je(this,ce)[g]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(g){this._internalRenderTask=g,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const T=class{constructor({callback:g,params:x,objs:h,commonObjs:p,annotationCanvasMap:b,operatorList:V,pageIndex:M,canvasFactory:S,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:I=null}){this.callback=g,this.params=x,this.objs=h,this.commonObjs=p,this.annotationCanvasMap=b,this.operatorListIdx=null,this.operatorList=V,this._pageIndex=M,this.canvasFactory=S,this._pdfBug=f,this.pageColors=I,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=x.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:g=!1,optionalContentConfig:x}){if(this.cancelled)return;if(this._canvas){if(Je(T,N).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Je(T,N).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:p,transform:b,imageLayer:V,background:M}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,V,x,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:b,viewport:p,transparency:g,background:M}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(g=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Je(T,N).delete(this._canvas),this.callback(g||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var g=this;return _asyncToGenerator(function*(){g.cancelled||(g.operatorListIdx=g.gfx.executeOperatorList(g.operatorList,g.operatorListIdx,g._continueBound,g.stepper),g.operatorListIdx===g.operatorList.argsArray.length&&(g.running=!1,g.operatorList.lastChunk&&(g.gfx.endDrawing(),g._canvas&&Je(T,N).delete(g._canvas),g.callback())))})()}};let InternalRenderTask=T;N=new WeakMap,nt(InternalRenderTask,N,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.StatTimer=j.RenderingCancelledException=j.PixelsPerInch=j.PageViewport=j.PDFDateString=j.DOMStandardFontDataFactory=j.DOMSVGFactory=j.DOMCanvasFactory=j.DOMCMapReaderFactory=void 0,j.deprecated=function f($){console.log("Deprecated API usage: "+$)},j.getFilenameFromUrl=function b($){const W=$.indexOf("#"),J=$.indexOf("?"),ie=Math.min(W>0?W:$.length,J>0?J:$.length);return $.substring($.lastIndexOf("/",ie)+1,ie)},j.getPdfFilenameFromUrl=function V($,W="document.pdf"){if("string"!=typeof $)return W;if(h($))return(0,xe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),W;const ie=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec($);let ge=ie.exec(le[1])||ie.exec(le[2])||ie.exec(le[3]);if(ge&&(ge=ge[0],ge.includes("%")))try{ge=ie.exec(decodeURIComponent(ge))[0]}catch{}return ge||W},j.getXfaPageViewport=function F($,{scale:W=1,rotation:J=0}){const{width:ie,height:le}=$.attributes.style,ge=[0,0,parseInt(ie),parseInt(le)];return new g({viewBox:ge,scale:W,rotation:J})},j.isDataScheme=h,j.isPdfFile=function p($){return"string"==typeof $&&/\.pdf$/i.test($)},j.isValidFetchUrl=S,j.loadScript=function d($,W=!1){return new Promise((J,ie)=>{const le=document.createElement("script");le.src=$,le.onload=function(ge){W&&le.remove(),J(ge)},le.onerror=function(){ie(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).appendChild(le)})};var A=Ae(6),xe=Ae(1);const H=class{};let I,pe=H;function X($){return C.apply(this,arguments)}function C(){return(C=_asyncToGenerator(function*($,W=!1){if(S($,document.baseURI)){const J=yield fetch($);if(!J.ok)throw new Error(J.statusText);return W?new Uint8Array(yield J.arrayBuffer()):(0,xe.stringToBytes)(yield J.text())}return new Promise((J,ie)=>{const le=new XMLHttpRequest;le.open("GET",$,!0),W&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(200===le.status||0===le.status){let ge;if(W&&le.response?ge=new Uint8Array(le.response):!W&&le.responseText&&(ge=(0,xe.stringToBytes)(le.responseText)),ge)return void J(ge)}ie(new Error(le.statusText))}},le.send(null)})})).apply(this,arguments)}lc(pe,"CSS",96),lc(pe,"PDF",72),lc(pe,"PDF_TO_CSS_UNITS",H.CSS/H.PDF),j.PixelsPerInch=pe,j.DOMCanvasFactory=class ce extends A.BaseCanvasFactory{constructor({ownerDocument:W=globalThis.document}={}){super(),this._document=W}_createCanvas(W,J){const ie=this._document.createElement("canvas");return ie.width=W,ie.height=J,ie}},j.DOMCMapReaderFactory=class N extends A.BaseCMapReaderFactory{_fetchData(W,J){return X(W,this.isCompressed).then(ie=>({cMapData:ie,compressionType:J}))}},j.DOMStandardFontDataFactory=class T extends A.BaseStandardFontDataFactory{_fetchData(W){return X(W,!0)}},j.DOMSVGFactory=class E extends A.BaseSVGFactory{_createSVG(W){return document.createElementNS("http://www.w3.org/2000/svg",W)}};class g{constructor({viewBox:W,scale:J,rotation:ie,offsetX:le=0,offsetY:ge=0,dontFlip:Z=!1}){this.viewBox=W,this.scale=J,this.rotation=ie,this.offsetX=le,this.offsetY=ge;const ue=(W[2]+W[0])/2,se=(W[3]+W[1])/2;let ve,De,B,m,_,c,y,w;switch((ie%=360)<0&&(ie+=360),ie){case 180:ve=-1,De=0,B=0,m=1;break;case 90:ve=0,De=1,B=1,m=0;break;case 270:ve=0,De=-1,B=-1,m=0;break;case 0:ve=1,De=0,B=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Z&&(B=-B,m=-m),0===ve?(_=Math.abs(se-W[1])*J+le,c=Math.abs(ue-W[0])*J+ge,y=Math.abs(W[3]-W[1])*J,w=Math.abs(W[2]-W[0])*J):(_=Math.abs(ue-W[0])*J+le,c=Math.abs(se-W[1])*J+ge,y=Math.abs(W[2]-W[0])*J,w=Math.abs(W[3]-W[1])*J),this.transform=[ve*J,De*J,B*J,m*J,_-ve*J*ue-B*J*se,c-De*J*ue-m*J*se],this.width=y,this.height=w}clone({scale:W=this.scale,rotation:J=this.rotation,offsetX:ie=this.offsetX,offsetY:le=this.offsetY,dontFlip:ge=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:W,rotation:J,offsetX:ie,offsetY:le,dontFlip:ge})}convertToViewportPoint(W,J){return xe.Util.applyTransform([W,J],this.transform)}convertToViewportRectangle(W){const J=xe.Util.applyTransform([W[0],W[1]],this.transform),ie=xe.Util.applyTransform([W[2],W[3]],this.transform);return[J[0],J[1],ie[0],ie[1]]}convertToPdfPoint(W,J){return xe.Util.applyInverseTransform([W,J],this.transform)}}function h($){const W=$.length;let J=0;for(;J<W&&""===$[J].trim();)J++;return"data:"===$.substring(J,J+5).toLowerCase()}function S($,W){try{const{protocol:J}=W?new URL($,W):new URL($);return"http:"===J||"https:"===J}catch{return!1}}j.PageViewport=g,j.RenderingCancelledException=class x extends xe.BaseException{constructor(W,J){super(W,"RenderingCancelledException"),this.type=J}},j.StatTimer=class M{constructor(){this.started=Object.create(null),this.times=[]}time(W){W in this.started&&(0,xe.warn)(`Timer is already running for ${W}`),this.started[W]=Date.now()}timeEnd(W){W in this.started||(0,xe.warn)(`Timer has not been started for ${W}`),this.times.push({name:W,start:this.started[W],end:Date.now()}),delete this.started[W]}toString(){const W=[];let J=0;for(const ie of this.times){const le=ie.name;le.length>J&&(J=le.length)}for(const ie of this.times){const le=ie.end-ie.start;W.push(`${ie.name.padEnd(J)} ${le}ms\n`)}return W.join("")}},j.PDFDateString=class P{static toDateObject(W){if(!W||"string"!=typeof W)return null;I||(I=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const J=I.exec(W);if(!J)return null;const ie=parseInt(J[1],10);let le=parseInt(J[2],10);le=le>=1&&le<=12?le-1:0;let ge=parseInt(J[3],10);ge=ge>=1&&ge<=31?ge:1;let Z=parseInt(J[4],10);Z=Z>=0&&Z<=23?Z:0;let ue=parseInt(J[5],10);ue=ue>=0&&ue<=59?ue:0;let se=parseInt(J[6],10);se=se>=0&&se<=59?se:0;const ve=J[7]||"Z";let De=parseInt(J[8],10);De=De>=0&&De<=23?De:0;let B=parseInt(J[9],10)||0;return B=B>=0&&B<=59?B:0,"-"===ve?(Z+=De,ue+=B):"+"===ve&&(Z-=De,ue-=B),new Date(Date.UTC(ie,le,ge,Z,ue,se))}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.BaseStandardFontDataFactory=j.BaseSVGFactory=j.BaseCanvasFactory=j.BaseCMapReaderFactory=void 0;var A=Ae(1);class xe{constructor(){this.constructor===xe&&(0,A.unreachable)("Cannot initialize BaseCanvasFactory.")}create(C,N){if(C<=0||N<=0)throw new Error("Invalid canvas size");const T=this._createCanvas(C,N);return{canvas:T,context:T.getContext("2d")}}reset(C,N,T){if(!C.canvas)throw new Error("Canvas is not specified");if(N<=0||T<=0)throw new Error("Invalid canvas size");C.canvas.width=N,C.canvas.height=T}destroy(C){if(!C.canvas)throw new Error("Canvas is not specified");C.canvas.width=0,C.canvas.height=0,C.canvas=null,C.context=null}_createCanvas(C,N){(0,A.unreachable)("Abstract method `_createCanvas` called.")}}j.BaseCanvasFactory=xe;class Ce{constructor({baseUrl:C=null,isCompressed:N=!1}){this.constructor===Ce&&(0,A.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=C,this.isCompressed=N}fetch({name:C}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!C)throw new Error("CMap name must be specified.");const T=N.baseUrl+C+(N.isCompressed?".bcmap":"");return N._fetchData(T,N.isCompressed?A.CMapCompressionType.BINARY:A.CMapCompressionType.NONE).catch(g=>{throw new Error(`Unable to load ${N.isCompressed?"binary ":""}CMap at: ${T}`)})})()}_fetchData(C,N){(0,A.unreachable)("Abstract method `_fetchData` called.")}}j.BaseCMapReaderFactory=Ce;class pe{constructor({baseUrl:C=null}){this.constructor===pe&&(0,A.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=C}fetch({filename:C}){var N=this;return _asyncToGenerator(function*(){if(!N.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!C)throw new Error("Font filename must be specified.");const T=`${N.baseUrl}${C}`;return N._fetchData(T).catch(E=>{throw new Error(`Unable to load font data at: ${T}`)})})()}_fetchData(C){(0,A.unreachable)("Abstract method `_fetchData` called.")}}j.BaseStandardFontDataFactory=pe;class ce{constructor(){this.constructor===ce&&(0,A.unreachable)("Cannot initialize BaseSVGFactory.")}create(C,N){if(C<=0||N<=0)throw new Error("Invalid SVG dimensions");const T=this._createSVG("svg:svg");return T.setAttribute("version","1.1"),T.setAttribute("width",`${C}px`),T.setAttribute("height",`${N}px`),T.setAttribute("preserveAspectRatio","none"),T.setAttribute("viewBox",`0 0 ${C} ${N}`),T}createElement(C){if("string"!=typeof C)throw new Error("Invalid SVG element type");return this._createSVG(C)}_createSVG(C){(0,A.unreachable)("Abstract method `_createSVG` called.")}}j.BaseSVGFactory=ce},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.FontLoader=j.FontFaceObject=void 0;var A=Ae(1);class xe{constructor({docId:X,onUnsupportedFeature:C,ownerDocument:N=globalThis.document,styleElement:T=null}){this.constructor===xe&&(0,A.unreachable)("Cannot initialize BaseFontLoader."),this.docId=X,this._onUnsupportedFeature=C,this._document=N,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(X){this.nativeFontFaces.push(X),this._document.fonts.add(X)}insertRule(X){let C=this.styleElement;C||(C=this.styleElement=this._document.createElement("style"),C.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(C));const N=C.sheet;N.insertRule(X,N.cssRules.length)}clear(){for(const X of this.nativeFontFaces)this._document.fonts.delete(X);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(X){var C=this;return _asyncToGenerator(function*(){if(X.attached||X.missingFile)return;if(X.attached=!0,C.isFontLoadingAPISupported){const T=X.createNativeFontFace();if(T){C.addNativeFontFace(T);try{yield T.loaded}catch(E){throw C._onUnsupportedFeature({featureId:A.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,A.warn)(`Failed to load font '${T.family}': '${E}'.`),X.disableFontFace=!0,E}}return}const N=X.createFontFaceRule();if(N){if(C.insertRule(N),C.isSyncFontLoadingSupported)return;yield new Promise(T=>{const E=C._queueLoadingCallback(T);C._prepareFontLoadEvent([N],[X],E)})}})()}_queueLoadingCallback(X){(0,A.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,A.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,A.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,A.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(X,C,N){(0,A.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let Ce;j.FontLoader=Ce,j.FontLoader=Ce=class extends xe{constructor(X){super(X),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let X=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(X=!0),(0,A.shadow)(this,"isSyncFontLoadingSupported",X)}_queueLoadingCallback(X){const N=this.loadingContext,T={id:"pdfjs-font-loading-"+N.nextRequestId++,done:!1,complete:function C(){for((0,A.assert)(!T.done,"completeRequest() cannot be called twice."),T.done=!0;N.requests.length>0&&N.requests[0].done;){const E=N.requests.shift();setTimeout(E.callback,0)}},callback:X};return N.requests.push(T),T}get _loadTestFont(){return(0,A.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(X,C,N){function T(J,ie){return J.charCodeAt(ie)<<24|J.charCodeAt(ie+1)<<16|J.charCodeAt(ie+2)<<8|255&J.charCodeAt(ie+3)}function E(J,ie,le,ge){return J.substring(0,ie)+ge+J.substring(ie+le)}let g,x;const h=this._document.createElement("canvas");h.width=1,h.height=1;const p=h.getContext("2d");let b=0;const M=`lt${Date.now()}${this.loadTestFontId++}`;let S=this._loadTestFont;S=E(S,976,M.length,M);const I=1482184792;let P=T(S,16);for(g=0,x=M.length-3;g<x;g+=4)P=P-I+T(M,g)|0;g<M.length&&(P=P-I+T(M+"XXX",g)|0),S=E(S,16,4,(0,A.string32)(P));const F=`url(data:font/opentype;base64,${btoa(S)});`;this.insertRule(`@font-face {font-family:"${M}";src:${F}}`);const $=[];for(const J of C)$.push(J.loadedName);$.push(M);const W=this._document.createElement("div");W.style.visibility="hidden",W.style.width=W.style.height="10px",W.style.position="absolute",W.style.top=W.style.left="0px";for(const J of $){const ie=this._document.createElement("span");ie.textContent="Hi",ie.style.fontFamily=J,W.appendChild(ie)}this._document.body.appendChild(W),function V(J,ie){if(b++,b>30)return(0,A.warn)("Load test font never loaded."),void ie();p.font="30px "+J,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0?ie():setTimeout(V.bind(null,J,ie))}(M,()=>{W.remove(),N.complete()})}},j.FontFaceObject=class pe{constructor(X,{isEvalSupported:C=!0,disableFontFace:N=!1,ignoreErrors:T=!1,onUnsupportedFeature:E,fontRegistry:g=null}){this.compiledGlyphs=Object.create(null);for(const x in X)this[x]=X[x];this.isEvalSupported=!1!==C,this.disableFontFace=!0===N,this.ignoreErrors=!0===T,this._onUnsupportedFeature=E,this.fontRegistry=g}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let X;if(this.cssFontInfo){const C={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(C.style=`oblique ${this.cssFontInfo.italicAngle}deg`),X=new FontFace(this.cssFontInfo.fontFamily,this.data,C)}else X=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),X}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const X=(0,A.bytesToString)(this.data),C=`url(data:${this.mimetype};base64,${btoa(X)});`;let N;if(this.cssFontInfo){let T=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(T+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),N=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${T}src:${C}}`}else N=`@font-face {font-family:"${this.loadedName}";src:${C}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,C),N}getPathGenerator(X,C){if(void 0!==this.compiledGlyphs[C])return this.compiledGlyphs[C];let N;try{N=X.get(this.loadedName+"_path_"+C)}catch(T){if(!this.ignoreErrors)throw T;return this._onUnsupportedFeature({featureId:A.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,A.warn)(`getPathGenerator - ignoring character: "${T}".`),this.compiledGlyphs[C]=function(E,g){}}if(this.isEvalSupported&&A.FeatureTest.isEvalSupported){const T=[];for(const E of N){const g=void 0!==E.args?E.args.join(","):"";T.push("c.",E.cmd,"(",g,");\n")}return this.compiledGlyphs[C]=new Function("c","size",T.join(""))}return this.compiledGlyphs[C]=function(T,E){for(const g of N)"scale"===g.cmd&&(g.args=[E,-E]),T[g.cmd].apply(T,g.args)}}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.AnnotationStorage=void 0;var A=Ae(9),xe=Ae(1);j.AnnotationStorage=class Ce{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ce,X){const C=this._storage.get(ce);return void 0===C?X:Object.assign(X,C)}getRawValue(ce){return this._storage.get(ce)}setValue(ce,X){const C=this._storage.get(ce);let N=!1;if(void 0!==C)for(const[T,E]of Object.entries(X))C[T]!==E&&(N=!0,C[T]=E);else N=!0,this._storage.set(ce,X);N&&this._setModified()}getAll(){return this._storage.size>0?(0,xe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ce=new A.MurmurHash3_64;for(const[X,C]of this._storage)ce.update(`${X}:${JSON.stringify(C)}`);return ce.hexdigest()}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.MurmurHash3_64=void 0;var A=Ae(1);const xe=3285377520,Ce=4294901760,pe=65535;j.MurmurHash3_64=class ce{constructor(C){this.h1=C?4294967295&C:xe,this.h2=C?4294967295&C:xe}update(C){let N,T;if("string"==typeof C){N=new Uint8Array(2*C.length),T=0;for(let I=0,P=C.length;I<P;I++){const F=C.charCodeAt(I);F<=255?N[T++]=F:(N[T++]=F>>>8,N[T++]=255&F)}}else{if(!(0,A.isArrayBuffer)(C))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");N=C.slice(),T=N.byteLength}const E=T>>2,g=T-4*E,x=new Uint32Array(N.buffer,0,E);let h=0,p=0,b=this.h1,V=this.h2;const M=3432918353,S=461845907,d=M&pe,f=S&pe;for(let I=0;I<E;I++)1&I?(h=x[I],h=h*M&Ce|h*d&pe,h=h<<15|h>>>17,h=h*S&Ce|h*f&pe,b^=h,b=b<<13|b>>>19,b=5*b+3864292196):(p=x[I],p=p*M&Ce|p*d&pe,p=p<<15|p>>>17,p=p*S&Ce|p*f&pe,V^=p,V=V<<13|V>>>19,V=5*V+3864292196);switch(h=0,g){case 3:h^=N[4*E+2]<<16;case 2:h^=N[4*E+1]<<8;case 1:h^=N[4*E],h=h*M&Ce|h*d&pe,h=h<<15|h>>>17,h=h*S&Ce|h*f&pe,1&E?b^=h:V^=h}this.h1=b,this.h2=V}hexdigest(){let C=this.h1,N=this.h2;C^=N>>>1,C=3981806797*C&Ce|36045*C&pe,N=4283543511*N&Ce|(2950163797*(N<<16|C>>>16)&Ce)>>>16,C^=N>>>1,C=444984403*C&Ce|60499*C&pe,N=3301882366*N&Ce|(3120437893*(N<<16|C>>>16)&Ce)>>>16,C^=N>>>1;const T=(C>>>0).toString(16),E=(N>>>0).toString(16);return T.padStart(8,"0")+E.padStart(8,"0")}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.CanvasGraphics=void 0;var A=Ae(1),xe=Ae(11),Ce=Ae(12),pe=Ae(3),ce=Ae(5);const N=4096,h=16;function V(B){if(B._transformStack&&(B._transformStack=[]),!B.mozCurrentTransform){B._originalSave=B.save,B._originalRestore=B.restore,B._originalRotate=B.rotate,B._originalScale=B.scale,B._originalTranslate=B.translate,B._originalTransform=B.transform,B._originalSetTransform=B.setTransform,B._originalResetTransform=B.resetTransform,B._transformMatrix=B._transformMatrix||[1,0,0,1,0,0],B._transformStack=[];try{const m=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(B),"lineWidth");B._setLineWidth=m.set,B._getLineWidth=m.get,Object.defineProperty(B,"lineWidth",{set:function(c){this._setLineWidth(1.000001*c)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(B,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(B,"mozCurrentTransformInverse",{get:function(){const[_,c,y,w,k,O]=this._transformMatrix,L=_*w-c*y,ee=c*y-_*w;return[w/L,c/ee,y/ee,_/L,(w*k-y*O)/ee,(c*k-_*O)/L]}}),B.save=function(){const _=this._transformMatrix;this._transformStack.push(_),this._transformMatrix=_.slice(0,6),this._originalSave()},B.restore=function(){0===this._transformStack.length&&(0,A.warn)("Tried to restore a ctx when the stack was already empty.");const _=this._transformStack.pop();_&&(this._transformMatrix=_,this._originalRestore())},B.translate=function(_,c){const y=this._transformMatrix;y[4]=y[0]*_+y[2]*c+y[4],y[5]=y[1]*_+y[3]*c+y[5],this._originalTranslate(_,c)},B.scale=function(_,c){const y=this._transformMatrix;y[0]*=_,y[1]*=_,y[2]*=c,y[3]*=c,this._originalScale(_,c)},B.transform=function(_,c,y,w,k,O){const L=this._transformMatrix;this._transformMatrix=[L[0]*_+L[2]*c,L[1]*_+L[3]*c,L[0]*y+L[2]*w,L[1]*y+L[3]*w,L[0]*k+L[2]*O+L[4],L[1]*k+L[3]*O+L[5]],B._originalTransform(_,c,y,w,k,O)},B.setTransform=function(_,c,y,w,k,O){this._transformMatrix=[_,c,y,w,k,O],B._originalSetTransform(_,c,y,w,k,O)},B.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],B._originalResetTransform()},B.rotate=function(_){const c=Math.cos(_),y=Math.sin(_),w=this._transformMatrix;this._transformMatrix=[w[0]*c+w[2]*y,w[1]*c+w[3]*y,w[0]*-y+w[2]*c,w[1]*-y+w[3]*c,w[4],w[5]],this._originalRotate(_)}}}class M{constructor(m){this.canvasFactory=m,this.cache=Object.create(null)}getCanvas(m,_,c,y){let w;return void 0!==this.cache[m]?(w=this.cache[m],this.canvasFactory.reset(w,_,c),w.context.setTransform(1,0,0,1,0,0)):(w=this.canvasFactory.create(_,c),this.cache[m]=w),y&&V(w.context),w}delete(m){delete this.cache[m]}clear(){for(const m in this.cache)this.canvasFactory.destroy(this.cache[m]),delete this.cache[m]}}function S(B,m,_,c,y,w,k,O,L,ee){const[re,ne,oe,he,ye,Re]=B.mozCurrentTransform;if(0===ne&&0===oe){const be=Math.round(k*re+ye),K=Math.round(O*he+Re),Ue=Math.abs(Math.round((k+L)*re+ye)-be)||1,Ie=Math.abs(Math.round((O+ee)*he+Re)-K)||1;return B.setTransform(Math.sign(re),0,0,Math.sign(he),be,K),B.drawImage(m,_,c,y,w,0,0,Ue,Ie),B.setTransform(re,ne,oe,he,ye,Re),[Ue,Ie]}if(0===re&&0===he){const be=Math.round(O*oe+ye),K=Math.round(k*ne+Re),Ue=Math.abs(Math.round((O+ee)*oe+ye)-be)||1,Ie=Math.abs(Math.round((k+L)*ne+Re)-K)||1;return B.setTransform(0,Math.sign(ne),Math.sign(oe),0,be,K),B.drawImage(m,_,c,y,w,0,0,Ie,Ue),B.setTransform(re,ne,oe,he,ye,Re),[Ie,Ue]}return B.drawImage(m,_,c,y,w,k,O,L,ee),[Math.hypot(re,ne)*L,Math.hypot(oe,he)*ee]}class f{constructor(m,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=A.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=A.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,m,_])}clone(){const m=Object.create(this);return m.clipBox=this.clipBox.slice(),m}setCurrentPoint(m,_){this.x=m,this.y=_}updatePathMinMax(m,_,c){[_,c]=A.Util.applyTransform([_,c],m),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,c),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,c)}updateRectMinMax(m,_){const c=A.Util.applyTransform(_,m),y=A.Util.applyTransform(_.slice(2),m);this.minX=Math.min(this.minX,c[0],y[0]),this.minY=Math.min(this.minY,c[1],y[1]),this.maxX=Math.max(this.maxX,c[0],y[0]),this.maxY=Math.max(this.maxY,c[1],y[1])}updateScalingPathMinMax(m,_){A.Util.scaleMinMax(m,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(m,_,c,y,w,k,O,L,ee,re){const ne=A.Util.bezierBoundingBox(_,c,y,w,k,O,L,ee);if(re)return re[0]=Math.min(re[0],ne[0],ne[2]),re[1]=Math.max(re[1],ne[0],ne[2]),re[2]=Math.min(re[2],ne[1],ne[3]),void(re[3]=Math.max(re[3],ne[1],ne[3]));this.updateRectMinMax(m,ne)}getPathBoundingBox(m=xe.PathType.FILL,_=null){const c=[this.minX,this.minY,this.maxX,this.maxY];if(m===xe.PathType.STROKE){_||(0,A.unreachable)("Stroke bounding box must include transform.");const y=A.Util.singularValueDecompose2dScale(_),w=y[0]*this.lineWidth/2,k=y[1]*this.lineWidth/2;c[0]-=w,c[1]-=k,c[2]+=w,c[3]+=k}return c}updateClipFromPath(){const m=A.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(m||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(m){this.clipBox=m,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(m=xe.PathType.FILL,_=null){return A.Util.intersect(this.clipBox,this.getPathBoundingBox(m,_))}}function I(B,m,_=null){if(typeof ImageData<"u"&&m instanceof ImageData)return void B.putImageData(m,0,0);const c=m.height,y=m.width,w=c%h,k=(c-w)/h,O=0===w?k:k+1,L=B.createImageData(y,h);let re,ee=0;const ne=m.data,oe=L.data;let he,ye,Re,qe,me,we,be,R;if(_)switch(_.length){case 1:me=_[0],we=_[0],be=_[0],R=_[0];break;case 4:me=_[0],we=_[1],be=_[2],R=_[3]}if(m.kind===A.ImageKind.GRAYSCALE_1BPP){const K=ne.byteLength,ae=new Uint32Array(oe.buffer,0,oe.byteLength>>2),Ue=ae.length,Ve=y+7>>3;let Ie=4294967295,Ge=A.FeatureTest.isLittleEndian?4278190080:255;for(R&&255===R[0]&&0===R[255]&&([Ie,Ge]=[Ge,Ie]),he=0;he<O;he++){for(Re=he<k?h:w,re=0,ye=0;ye<Re;ye++){const He=K-ee;let ft=0;const vt=He>Ve?y:8*He-7,Ot=-8&vt;let _e=0,q=0;for(;ft<Ot;ft+=8)q=ne[ee++],ae[re++]=128&q?Ie:Ge,ae[re++]=64&q?Ie:Ge,ae[re++]=32&q?Ie:Ge,ae[re++]=16&q?Ie:Ge,ae[re++]=8&q?Ie:Ge,ae[re++]=4&q?Ie:Ge,ae[re++]=2&q?Ie:Ge,ae[re++]=1&q?Ie:Ge;for(;ft<vt;ft++)0===_e&&(q=ne[ee++],_e=128),ae[re++]=q&_e?Ie:Ge,_e>>=1}for(;re<Ue;)ae[re++]=0;B.putImageData(L,0,he*h)}}else if(m.kind===A.ImageKind.RGBA_32BPP){const K=!!(me||we||be);for(ye=0,qe=y*h*4,he=0;he<k;he++){if(oe.set(ne.subarray(ee,ee+qe)),ee+=qe,K)for(let ae=0;ae<qe;ae+=4)me&&(oe[ae+0]=me[oe[ae+0]]),we&&(oe[ae+1]=we[oe[ae+1]]),be&&(oe[ae+2]=be[oe[ae+2]]);B.putImageData(L,0,ye),ye+=h}if(he<O){if(qe=y*w*4,oe.set(ne.subarray(ee,ee+qe)),K)for(let ae=0;ae<qe;ae+=4)me&&(oe[ae+0]=me[oe[ae+0]]),we&&(oe[ae+1]=we[oe[ae+1]]),be&&(oe[ae+2]=be[oe[ae+2]]);B.putImageData(L,0,ye)}}else{if(m.kind!==A.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${m.kind}`);{const K=!!(me||we||be);for(Re=h,qe=y*Re,he=0;he<O;he++){for(he>=k&&(Re=w,qe=y*Re),re=0,ye=qe;ye--;)oe[re++]=ne[ee++],oe[re++]=ne[ee++],oe[re++]=ne[ee++],oe[re++]=255;if(K)for(let ae=0;ae<re;ae+=4)me&&(oe[ae+0]=me[oe[ae+0]]),we&&(oe[ae+1]=we[oe[ae+1]]),be&&(oe[ae+2]=be[oe[ae+2]]);B.putImageData(L,0,he*h)}}}}function P(B,m){if(m.bitmap)return void B.drawImage(m.bitmap,0,0);const _=m.height,c=m.width,y=_%h,w=(_-y)/h,k=0===y?w:w+1,O=B.createImageData(c,h);let L=0;const ee=m.data,re=O.data;for(let ne=0;ne<k;ne++){const oe=ne<w?h:y;({srcPos:L}=(0,Ce.applyMaskImageData)({src:ee,srcPos:L,dest:re,width:c,height:oe})),B.putImageData(O,0,ne*h)}}function F(B,m){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let c=0,y=_.length;c<y;c++){const w=_[c];void 0!==B[w]&&(m[w]=B[w])}void 0!==B.setLineDash&&(m.setLineDash(B.getLineDash()),m.lineDashOffset=B.lineDashOffset)}function H(B,m){B.strokeStyle=B.fillStyle=m||"#000000",B.fillRule="nonzero",B.globalAlpha=1,B.lineWidth=1,B.lineCap="butt",B.lineJoin="miter",B.miterLimit=10,B.globalCompositeOperation="source-over",B.font="10px sans-serif",void 0!==B.setLineDash&&(B.setLineDash([]),B.lineDashOffset=0)}function $(B,m,_,c){const y=B.length;for(let w=3;w<y;w+=4){const k=B[w];if(0===k)B[w-3]=m,B[w-2]=_,B[w-1]=c;else if(k<255){const O=255-k;B[w-3]=B[w-3]*k+m*O>>8,B[w-2]=B[w-2]*k+_*O>>8,B[w-1]=B[w-1]*k+c*O>>8}}}function W(B,m,_){const c=B.length;for(let w=3;w<c;w+=4)m[w]=m[w]*(_?_[B[w]]:B[w])*.00392156862745098|0}function J(B,m,_){const c=B.length;for(let y=3;y<c;y+=4){const w=77*B[y-3]+152*B[y-2]+28*B[y-1];m[y]=_?m[y]*_[w>>8]>>8:m[y]*w>>16}}function ge(B,m){const _=A.Util.singularValueDecompose2dScale(B);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const c=Math.fround((globalThis.devicePixelRatio||1)*ce.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==m?m:_[0]<=c||_[1]<=c}const Z=["butt","round","square"],ue=["miter","round","bevel"],se={},ve={};class De{constructor(m,_,c,y,w,k,O,L){this.ctx=m,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=c,this.canvasFactory=y,this.imageLayer=w,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=k,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=O,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=L?.background||null,this.foregroundColor=L?.foreground||null,m&&V(m),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(m,_=null){return"string"==typeof m?m.startsWith("g_")?this.commonObjs.get(m):this.objs.get(m):_}beginDrawing({transform:m,viewport:_,transparency:c=!1,background:y=null}){const w=this.ctx.canvas.width,k=this.ctx.canvas.height,O=y||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const L=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ee=this.backgroundColor=this.ctx.fillStyle;let re=!0,ne=O;if(this.ctx.fillStyle=O,ne=this.ctx.fillStyle,re="string"==typeof ne&&/^#[0-9A-Fa-f]{6}$/.test(ne),"#000000"===L&&"#ffffff"===ee||L===ee||!re)this.foregroundColor=this.backgroundColor=null;else{const oe=parseInt(ne.slice(1),16),ye=(oe&&65280)>>8,Re=oe&&255,qe=we=>(we/=255)<=.03928?we/12.92:((we+.055)/1.055)**2.4,me=Math.round(.2126*qe((oe&&16711680)>>16)+.7152*qe(ye)+.0722*qe(Re));this.selectColor=(we,be,R)=>{const K=.2126*qe(we)+.7152*qe(be)+.0722*qe(R);return Math.round(K)===me?ee:L}}}if(this.ctx.fillStyle=this.backgroundColor||O,this.ctx.fillRect(0,0,w,k),this.ctx.restore(),c){const L=this.cachedCanvases.getCanvas("transparent",w,k,!0);this.compositeCtx=this.ctx,this.transparentCanvas=L.canvas,this.ctx=L.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),H(this.ctx,this.foregroundColor),m&&(this.ctx.transform.apply(this.ctx,m),this.outputScaleX=m[0],this.outputScaleY=m[0]),this.ctx.transform.apply(this.ctx,_.transform),this.viewportScale=_.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(m,_,c,y){const w=m.argsArray,k=m.fnArray;let O=_||0;const L=w.length;if(L===O)return O;const ee=L-O>10&&"function"==typeof c,re=ee?Date.now()+15:0;let ne=0;const oe=this.commonObjs,he=this.objs;let ye;for(;;){if(void 0!==y&&O===y.nextBreakPoint)return y.breakIt(O,c),O;if(ye=k[O],ye!==A.OPS.dependency)this[ye].apply(this,w[O]);else for(const Re of w[O]){const qe=Re.startsWith("g_")?oe:he;if(!qe.has(Re))return qe.get(Re,c),O}if(O++,O===L)return O;if(ee&&++ne>10){if(Date.now()>re)return c(),O;ne=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const m of this._cachedBitmapsMap.values()){for(const _ of m.values())typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);m.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(m,_){const c=m.width,y=m.height;let re,ne,w=Math.max(Math.hypot(_[0],_[1]),1),k=Math.max(Math.hypot(_[2],_[3]),1),O=c,L=y,ee="prescale1";for(;w>2&&O>1||k>2&&L>1;){let oe=O,he=L;w>2&&O>1&&(oe=Math.ceil(O/2),w/=O/oe),k>2&&L>1&&(he=Math.ceil(L/2),k/=L/he),re=this.cachedCanvases.getCanvas(ee,oe,he,!1),ne=re.context,ne.clearRect(0,0,oe,he),ne.drawImage(m,0,0,O,L,0,0,oe,he),m=re.canvas,O=oe,L=he,ee="prescale1"===ee?"prescale2":"prescale1"}return{img:m,paintWidth:O,paintHeight:L}}_createMaskCanvas(m){const _=this.ctx,{width:c,height:y}=m,w=this.current.fillColor,k=this.current.patternFill,O=_.mozCurrentTransform;let L,ee,re,ne;if((m.bitmap||m.data)&&m.count>1){const Ue=m.bitmap||m.data.buffer,Ve=O.slice(0,4);ee=JSON.stringify(k?Ve:[Ve,w]),L=this._cachedBitmapsMap.get(Ue),L||(L=new Map,this._cachedBitmapsMap.set(Ue,L));const Ie=L.get(ee);if(Ie&&!k)return{canvas:Ie,offsetX:Math.round(Math.min(O[0],O[2])+O[4]),offsetY:Math.round(Math.min(O[1],O[3])+O[5])};re=Ie}re||(ne=this.cachedCanvases.getCanvas("maskCanvas",c,y,!1),P(ne.context,m));let oe=A.Util.transform(O,[1/c,0,0,-1/y,0,0]);oe=A.Util.transform(oe,[1,0,0,1,0,-y]);const he=A.Util.applyTransform([0,0],oe),ye=A.Util.applyTransform([c,y],oe),Re=A.Util.normalizeRect([he[0],he[1],ye[0],ye[1]]),qe=Math.round(Re[2]-Re[0])||1,me=Math.round(Re[3]-Re[1])||1,we=this.cachedCanvases.getCanvas("fillCanvas",qe,me,!0),be=we.context,R=Math.min(he[0],ye[0]),K=Math.min(he[1],ye[1]);be.translate(-R,-K),be.transform.apply(be,oe),re||(re=this._scaleImage(ne.canvas,be.mozCurrentTransformInverse),re=re.img,L&&k&&L.set(ee,re)),be.imageSmoothingEnabled=ge(be.mozCurrentTransform,m.interpolate),S(be,re,0,0,re.width,re.height,0,0,c,y),be.globalCompositeOperation="source-in";const ae=A.Util.transform(be.mozCurrentTransformInverse,[1,0,0,1,-R,-K]);return be.fillStyle=k?w.getPattern(_,this,ae,xe.PathType.FILL):w,be.fillRect(0,0,c,y),L&&!k&&(this.cachedCanvases.delete("fillCanvas"),L.set(ee,we.canvas)),{canvas:we.canvas,offsetX:Math.round(R),offsetY:Math.round(K)}}setLineWidth(m){m!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=m,this.ctx.lineWidth=m}setLineCap(m){this.ctx.lineCap=Z[m]}setLineJoin(m){this.ctx.lineJoin=ue[m]}setMiterLimit(m){this.ctx.miterLimit=m}setDash(m,_){const c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(m),c.lineDashOffset=_)}setRenderingIntent(m){}setFlatness(m){}setGState(m){for(let _=0,c=m.length;_<c;_++){const y=m[_],k=y[1];switch(y[0]){case"LW":this.setLineWidth(k);break;case"LC":this.setLineCap(k);break;case"LJ":this.setLineJoin(k);break;case"ML":this.setMiterLimit(k);break;case"D":this.setDash(k[0],k[1]);break;case"RI":this.setRenderingIntent(k);break;case"FL":this.setFlatness(k);break;case"Font":this.setFont(k[0],k[1]);break;case"CA":this.current.strokeAlpha=y[1];break;case"ca":this.current.fillAlpha=y[1],this.ctx.globalAlpha=y[1];break;case"BM":this.ctx.globalCompositeOperation=k;break;case"SMask":this.current.activeSMask=k?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=k}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const m=this.inSMaskMode;this.current.activeSMask&&!m?this.beginSMaskMode():!this.current.activeSMask&&m&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const y=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=y.context;const w=this.ctx;w.setTransform.apply(w,this.suspendedCtx.mozCurrentTransform),F(this.suspendedCtx,w),function b(B,m){if(B._removeMirroring)throw new Error("Context is already forwarding operations.");B.__originalSave=B.save,B.__originalRestore=B.restore,B.__originalRotate=B.rotate,B.__originalScale=B.scale,B.__originalTranslate=B.translate,B.__originalTransform=B.transform,B.__originalSetTransform=B.setTransform,B.__originalResetTransform=B.resetTransform,B.__originalClip=B.clip,B.__originalMoveTo=B.moveTo,B.__originalLineTo=B.lineTo,B.__originalBezierCurveTo=B.bezierCurveTo,B.__originalRect=B.rect,B.__originalClosePath=B.closePath,B.__originalBeginPath=B.beginPath,B._removeMirroring=()=>{B.save=B.__originalSave,B.restore=B.__originalRestore,B.rotate=B.__originalRotate,B.scale=B.__originalScale,B.translate=B.__originalTranslate,B.transform=B.__originalTransform,B.setTransform=B.__originalSetTransform,B.resetTransform=B.__originalResetTransform,B.clip=B.__originalClip,B.moveTo=B.__originalMoveTo,B.lineTo=B.__originalLineTo,B.bezierCurveTo=B.__originalBezierCurveTo,B.rect=B.__originalRect,B.closePath=B.__originalClosePath,B.beginPath=B.__originalBeginPath,delete B._removeMirroring},B.save=function(){m.save(),this.__originalSave()},B.restore=function(){m.restore(),this.__originalRestore()},B.translate=function(c,y){m.translate(c,y),this.__originalTranslate(c,y)},B.scale=function(c,y){m.scale(c,y),this.__originalScale(c,y)},B.transform=function(c,y,w,k,O,L){m.transform(c,y,w,k,O,L),this.__originalTransform(c,y,w,k,O,L)},B.setTransform=function(c,y,w,k,O,L){m.setTransform(c,y,w,k,O,L),this.__originalSetTransform(c,y,w,k,O,L)},B.resetTransform=function(){m.resetTransform(),this.__originalResetTransform()},B.rotate=function(c){m.rotate(c),this.__originalRotate(c)},B.clip=function(c){m.clip(c),this.__originalClip(c)},B.moveTo=function(_,c){m.moveTo(_,c),this.__originalMoveTo(_,c)},B.lineTo=function(_,c){m.lineTo(_,c),this.__originalLineTo(_,c)},B.bezierCurveTo=function(_,c,y,w,k,O){m.bezierCurveTo(_,c,y,w,k,O),this.__originalBezierCurveTo(_,c,y,w,k,O)},B.rect=function(_,c,y,w){m.rect(_,c,y,w),this.__originalRect(_,c,y,w)},B.closePath=function(){m.closePath(),this.__originalClosePath()},B.beginPath=function(){m.beginPath(),this.__originalBeginPath()}}(w,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),F(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(m){this.current.activeSMask&&(m?(m[0]=Math.floor(m[0]),m[1]=Math.floor(m[1]),m[2]=Math.ceil(m[2]),m[3]=Math.ceil(m[3])):m=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(B,m,_,c){const y=c[0],w=c[1],k=c[2]-y,O=c[3]-w;0===k||0===O||(function ie(B,m,_,c,y,w,k,O,L,ee,re){const ne=!!w,oe=ne?w[0]:0,he=ne?w[1]:0,ye=ne?w[2]:0;let Re;Re="Luminosity"===y?J:W;const me=Math.min(c,Math.ceil(1048576/_));for(let we=0;we<c;we+=me){const be=Math.min(me,c-we),R=B.getImageData(O-ee,we+(L-re),_,be),K=m.getImageData(O,we+L,_,be);ne&&$(R.data,oe,he,ye),Re(R.data,K.data,k),m.putImageData(K,O,we+L)}}(m.context,_,k,O,m.subtype,m.backdrop,m.transferMap,y,w,m.offsetX,m.offsetY),B.save(),B.globalAlpha=1,B.globalCompositeOperation="source-over",B.setTransform(1,0,0,1,0,0),B.drawImage(_.canvas,0,0),B.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,m),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(F(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const m=this.current;this.stateStack.push(m),this.current=m.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),F(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(m,_,c,y,w,k){this.ctx.transform(m,_,c,y,w,k),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(m,_,c){const y=this.ctx,w=this.current;let L,ee,k=w.x,O=w.y;const re=y.mozCurrentTransform,ne=0===re[0]&&0===re[3]||0===re[1]&&0===re[2],oe=ne?c.slice(0):null;for(let he=0,ye=0,Re=m.length;he<Re;he++)switch(0|m[he]){case A.OPS.rectangle:k=_[ye++],O=_[ye++];const qe=_[ye++],me=_[ye++],we=k+qe,be=O+me;y.moveTo(k,O),0===qe||0===me?y.lineTo(we,be):(y.lineTo(we,O),y.lineTo(we,be),y.lineTo(k,be)),ne||w.updateRectMinMax(re,[k,O,we,be]),y.closePath();break;case A.OPS.moveTo:k=_[ye++],O=_[ye++],y.moveTo(k,O),ne||w.updatePathMinMax(re,k,O);break;case A.OPS.lineTo:k=_[ye++],O=_[ye++],y.lineTo(k,O),ne||w.updatePathMinMax(re,k,O);break;case A.OPS.curveTo:L=k,ee=O,k=_[ye+4],O=_[ye+5],y.bezierCurveTo(_[ye],_[ye+1],_[ye+2],_[ye+3],k,O),w.updateCurvePathMinMax(re,L,ee,_[ye],_[ye+1],_[ye+2],_[ye+3],k,O,oe),ye+=6;break;case A.OPS.curveTo2:L=k,ee=O,y.bezierCurveTo(k,O,_[ye],_[ye+1],_[ye+2],_[ye+3]),w.updateCurvePathMinMax(re,L,ee,k,O,_[ye],_[ye+1],_[ye+2],_[ye+3],oe),k=_[ye+2],O=_[ye+3],ye+=4;break;case A.OPS.curveTo3:L=k,ee=O,k=_[ye+2],O=_[ye+3],y.bezierCurveTo(_[ye],_[ye+1],k,O,k,O),w.updateCurvePathMinMax(re,L,ee,_[ye],_[ye+1],k,O,k,O,oe),ye+=4;break;case A.OPS.closePath:y.closePath()}ne&&w.updateScalingPathMinMax(re,oe),w.setCurrentPoint(k,O)}closePath(){this.ctx.closePath()}stroke(m){m=!(typeof m<"u")||m;const _=this.ctx,c=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof c&&c?.getPattern?(_.save(),_.strokeStyle=c.getPattern(_,this,_.mozCurrentTransformInverse,xe.PathType.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),m&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(m){m=!(typeof m<"u")||m;const _=this.ctx,c=this.current.fillColor;let w=!1;this.current.patternFill&&(_.save(),_.fillStyle=c.getPattern(_,this,_.mozCurrentTransformInverse,xe.PathType.FILL),w=!0);const k=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==k&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),w&&_.restore(),m&&this.consumePath(k)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=se}eoClip(){this.pendingClip=ve}beginText(){this.current.textMatrix=A.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const m=this.pendingTextPaths,_=this.ctx;if(void 0!==m){_.save(),_.beginPath();for(let c=0;c<m.length;c++){const y=m[c];_.setTransform.apply(_,y.transform),_.translate(y.x,y.y),y.addToPath(_,y.fontSize)}_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}else _.beginPath()}setCharSpacing(m){this.current.charSpacing=m}setWordSpacing(m){this.current.wordSpacing=m}setHScale(m){this.current.textHScale=m/100}setLeading(m){this.current.leading=-m}setFont(m,_){const c=this.commonObjs.get(m),y=this.current;if(!c)throw new Error(`Can't find font for ${m}`);if(y.fontMatrix=c.fontMatrix||A.FONT_IDENTITY_MATRIX,(0===y.fontMatrix[0]||0===y.fontMatrix[3])&&(0,A.warn)("Invalid font matrix for font "+m),_<0?(_=-_,y.fontDirection=-1):y.fontDirection=1,this.current.font=c,this.current.fontSize=_,c.isType3Font)return;let k="normal";c.black?k="900":c.bold&&(k="bold");const O=c.italic?"italic":"normal",L=`"${c.loadedName||"sans-serif"}", ${c.fallbackName}`;let ee=_;_<16?ee=16:_>100&&(ee=100),this.current.fontSizeScale=_/ee,this.ctx.font=`${O} ${k} ${ee}px ${L}`}setTextRenderingMode(m){this.current.textRenderingMode=m}setTextRise(m){this.current.textRise=m}moveText(m,_){this.current.x=this.current.lineX+=m,this.current.y=this.current.lineY+=_}setLeadingMoveText(m,_){this.setLeading(-_),this.moveText(m,_)}setTextMatrix(m,_,c,y,w,k){this.current.textMatrix=[m,_,c,y,w,k],this.current.textMatrixScale=Math.hypot(m,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(m,_,c,y){const w=this.ctx,k=this.current,O=k.font,L=k.textRenderingMode,ee=k.fontSize/k.fontSizeScale,re=L&A.TextRenderingMode.FILL_STROKE_MASK,ne=!!(L&A.TextRenderingMode.ADD_TO_PATH_FLAG),oe=k.patternFill&&!O.missingFile;let he;(O.disableFontFace||ne||oe)&&(he=O.getPathGenerator(this.commonObjs,m)),O.disableFontFace||oe?(w.save(),w.translate(_,c),w.beginPath(),he(w,ee),y&&w.setTransform.apply(w,y),(re===A.TextRenderingMode.FILL||re===A.TextRenderingMode.FILL_STROKE)&&w.fill(),(re===A.TextRenderingMode.STROKE||re===A.TextRenderingMode.FILL_STROKE)&&w.stroke(),w.restore()):((re===A.TextRenderingMode.FILL||re===A.TextRenderingMode.FILL_STROKE)&&w.fillText(m,_,c),(re===A.TextRenderingMode.STROKE||re===A.TextRenderingMode.FILL_STROKE)&&w.strokeText(m,_,c)),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:w.mozCurrentTransform,x:_,y:c,fontSize:ee,addToPath:he})}get isFontSubpixelAAEnabled(){const{context:m}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);m.scale(1.5,1),m.fillText("I",0,10);const _=m.getImageData(0,0,10,10).data;let c=!1;for(let y=3;y<_.length;y+=4)if(_[y]>0&&_[y]<255){c=!0;break}return(0,A.shadow)(this,"isFontSubpixelAAEnabled",c)}showText(m){const _=this.current,c=_.font;if(c.isType3Font)return this.showType3Text(m);const y=_.fontSize;if(0===y)return;const w=this.ctx,k=_.fontSizeScale,O=_.charSpacing,L=_.wordSpacing,ee=_.fontDirection,re=_.textHScale*ee,ne=m.length,oe=c.vertical,he=oe?1:-1,ye=c.defaultVMetrics,Re=y*_.fontMatrix[0],qe=_.textRenderingMode===A.TextRenderingMode.FILL&&!c.disableFontFace&&!_.patternFill;let me;if(w.save(),w.transform.apply(w,_.textMatrix),w.translate(_.x,_.y+_.textRise),w.scale(re,ee>0?-1:1),_.patternFill){w.save();const ae=_.fillColor.getPattern(w,this,w.mozCurrentTransformInverse,xe.PathType.FILL);me=w.mozCurrentTransform,w.restore(),w.fillStyle=ae}let we=_.lineWidth;const be=_.textMatrixScale;if(0===be||0===we){const ae=_.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;(ae===A.TextRenderingMode.STROKE||ae===A.TextRenderingMode.FILL_STROKE)&&(we=this.getSinglePixelWidth())}else we/=be;1!==k&&(w.scale(k,k),we/=k),w.lineWidth=we;let K,R=0;for(K=0;K<ne;++K){const ae=m[K];if("number"==typeof ae){R+=he*ae*y/1e3;continue}let Ue=!1;const Ve=(ae.isSpace?L:0)+O,Ie=ae.fontChar,Ge=ae.accent;let He,ft,Ot,vt=ae.width;if(oe){const _e=ae.vmetric||ye,q=-(ae.vmetric?_e[1]:.5*vt)*Re;vt=_e?-_e[0]:vt,He=q/k,ft=(R+_e[2]*Re)/k}else He=R/k,ft=0;if(c.remeasure&&vt>0){const _e=1e3*w.measureText(Ie).width/y*k;if(vt<_e&&this.isFontSubpixelAAEnabled){const q=vt/_e;Ue=!0,w.save(),w.scale(q,1),He/=q}else vt!==_e&&(He+=(vt-_e)/2e3*y/k)}this.contentVisible&&(ae.isInFont||c.missingFile)&&(qe&&!Ge?w.fillText(Ie,He,ft):(this.paintChar(Ie,He,ft,me),Ge&&this.paintChar(Ge.fontChar,He+y*Ge.offset.x/k,ft-y*Ge.offset.y/k,me))),Ot=oe?vt*Re-Ve*ee:vt*Re+Ve*ee,R+=Ot,Ue&&w.restore()}oe?_.y-=R:_.x+=R*re,w.restore(),this.compose()}showType3Text(m){const _=this.ctx,c=this.current,y=c.font,w=c.fontSize,k=c.fontDirection,O=y.vertical?1:-1,L=c.charSpacing,ee=c.wordSpacing,re=c.textHScale*k,ne=c.fontMatrix||A.FONT_IDENTITY_MATRIX,oe=m.length;let ye,Re,qe,me;if(c.textRenderingMode!==A.TextRenderingMode.INVISIBLE&&0!==w){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,_.save(),_.transform.apply(_,c.textMatrix),_.translate(c.x,c.y),_.scale(re,k),ye=0;ye<oe;++ye){if(Re=m[ye],"number"==typeof Re){me=O*Re*w/1e3,this.ctx.translate(me,0),c.x+=me*re;continue}const we=(Re.isSpace?ee:0)+L,be=y.charProcOperatorList[Re.operatorListId];be?(this.contentVisible&&(this.processingType3=Re,this.save(),_.scale(w,w),_.transform.apply(_,ne),this.executeOperatorList(be),this.restore()),qe=A.Util.applyTransform([Re.width,0],ne)[0]*w+we,_.translate(qe,0),c.x+=qe*re):(0,A.warn)(`Type3 character "${Re.operatorListId}" is not available.`)}_.restore(),this.processingType3=null}}setCharWidth(m,_){}setCharWidthAndBounds(m,_,c,y,w,k){this.ctx.rect(c,y,w-c,k-y),this.ctx.clip(),this.endPath()}getColorN_Pattern(m){let _;if("TilingPattern"===m[0]){const c=m[1],y=this.baseTransform||this.ctx.mozCurrentTransform.slice();_=new xe.TilingPattern(m,c,this.ctx,{createCanvasGraphics:k=>new De(k,this.commonObjs,this.objs,this.canvasFactory)},y)}else _=this._getPattern(m[1],m[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(m,_,c){const y=this.selectColor?.(m,_,c)||A.Util.makeHexColor(m,_,c);this.ctx.strokeStyle=y,this.current.strokeColor=y}setFillRGBColor(m,_,c){const y=this.selectColor?.(m,_,c)||A.Util.makeHexColor(m,_,c);this.ctx.fillStyle=y,this.current.fillColor=y,this.current.patternFill=!1}_getPattern(m,_=null){let c;return this.cachedPatterns.has(m)?c=this.cachedPatterns.get(m):(c=(0,xe.getShadingPattern)(this.objs.get(m)),this.cachedPatterns.set(m,c)),_&&(c.matrix=_),c}shadingFill(m){if(!this.contentVisible)return;const _=this.ctx;this.save();const c=this._getPattern(m);_.fillStyle=c.getPattern(_,this,_.mozCurrentTransformInverse,xe.PathType.SHADING);const y=_.mozCurrentTransformInverse;if(y){const w=_.canvas,k=w.width,O=w.height,L=A.Util.applyTransform([0,0],y),ee=A.Util.applyTransform([0,O],y),re=A.Util.applyTransform([k,0],y),ne=A.Util.applyTransform([k,O],y),oe=Math.min(L[0],ee[0],re[0],ne[0]),he=Math.min(L[1],ee[1],re[1],ne[1]),ye=Math.max(L[0],ee[0],re[0],ne[0]),Re=Math.max(L[1],ee[1],re[1],ne[1]);this.ctx.fillRect(oe,he,ye-oe,Re-he)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,A.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,A.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(m,_){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(m)&&6===m.length&&this.transform.apply(this,m),this.baseTransform=this.ctx.mozCurrentTransform,_)&&(this.ctx.rect(_[0],_[1],_[2]-_[0],_[3]-_[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,_),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(m){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;m.isolated||(0,A.info)("TODO: Support non-isolated groups."),m.knockout&&(0,A.warn)("Knockout groups not supported.");const c=_.mozCurrentTransform;if(m.matrix&&_.transform.apply(_,m.matrix),!m.bbox)throw new Error("Bounding box is required.");let y=A.Util.getAxialAlignedBoundingBox(m.bbox,_.mozCurrentTransform);y=A.Util.intersect(y,[0,0,_.canvas.width,_.canvas.height])||[0,0,0,0];const k=Math.floor(y[0]),O=Math.floor(y[1]);let L=Math.max(Math.ceil(y[2])-k,1),ee=Math.max(Math.ceil(y[3])-O,1),re=1,ne=1;L>N&&(re=L/N,L=N),ee>N&&(ne=ee/N,ee=N),this.current.startNewPathAndClipBox([0,0,L,ee]);let oe="groupAt"+this.groupLevel;m.smask&&(oe+="_smask_"+this.smaskCounter++%2);const he=this.cachedCanvases.getCanvas(oe,L,ee,!0),ye=he.context;ye.scale(1/re,1/ne),ye.translate(-k,-O),ye.transform.apply(ye,c),m.smask?this.smaskStack.push({canvas:he.canvas,context:ye,offsetX:k,offsetY:O,scaleX:re,scaleY:ne,subtype:m.smask.subtype,backdrop:m.smask.backdrop,transferMap:m.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(k,O),_.scale(re,ne),_.save()),F(_,ye),this.ctx=ye,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(m){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,c=this.groupStack.pop();if(this.ctx=c,this.ctx.imageSmoothingEnabled=!1,m.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const y=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,y);const w=A.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],y);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(w)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(m,_,c,y,w){if(this.save(),Array.isArray(_)&&4===_.length){const k=_[2]-_[0],O=_[3]-_[1];if(w&&this.annotationCanvasMap){(c=c.slice())[4]-=_[0],c[5]-=_[1],(_=_.slice())[0]=_[1]=0,_[2]=k,_[3]=O;const[L,ee]=A.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:re}=this,ne=Math.ceil(k*this.outputScaleX*re),oe=Math.ceil(O*this.outputScaleY*re);this.annotationCanvas=this.canvasFactory.create(ne,oe);const{canvas:he,context:ye}=this.annotationCanvas,Re=`var(--zoom-factor) * ${ce.PixelsPerInch.PDF_TO_CSS_UNITS}`;he.style.width=`calc(${k}px * ${Re})`,he.style.height=`calc(${O}px * ${Re})`,this.annotationCanvasMap.set(m,he),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ye,this.ctx.setTransform(L,0,0,-ee,0,O*ee),V(this.ctx),H(this.ctx,this.foregroundColor)}else H(this.ctx,this.foregroundColor),this.ctx.rect(_[0],_[1],k,O),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,c),this.transform.apply(this,y)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(m){if(!this.contentVisible)return;const _=m.count;(m=this.getObject(m.data,m)).count=_;const c=this.ctx,y=this.processingType3;if(y&&(void 0===y.compiled&&(y.compiled=function d(B){const{width:m,height:_}=B;if(m>1e3||_>1e3)return null;const y=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),w=m+1;let O,L,ee,k=new Uint8Array(w*(_+1));const re=m+7&-8;let ne=new Uint8Array(re*_),oe=0;for(const be of B.data){let R=128;for(;R>0;)ne[oe++]=be&R?0:255,R>>=1}let he=0;for(oe=0,0!==ne[oe]&&(k[0]=1,++he),L=1;L<m;L++)ne[oe]!==ne[oe+1]&&(k[L]=ne[oe]?2:1,++he),oe++;for(0!==ne[oe]&&(k[L]=2,++he),O=1;O<_;O++){oe=O*re,ee=O*w,ne[oe-re]!==ne[oe]&&(k[ee]=ne[oe]?1:8,++he);let be=(ne[oe]?4:0)+(ne[oe-re]?8:0);for(L=1;L<m;L++)be=(be>>2)+(ne[oe+1]?4:0)+(ne[oe-re+1]?8:0),y[be]&&(k[ee+L]=y[be],++he),oe++;if(ne[oe-re]!==ne[oe]&&(k[ee+L]=ne[oe]?2:4,++he),he>1e3)return null}for(oe=re*(_-1),ee=O*w,0!==ne[oe]&&(k[ee]=8,++he),L=1;L<m;L++)ne[oe]!==ne[oe+1]&&(k[ee+L]=ne[oe]?4:8,++he),oe++;if(0!==ne[oe]&&(k[ee+L]=4,++he),he>1e3)return null;const ye=new Int32Array([0,w,-1,0,-w,0,0,0,1]);let Re,qe,me;for(pe.isNodeJS?qe=[]:Re=new Path2D,O=0;he&&O<=_;O++){let be=O*w;const R=be+m;for(;be<R&&!k[be];)be++;if(be===R)continue;Re?Re.moveTo(be%w,O):me=[be%w,O];const K=be;let ae=k[be];do{const Ue=ye[ae];do{be+=Ue}while(!k[be]);const Ve=k[be];5!==Ve&&10!==Ve?(ae=Ve,k[be]=0):(ae=Ve&51*ae>>4,k[be]&=ae>>2|ae<<2),Re?Re.lineTo(be%w,be/w|0):me.push(be%w,be/w|0),k[be]||--he}while(K!==be);Re||qe.push(me),--O}return ne=null,k=null,function(be){if(be.save(),be.scale(1/m,-1/_),be.translate(0,-_),Re)be.fill(Re);else{be.beginPath();for(const R of qe){be.moveTo(R[0],R[1]);for(let K=2,ae=R.length;K<ae;K+=2)be.lineTo(R[K],R[K+1])}be.fill()}be.beginPath(),be.restore()}}(m)),y.compiled))return void y.compiled(c);const w=this._createMaskCanvas(m),k=w.canvas;c.save(),c.setTransform(1,0,0,1,0,0),c.drawImage(k,w.offsetX,w.offsetY),c.restore(),this.compose()}paintImageMaskXObjectRepeat(m,_,c=0,y=0,w,k){if(!this.contentVisible)return;m=this.getObject(m.data,m);const O=this.ctx;O.save();const L=O.mozCurrentTransform;O.transform(_,c,y,w,0,0);const ee=this._createMaskCanvas(m);O.setTransform(1,0,0,1,0,0);for(let re=0,ne=k.length;re<ne;re+=2){const oe=A.Util.transform(L,[_,c,y,w,k[re],k[re+1]]),[he,ye]=A.Util.applyTransform([0,0],oe);O.drawImage(ee.canvas,he,ye)}O.restore(),this.compose()}paintImageMaskXObjectGroup(m){if(!this.contentVisible)return;const _=this.ctx,c=this.current.fillColor,y=this.current.patternFill;for(let w=0,k=m.length;w<k;w++){const O=m[w],L=O.width,ee=O.height,re=this.cachedCanvases.getCanvas("maskCanvas",L,ee,!1),ne=re.context;ne.save(),P(ne,O),ne.globalCompositeOperation="source-in",ne.fillStyle=y?c.getPattern(ne,this,_.mozCurrentTransformInverse,xe.PathType.FILL):c,ne.fillRect(0,0,L,ee),ne.restore(),_.save(),_.transform.apply(_,O.transform),_.scale(1,-1),S(_,re.canvas,0,0,L,ee,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(m){if(!this.contentVisible)return;const _=this.getObject(m);_?this.paintInlineImageXObject(_):(0,A.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(m,_,c,y){if(!this.contentVisible)return;const w=this.getObject(m);if(!w)return void(0,A.warn)("Dependent image isn't ready yet");const k=w.width,O=w.height,L=[];for(let ee=0,re=y.length;ee<re;ee+=2)L.push({transform:[_,0,0,c,y[ee],y[ee+1]],x:0,y:0,w:k,h:O});this.paintInlineImageXObjectGroup(w,L)}paintInlineImageXObject(m){if(!this.contentVisible)return;const _=m.width,c=m.height,y=this.ctx;let w;if(this.save(),y.scale(1/_,-1/c),"function"==typeof HTMLElement&&m instanceof HTMLElement||!m.data)w=m;else{const ee=this.cachedCanvases.getCanvas("inlineImage",_,c,!1);I(ee.context,m,this.current.transferMaps),w=ee.canvas}const k=this._scaleImage(w,y.mozCurrentTransformInverse);y.imageSmoothingEnabled=ge(y.mozCurrentTransform,m.interpolate);const[O,L]=S(y,k.img,0,0,k.paintWidth,k.paintHeight,0,-c,_,c);if(this.imageLayer){const ee=this.getCanvasPosition(0,-c);this.imageLayer.appendImage({imgData:m,left:ee[0],top:ee[1],width:O,height:L})}this.compose(),this.restore()}paintInlineImageXObjectGroup(m,_){if(!this.contentVisible)return;const c=this.ctx,y=m.width,w=m.height,k=this.cachedCanvases.getCanvas("inlineImage",y,w,!1);I(k.context,m,this.current.transferMaps);for(let L=0,ee=_.length;L<ee;L++){const re=_[L];if(c.save(),c.transform.apply(c,re.transform),c.scale(1,-1),S(c,k.canvas,re.x,re.y,re.w,re.h,0,-1,1,1),this.imageLayer){const ne=this.getCanvasPosition(re.x,re.y);this.imageLayer.appendImage({imgData:m,left:ne[0],top:ne[1],width:y,height:w})}c.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(m){}markPointProps(m,_){}beginMarkedContent(m){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(m,_){this.markedContentStack.push("OC"===m?{visible:this.optionalContentConfig.isVisible(_)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(m){const _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(m);const c=this.ctx;this.pendingClip&&(_||(this.pendingClip===ve?c.clip("evenodd"):c.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),c.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const m=this.ctx.mozCurrentTransform;if(0===m[1]&&0===m[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(m[0]),Math.abs(m[3]));else{const _=Math.abs(m[0]*m[3]-m[2]*m[1]),c=Math.hypot(m[0],m[2]),y=Math.hypot(m[1],m[3]);this._cachedGetSinglePixelWidth=Math.max(c,y)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:m}=this.current,_=this.ctx.mozCurrentTransform;let c,y;if(0===_[1]&&0===_[2]){const w=Math.abs(_[0]),k=Math.abs(_[3]);if(0===m)c=1/w,y=1/k;else{const O=w*m,L=k*m;c=O<1?1/O:1,y=L<1?1/L:1}}else{const w=Math.abs(_[0]*_[3]-_[2]*_[1]),k=Math.hypot(_[0],_[1]),O=Math.hypot(_[2],_[3]);if(0===m)c=O/w,y=k/w;else{const L=m*w;c=O>L?O/L:1,y=k>L?k/L:1}}this._cachedScaleForStroking=[c,y]}return this._cachedScaleForStroking}rescaleAndStroke(m){const{ctx:_}=this,{lineWidth:c}=this.current,[y,w]=this.getScaleForStroking();if(_.lineWidth=c||1,1===y&&1===w)return void _.stroke();let k,O,L;m&&(k=_.mozCurrentTransform.slice(),O=_.getLineDash().slice(),L=_.lineDashOffset),_.scale(y,w);const ee=Math.max(y,w);_.setLineDash(_.getLineDash().map(re=>re/ee)),_.lineDashOffset/=ee,_.stroke(),m&&(_.setTransform(...k),_.setLineDash(O),_.lineDashOffset=L)}getCanvasPosition(m,_){const c=this.ctx.mozCurrentTransform;return[c[0]*m+c[2]*_+c[4],c[1]*m+c[3]*_+c[5]]}isContentVisible(){for(let m=this.markedContentStack.length-1;m>=0;m--)if(!this.markedContentStack[m].visible)return!1;return!0}}j.CanvasGraphics=De;for(const B in A.OPS)void 0!==De.prototype[B]&&(De.prototype[A.OPS[B]]=De.prototype[B])},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.TilingPattern=j.PathType=void 0,j.getShadingPattern=function g(p){switch(p[0]){case"RadialAxial":return new X(p);case"Mesh":return new T(p);case"Dummy":return new E}throw new Error(`Unknown IR type: ${p[0]}`)};var A=Ae(1),xe=Ae(3);const Ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pe(p,b){if(!b||xe.isNodeJS)return;const V=b[2]-b[0],M=b[3]-b[1],S=new Path2D;S.rect(b[0],b[1],V,M),p.clip(S)}j.PathType=Ce;class ce{constructor(){this.constructor===ce&&(0,A.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,A.unreachable)("Abstract method `getPattern` called.")}}class X extends ce{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let V;"axial"===this._type?V=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(V=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const M of this._colorStops)V.addColorStop(M[0],M[1]);return V}getPattern(b,V,M,S){let d;if(S===Ce.STROKE||S===Ce.FILL){const f=V.current.getClippedPathBoundingBox(S,b.mozCurrentTransform)||[0,0,0,0],I=Math.ceil(f[2]-f[0])||1,P=Math.ceil(f[3]-f[1])||1,F=V.cachedCanvases.getCanvas("pattern",I,P,!0),H=F.context;H.clearRect(0,0,H.canvas.width,H.canvas.height),H.beginPath(),H.rect(0,0,H.canvas.width,H.canvas.height),H.translate(-f[0],-f[1]),M=A.Util.transform(M,[1,0,0,1,f[0],f[1]]),H.transform.apply(H,V.baseTransform),this.matrix&&H.transform.apply(H,this.matrix),pe(H,this._bbox),H.fillStyle=this._createGradient(H),H.fill(),d=b.createPattern(F.canvas,"no-repeat");const $=new DOMMatrix(M);try{d.setTransform($)}catch(W){(0,A.warn)(`RadialAxialShadingPattern.getPattern: "${W?.message}".`)}}else pe(b,this._bbox),d=this._createGradient(b);return d}}function C(p,b,V,M,S,d,f,I){const P=b.coords,F=b.colors,H=p.data,$=4*p.width;let W;P[V+1]>P[M+1]&&(W=V,V=M,M=W,W=d,d=f,f=W),P[M+1]>P[S+1]&&(W=M,M=S,S=W,W=f,f=I,I=W),P[V+1]>P[M+1]&&(W=V,V=M,M=W,W=d,d=f,f=W);const J=(P[V]+b.offsetX)*b.scaleX,ie=(P[V+1]+b.offsetY)*b.scaleY,le=(P[M]+b.offsetX)*b.scaleX,ge=(P[M+1]+b.offsetY)*b.scaleY,Z=(P[S]+b.offsetX)*b.scaleX,ue=(P[S+1]+b.offsetY)*b.scaleY;if(ie>=ue)return;const se=F[d],ve=F[d+1],De=F[d+2],B=F[f],m=F[f+1],_=F[f+2],c=F[I],y=F[I+1],w=F[I+2],k=Math.round(ie),O=Math.round(ue);let L,ee,re,ne,oe,he,ye,Re;for(let qe=k;qe<=O;qe++){if(qe<ge){let K;K=qe<ie?0:(ie-qe)/(ie-ge),L=J-(J-le)*K,ee=se-(se-B)*K,re=ve-(ve-m)*K,ne=De-(De-_)*K}else{let K;K=qe>ue?1:ge===ue?0:(ge-qe)/(ge-ue),L=le-(le-Z)*K,ee=B-(B-c)*K,re=m-(m-y)*K,ne=_-(_-w)*K}let me;me=qe<ie?0:qe>ue?1:(ie-qe)/(ie-ue),oe=J-(J-Z)*me,he=se-(se-c)*me,ye=ve-(ve-y)*me,Re=De-(De-w)*me;const we=Math.round(Math.min(L,oe)),be=Math.round(Math.max(L,oe));let R=$*qe+4*we;for(let K=we;K<=be;K++)me=(L-K)/(L-oe),me<0?me=0:me>1&&(me=1),H[R++]=ee-(ee-he)*me|0,H[R++]=re-(re-ye)*me|0,H[R++]=ne-(ne-Re)*me|0,H[R++]=255}}function N(p,b,V){const M=b.coords,S=b.colors;let d,f;switch(b.type){case"lattice":const I=b.verticesPerRow,P=Math.floor(M.length/I)-1,F=I-1;for(d=0;d<P;d++){let H=d*I;for(let $=0;$<F;$++,H++)C(p,V,M[H],M[H+1],M[H+I],S[H],S[H+1],S[H+I]),C(p,V,M[H+I+1],M[H+1],M[H+I],S[H+I+1],S[H+1],S[H+I])}break;case"triangles":for(d=0,f=M.length;d<f;d+=3)C(p,V,M[d],M[d+1],M[d+2],S[d],S[d+1],S[d+2]);break;default:throw new Error("illegal figure")}}class T extends ce{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,V,M){const I=Math.floor(this._bounds[0]),P=Math.floor(this._bounds[1]),F=Math.ceil(this._bounds[2])-I,H=Math.ceil(this._bounds[3])-P,$=Math.min(Math.ceil(Math.abs(F*b[0]*1.1)),3e3),W=Math.min(Math.ceil(Math.abs(H*b[1]*1.1)),3e3),J=F/$,ie=H/W,le={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-P,scaleX:1/J,scaleY:1/ie},ue=M.getCanvas("mesh",$+4,W+4,!1),se=ue.context,ve=se.createImageData($,W);if(V){const B=ve.data;for(let m=0,_=B.length;m<_;m+=4)B[m]=V[0],B[m+1]=V[1],B[m+2]=V[2],B[m+3]=255}for(const B of this._figures)N(ve,B,le);return se.putImageData(ve,2,2),{canvas:ue.canvas,offsetX:I-2*J,offsetY:P-2*ie,scaleX:J,scaleY:ie}}getPattern(b,V,M,S){let d;if(pe(b,this._bbox),S===Ce.SHADING)d=A.Util.singularValueDecompose2dScale(b.mozCurrentTransform);else if(d=A.Util.singularValueDecompose2dScale(V.baseTransform),this.matrix){const I=A.Util.singularValueDecompose2dScale(this.matrix);d=[d[0]*I[0],d[1]*I[1]]}const f=this._createMeshCanvas(d,S===Ce.SHADING?null:this._background,V.cachedCanvases);return S!==Ce.SHADING&&(b.setTransform.apply(b,V.baseTransform),this.matrix&&b.transform.apply(b,this.matrix)),b.translate(f.offsetX,f.offsetY),b.scale(f.scaleX,f.scaleY),b.createPattern(f.canvas,"no-repeat")}}class E extends ce{getPattern(){return"hotpink"}}class h{static get MAX_PATTERN_SIZE(){return(0,A.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,V,M,S,d){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=V,this.ctx=M,this.canvasGraphicsFactory=S,this.baseTransform=d}createPatternCanvas(b){const V=this.operatorList,M=this.bbox,S=this.xstep,d=this.ystep,f=this.paintType,P=this.color,F=this.canvasGraphicsFactory;(0,A.info)("TilingType: "+this.tilingType);const H=M[0],$=M[1],W=M[2],J=M[3],ie=A.Util.singularValueDecompose2dScale(this.matrix),le=A.Util.singularValueDecompose2dScale(this.baseTransform),ge=[ie[0]*le[0],ie[1]*le[1]],Z=this.getSizeAndScale(S,this.ctx.canvas.width,ge[0]),ue=this.getSizeAndScale(d,this.ctx.canvas.height,ge[1]),se=b.cachedCanvases.getCanvas("pattern",Z.size,ue.size,!0),ve=se.context,De=F.createCanvasGraphics(ve);De.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(De,f,P);let B=H,m=$,_=W,c=J;return H<0&&(B=0,_+=Math.abs(H)),$<0&&(m=0,c+=Math.abs($)),ve.translate(-Z.scale*B,-ue.scale*m),De.transform(Z.scale,0,0,ue.scale,0,0),ve.save(),this.clipBbox(De,B,m,_,c),De.baseTransform=De.ctx.mozCurrentTransform.slice(),De.executeOperatorList(V),De.endDrawing(),{canvas:se.canvas,scaleX:Z.scale,scaleY:ue.scale,offsetX:B,offsetY:m}}getSizeAndScale(b,V,M){b=Math.abs(b);const S=Math.max(h.MAX_PATTERN_SIZE,V);let d=Math.ceil(b*M);return d>=S?d=S:M=d/b,{scale:M,size:d}}clipBbox(b,V,M,S,d){b.ctx.rect(V,M,S-V,d-M),b.current.updateRectMinMax(b.ctx.mozCurrentTransform,[V,M,S,d]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,V,M){const S=b.ctx,d=b.current;switch(V){case 1:const f=this.ctx;S.fillStyle=f.fillStyle,S.strokeStyle=f.strokeStyle,d.fillColor=f.fillStyle,d.strokeColor=f.strokeStyle;break;case 2:const I=A.Util.makeHexColor(M[0],M[1],M[2]);S.fillStyle=I,S.strokeStyle=I,d.fillColor=I,d.strokeColor=I;break;default:throw new A.FormatError(`Unsupported paint type: ${V}`)}}getPattern(b,V,M,S){let d=M;S!==Ce.SHADING&&(d=A.Util.transform(d,V.baseTransform),this.matrix&&(d=A.Util.transform(d,this.matrix)));const f=this.createPatternCanvas(V);let I=new DOMMatrix(d);I=I.translate(f.offsetX,f.offsetY),I=I.scale(1/f.scaleX,1/f.scaleY);const P=b.createPattern(f.canvas,"repeat");try{P.setTransform(I)}catch(F){(0,A.warn)(`TilingPattern.getPattern: "${F?.message}".`)}return P}}j.TilingPattern=h},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.applyMaskImageData=function xe({src:Ce,srcPos:pe=0,dest:ce,destPos:X=0,width:C,height:N,inverseDecode:T=!1}){const E=A.FeatureTest.isLittleEndian?4278190080:255,[g,x]=T?[0,E]:[E,0],h=C>>3,p=7&C,b=Ce.length;ce=new Uint32Array(ce.buffer);for(let V=0;V<N;V++){for(const S=pe+h;pe<S;pe++){const d=pe<b?Ce[pe]:255;ce[X++]=128&d?x:g,ce[X++]=64&d?x:g,ce[X++]=32&d?x:g,ce[X++]=16&d?x:g,ce[X++]=8&d?x:g,ce[X++]=4&d?x:g,ce[X++]=2&d?x:g,ce[X++]=1&d?x:g}if(0===p)continue;const M=pe<b?Ce[pe++]:255;for(let S=0;S<p;S++)ce[X++]=M&1<<7-S?x:g}return{srcPos:pe,destPos:X}};var A=Ae(1)},(Oe,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.GlobalWorkerOptions=void 0;const Ae=Object.create(null);j.GlobalWorkerOptions=Ae,Ae.workerPort=void 0===Ae.workerPort?null:Ae.workerPort,Ae.workerSrc=void 0===Ae.workerSrc?"":Ae.workerSrc},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.MessageHandler=void 0;var A=Ae(1);function pe(X){switch(X instanceof Error||"object"==typeof X&&null!==X||(0,A.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),X.name){case"AbortException":return new A.AbortException(X.message);case"MissingPDFException":return new A.MissingPDFException(X.message);case"PasswordException":return new A.PasswordException(X.message,X.code);case"UnexpectedResponseException":return new A.UnexpectedResponseException(X.message,X.status);case"UnknownErrorException":return new A.UnknownErrorException(X.message,X.details);default:return new A.UnknownErrorException(X.message,X.toString())}}j.MessageHandler=class ce{constructor(C,N,T){this.sourceName=C,this.targetName=N,this.comObj=T,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=E=>{const g=E.data;if(g.targetName!==this.sourceName)return;if(g.stream)return void this._processStreamMessage(g);if(g.callback){const h=g.callbackId,p=this.callbackCapabilities[h];if(!p)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],1===g.callback)p.resolve(g.data);else{if(2!==g.callback)throw new Error("Unexpected callback case");p.reject(pe(g.reason))}return}const x=this.actionHandler[g.action];if(!x)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const h=this.sourceName,p=g.sourceName;new Promise(function(b){b(x(g.data))}).then(function(b){T.postMessage({sourceName:h,targetName:p,callback:1,callbackId:g.callbackId,data:b})},function(b){T.postMessage({sourceName:h,targetName:p,callback:2,callbackId:g.callbackId,reason:pe(b)})})}else g.streamId?this._createStreamSink(g):x(g.data)},T.addEventListener("message",this._onComObjOnMessage)}on(C,N){const T=this.actionHandler;if(T[C])throw new Error(`There is already an actionName called "${C}"`);T[C]=N}send(C,N,T){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,data:N},T)}sendWithPromise(C,N,T){const E=this.callbackId++,g=(0,A.createPromiseCapability)();this.callbackCapabilities[E]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:C,callbackId:E,data:N},T)}catch(x){g.reject(x)}return g.promise}sendWithStream(C,N,T,E){const g=this.streamId++,x=this.sourceName,h=this.targetName,p=this.comObj;return new ReadableStream({start:b=>{const V=(0,A.createPromiseCapability)();return this.streamControllers[g]={controller:b,startCall:V,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:x,targetName:h,action:C,streamId:g,data:N,desiredSize:b.desiredSize},E),V.promise},pull:b=>{const V=(0,A.createPromiseCapability)();return this.streamControllers[g].pullCall=V,p.postMessage({sourceName:x,targetName:h,stream:6,streamId:g,desiredSize:b.desiredSize}),V.promise},cancel:b=>{(0,A.assert)(b instanceof Error,"cancel must have a valid reason");const V=(0,A.createPromiseCapability)();return this.streamControllers[g].cancelCall=V,this.streamControllers[g].isClosed=!0,p.postMessage({sourceName:x,targetName:h,stream:1,streamId:g,reason:pe(b)}),V.promise}},T)}_createStreamSink(C){const N=C.streamId,T=this.sourceName,E=C.sourceName,g=this.comObj,x=this,h=this.actionHandler[C.action],p={enqueue(b,V=1,M){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=V,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,A.createPromiseCapability)(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:T,targetName:E,stream:4,streamId:N,chunk:b},M)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:T,targetName:E,stream:3,streamId:N}),delete x.streamSinks[N])},error(b){(0,A.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:T,targetName:E,stream:5,streamId:N,reason:pe(b)}))},sinkCapability:(0,A.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:C.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[N]=p,new Promise(function(b){b(h(C.data,p))}).then(function(){g.postMessage({sourceName:T,targetName:E,stream:8,streamId:N,success:!0})},function(b){g.postMessage({sourceName:T,targetName:E,stream:8,streamId:N,reason:pe(b)})})}_processStreamMessage(C){const N=C.streamId,T=this.sourceName,E=C.sourceName,g=this.comObj,x=this.streamControllers[N],h=this.streamSinks[N];switch(C.stream){case 8:C.success?x.startCall.resolve():x.startCall.reject(pe(C.reason));break;case 7:C.success?x.pullCall.resolve():x.pullCall.reject(pe(C.reason));break;case 6:if(!h){g.postMessage({sourceName:T,targetName:E,stream:7,streamId:N,success:!0});break}h.desiredSize<=0&&C.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=C.desiredSize,new Promise(function(p){p(h.onPull&&h.onPull())}).then(function(){g.postMessage({sourceName:T,targetName:E,stream:7,streamId:N,success:!0})},function(p){g.postMessage({sourceName:T,targetName:E,stream:7,streamId:N,reason:pe(p)})});break;case 4:if((0,A.assert)(x,"enqueue should have stream controller"),x.isClosed)break;x.controller.enqueue(C.chunk);break;case 3:if((0,A.assert)(x,"close should have stream controller"),x.isClosed)break;x.isClosed=!0,x.controller.close(),this._deleteStreamController(x,N);break;case 5:(0,A.assert)(x,"error should have stream controller"),x.controller.error(pe(C.reason)),this._deleteStreamController(x,N);break;case 2:C.success?x.cancelCall.resolve():x.cancelCall.reject(pe(C.reason)),this._deleteStreamController(x,N);break;case 1:if(!h)break;new Promise(function(p){p(h.onCancel&&h.onCancel(pe(C.reason)))}).then(function(){g.postMessage({sourceName:T,targetName:E,stream:2,streamId:N,success:!0})},function(p){g.postMessage({sourceName:T,targetName:E,stream:2,streamId:N,reason:pe(p)})}),h.sinkCapability.reject(pe(C.reason)),h.isCancelled=!0,delete this.streamSinks[N];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(C,N){var T=this;return _asyncToGenerator(function*(){yield Promise.allSettled([C.startCall&&C.startCall.promise,C.pullCall&&C.pullCall.promise,C.cancelCall&&C.cancelCall.promise]),delete T.streamControllers[N]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Oe,j,Ae)=>{var Ce,pe;Object.defineProperty(j,"__esModule",{value:!0}),j.Metadata=void 0;var A=Ae(1);Ce=new WeakMap,pe=new WeakMap,j.Metadata=class xe{constructor({parsedData:X,rawData:C}){nt(this,Ce,void 0),nt(this,pe,void 0),Xt(this,Ce,X),Xt(this,pe,C)}getRaw(){return Je(this,pe)}get(X){return Je(this,Ce).get(X)??null}getAll(){return(0,A.objectFromMap)(Je(this,Ce))}has(X){return Je(this,Ce).has(X)}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.OptionalContentConfig=void 0;var A=Ae(1);class xe{constructor(ce,X){this.visible=!0,this.name=ce,this.intent=X}}j.OptionalContentConfig=class Ce{constructor(ce){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ce){this.name=ce.name,this.creator=ce.creator,this._order=ce.order;for(const X of ce.groups)this._groups.set(X.id,new xe(X.name,X.intent));if("OFF"===ce.baseState)for(const X of this._groups)X.visible=!1;for(const X of ce.on)this._groups.get(X).visible=!0;for(const X of ce.off)this._groups.get(X).visible=!1}}_evaluateVisibilityExpression(ce){const X=ce.length;if(X<2)return!0;const C=ce[0];for(let N=1;N<X;N++){const T=ce[N];let E;if(Array.isArray(T))E=this._evaluateVisibilityExpression(T);else{if(!this._groups.has(T))return(0,A.warn)(`Optional content group not found: ${T}`),!0;E=this._groups.get(T).visible}switch(C){case"And":if(!E)return!1;break;case"Or":if(E)return!0;break;case"Not":return!E;default:return!0}}return"And"===C}isVisible(ce){if(0===this._groups.size)return!0;if(!ce)return(0,A.warn)("Optional content group not defined."),!0;if("OCG"===ce.type)return this._groups.has(ce.id)?this._groups.get(ce.id).visible:((0,A.warn)(`Optional content group not found: ${ce.id}`),!0);if("OCMD"===ce.type){if(ce.expression)return this._evaluateVisibilityExpression(ce.expression);if(!ce.policy||"AnyOn"===ce.policy){for(const X of ce.ids){if(!this._groups.has(X))return(0,A.warn)(`Optional content group not found: ${X}`),!0;if(this._groups.get(X).visible)return!0}return!1}if("AllOn"===ce.policy){for(const X of ce.ids){if(!this._groups.has(X))return(0,A.warn)(`Optional content group not found: ${X}`),!0;if(!this._groups.get(X).visible)return!1}return!0}if("AnyOff"===ce.policy){for(const X of ce.ids){if(!this._groups.has(X))return(0,A.warn)(`Optional content group not found: ${X}`),!0;if(!this._groups.get(X).visible)return!0}return!1}if("AllOff"===ce.policy){for(const X of ce.ids){if(!this._groups.has(X))return(0,A.warn)(`Optional content group not found: ${X}`),!0;if(this._groups.get(X).visible)return!1}return!0}return(0,A.warn)(`Unknown optional content policy ${ce.policy}.`),!0}return(0,A.warn)(`Unknown group type ${ce.type}.`),!0}setVisibility(ce,X=!0){this._groups.has(ce)?this._groups.get(ce).visible=!!X:(0,A.warn)(`Optional content group not found: ${ce}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,A.objectFromMap)(this._groups):null}getGroup(ce){return this._groups.get(ce)||null}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFDataTransportStream=void 0;var A=Ae(1),xe=Ae(5);j.PDFDataTransportStream=class Ce{constructor(C,N){(0,A.assert)(N,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=C.progressiveDone||!1,this._contentDispositionFilename=C.contentDispositionFilename||null;const T=C.initialData;if(T?.length>0){const E=new Uint8Array(T).buffer;this._queuedChunks.push(E)}this._pdfDataRangeTransport=N,this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._contentLength=C.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((E,g)=>{this._onReceiveData({begin:E,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((E,g)=>{this._onProgress({loaded:E,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(E=>{this._onReceiveData({chunk:E})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(C){const N=new Uint8Array(C.chunk).buffer;if(void 0===C.begin)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const T=this._rangeReaders.some(function(E){return E._begin===C.begin&&(E._enqueue(N),!0)});(0,A.assert)(T,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(C){if(void 0===C.total){const N=this._rangeReaders[0];N?.onProgress&&N.onProgress({loaded:C.loaded})}else{const N=this._fullRequestReader;N?.onProgress&&N.onProgress({loaded:C.loaded,total:C.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(C){const N=this._rangeReaders.indexOf(C);N>=0&&this._rangeReaders.splice(N,1)}getFullReader(){(0,A.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const C=this._queuedChunks;return this._queuedChunks=null,new pe(this,C,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(C,N){if(N<=this._progressiveDataLength)return null;const T=new ce(this,C,N);return this._pdfDataRangeTransport.requestDataRange(C,N),this._rangeReaders.push(T),T}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const N of this._rangeReaders.slice(0))N.cancel(C);this._pdfDataRangeTransport.abort()}};class pe{constructor(C,N,T=!1,E=null){this._stream=C,this._done=T||!1,this._filename=(0,xe.isPdfFile)(E)?E:null,this._queuedChunks=N||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),C._fullRequestReader=this,this.onProgress=null}_enqueue(C){this._done||(this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunks.push(C),this._loaded+=C.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var C=this;return _asyncToGenerator(function*(){if(C._queuedChunks.length>0)return{value:C._queuedChunks.shift(),done:!1};if(C._done)return{value:void 0,done:!0};const N=(0,A.createPromiseCapability)();return C._requests.push(N),N.promise})()}cancel(C){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ce{constructor(C,N,T){this._stream=C,this._begin=N,this._end=T,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(C){if(!this._done){if(0===this._requests.length)this._queuedChunk=C;else{this._requests.shift().resolve({value:C,done:!1});for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var C=this;return _asyncToGenerator(function*(){if(C._queuedChunk){const T=C._queuedChunk;return C._queuedChunk=null,{value:T,done:!1}}if(C._done)return{value:void 0,done:!0};const N=(0,A.createPromiseCapability)();return C._requests.push(N),N.promise})()}cancel(C){this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Oe,j)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.XfaText=void 0;class Ae{static textContent(xe){const Ce=[],pe={items:Ce,styles:Object.create(null)};return function ce(X){if(!X)return;let C=null;const N=X.name;if("#text"===N)C=X.value;else{if(!Ae.shouldBuildText(N))return;X?.attributes?.textContent?C=X.attributes.textContent:X.value&&(C=X.value)}if(null!==C&&Ce.push({str:C}),X.children)for(const T of X.children)ce(T)}(xe),pe}static shouldBuildText(xe){return!("textarea"===xe||"input"===xe||"option"===xe||"select"===xe)}}j.XfaText=Ae},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.NodeStandardFontDataFactory=j.NodeCanvasFactory=j.NodeCMapReaderFactory=void 0;var A=Ae(6);const xe=function(X){return new Promise((C,N)=>{__webpack_require__(172).readFile(X,(E,g)=>{!E&&g?C(new Uint8Array(g)):N(new Error(E))})})};j.NodeCanvasFactory=class Ce extends A.BaseCanvasFactory{_createCanvas(C,N){return __webpack_require__(414).createCanvas(C,N)}},j.NodeCMapReaderFactory=class pe extends A.BaseCMapReaderFactory{_fetchData(C,N){return xe(C).then(T=>({cMapData:T,compressionType:N}))}},j.NodeStandardFontDataFactory=class ce extends A.BaseStandardFontDataFactory{_fetchData(C){return xe(C)}}},(Oe,j,Ae)=>{var B,Hp;Object.defineProperty(j,"__esModule",{value:!0}),j.AnnotationLayer=void 0;var A=Ae(1),xe=Ae(5),Ce=Ae(8),pe=Ae(21),ce=Ae(22);const X=1e3,C=new WeakSet;function N(_){return{width:_[2]-_[0],height:_[3]-_[1]}}class T{static create(c){switch(c.data.annotationType){case A.AnnotationType.LINK:return new g(c);case A.AnnotationType.TEXT:return new x(c);case A.AnnotationType.WIDGET:switch(c.data.fieldType){case"Tx":return new p(c);case"Btn":return c.data.radioButton?new V(c):c.data.checkBox?new b(c):new M(c);case"Ch":return new S(c)}return new h(c);case A.AnnotationType.POPUP:return new d(c);case A.AnnotationType.FREETEXT:return new I(c);case A.AnnotationType.LINE:return new P(c);case A.AnnotationType.SQUARE:return new F(c);case A.AnnotationType.CIRCLE:return new H(c);case A.AnnotationType.POLYLINE:return new $(c);case A.AnnotationType.CARET:return new J(c);case A.AnnotationType.INK:return new ie(c);case A.AnnotationType.POLYGON:return new W(c);case A.AnnotationType.HIGHLIGHT:return new le(c);case A.AnnotationType.UNDERLINE:return new ge(c);case A.AnnotationType.SQUIGGLY:return new Z(c);case A.AnnotationType.STRIKEOUT:return new ue(c);case A.AnnotationType.STAMP:return new se(c);case A.AnnotationType.FILEATTACHMENT:return new ve(c);default:return new E(c)}}}class E{constructor(c,{isRenderable:y=!1,ignoreBorder:w=!1,createQuadrilaterals:k=!1}={}){this.isRenderable=y,this.data=c.data,this.layer=c.layer,this.page=c.page,this.viewport=c.viewport,this.linkService=c.linkService,this.downloadManager=c.downloadManager,this.imageResourcesPath=c.imageResourcesPath,this.renderForms=c.renderForms,this.svgFactory=c.svgFactory,this.annotationStorage=c.annotationStorage,this.enableScripting=c.enableScripting,this.hasJSActions=c.hasJSActions,this._fieldObjects=c.fieldObjects,this._mouseState=c.mouseState,y&&(this.container=this._createContainer(w)),k&&(this.quadrilaterals=this._createQuadrilaterals(w))}_createContainer(c=!1){const y=this.data,w=this.page,k=this.viewport,O=document.createElement("section");let{width:L,height:ee}=N(y.rect);O.setAttribute("data-annotation-id",y.id);const re=A.Util.normalizeRect([y.rect[0],w.view[3]-y.rect[1]+w.view[1],y.rect[2],w.view[3]-y.rect[3]+w.view[1]]);if(y.hasOwnCanvas){const ne=k.transform.slice(),[oe,he]=A.Util.singularValueDecompose2dScale(ne);L=Math.ceil(L*oe),ee=Math.ceil(ee*he),re[0]*=oe,re[1]*=he;for(let ye=0;ye<4;ye++)ne[ye]=Math.sign(ne[ye]);O.style.transform=`matrix(${ne.join(",")})`}else O.style.transform=`matrix(${k.transform.join(",")})`;if(O.style.transformOrigin=`${-re[0]}px ${-re[1]}px`,!c&&y.borderStyle.width>0){O.style.borderWidth=`${y.borderStyle.width}px`,y.borderStyle.style!==A.AnnotationBorderStyleType.UNDERLINE&&(L-=2*y.borderStyle.width,ee-=2*y.borderStyle.width);const ne=y.borderStyle.horizontalCornerRadius,oe=y.borderStyle.verticalCornerRadius;switch((ne>0||oe>0)&&(O.style.borderRadius=`${ne}px / ${oe}px`),y.borderStyle.style){case A.AnnotationBorderStyleType.SOLID:O.style.borderStyle="solid";break;case A.AnnotationBorderStyleType.DASHED:O.style.borderStyle="dashed";break;case A.AnnotationBorderStyleType.BEVELED:(0,A.warn)("Unimplemented border style: beveled");break;case A.AnnotationBorderStyleType.INSET:(0,A.warn)("Unimplemented border style: inset");break;case A.AnnotationBorderStyleType.UNDERLINE:O.style.borderBottomStyle="solid"}y.borderColor||y.color?O.style.borderColor=A.Util.makeHexColor(0|y.color[0],0|y.color[1],0|y.color[2]):O.style.borderWidth=0}return O.style.left=`${re[0]}px`,O.style.top=`${re[1]}px`,y.hasOwnCanvas?O.style.width=O.style.height="auto":(O.style.width=`${L}px`,O.style.height=`${ee}px`),O}get _commonActions(){const c=(y,w,k)=>{const O=k.detail[y];k.target.style[w]=pe.ColorConverters[`${O[0]}_HTML`](O.slice(1))};return(0,A.shadow)(this,"_commonActions",{display:y=>{const w=y.detail.display%2==1;y.target.style.visibility=w?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w,print:0===y.detail.display||3===y.detail.display})},print:y=>{this.annotationStorage.setValue(this.data.id,{print:y.detail.print})},hidden:y=>{y.target.style.visibility=y.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:y.detail.hidden})},focus:y=>{setTimeout(()=>y.target.focus({preventScroll:!1}),0)},userName:y=>{y.target.title=y.detail.userName},readonly:y=>{y.detail.readonly?y.target.setAttribute("readonly",""):y.target.removeAttribute("readonly")},required:y=>{y.detail.required?y.target.setAttribute("required",""):y.target.removeAttribute("required")},bgColor:y=>{c("bgColor","backgroundColor",y)},fillColor:y=>{c("fillColor","backgroundColor",y)},fgColor:y=>{c("fgColor","color",y)},textColor:y=>{c("textColor","color",y)},borderColor:y=>{c("borderColor","borderColor",y)},strokeColor:y=>{c("strokeColor","borderColor",y)}})}_dispatchEventFromSandbox(c,y){const w=this._commonActions;for(const k of Object.keys(y.detail)){const O=c[k]||w[k];O&&O(y)}}_setDefaultPropertiesFromJS(c){if(!this.enableScripting)return;const y=this.annotationStorage.getRawValue(this.data.id);if(!y)return;const w=this._commonActions;for(const[k,O]of Object.entries(y)){const L=w[k];L&&(L({detail:O,target:c}),delete y[k])}}_createQuadrilaterals(c=!1){if(!this.data.quadPoints)return null;const y=[],w=this.data.rect;for(const k of this.data.quadPoints)this.data.rect=[k[2].x,k[2].y,k[1].x,k[1].y],y.push(this._createContainer(c));return this.data.rect=w,y}_createPopup(c,y){let w=this.container;this.quadrilaterals&&(c=c||this.quadrilaterals,w=this.quadrilaterals[0]),c||((c=document.createElement("div")).style.height=w.style.height,c.style.width=w.style.width,w.appendChild(c));const O=new f({container:w,trigger:c,color:y.color,titleObj:y.titleObj,modificationDate:y.modificationDate,contentsObj:y.contentsObj,richText:y.richText,hideWrapper:!0}).render();O.style.left=w.style.width,w.appendChild(O)}_renderQuadrilaterals(c){for(const y of this.quadrilaterals)y.className=c;return this.quadrilaterals}render(){(0,A.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(c,y=null){const w=[];if(this._fieldObjects){const k=this._fieldObjects[c];if(k)for(const{page:O,id:L,exportValues:ee}of k){if(-1===O||L===y)continue;const re="string"==typeof ee?ee:null,ne=document.getElementById(L);!ne||C.has(ne)?w.push({id:L,exportValue:re,domElement:ne}):(0,A.warn)(`_getElementsByName - element not allowed: ${L}`)}return w}for(const k of document.getElementsByName(c)){const{id:O,exportValue:L}=k;O!==y&&(!C.has(k)||w.push({id:O,exportValue:L,domElement:k}))}return w}static get platform(){const c=typeof navigator<"u"?navigator.platform:"";return(0,A.shadow)(this,"platform",{isWin:c.includes("Win"),isMac:c.includes("Mac")})}}class g extends E{constructor(c,y=null){super(c,{isRenderable:!!(c.data.url||c.data.dest||c.data.action||c.data.isTooltipOnly||c.data.resetForm||c.data.actions&&(c.data.actions.Action||c.data.actions["Mouse Up"]||c.data.actions["Mouse Down"])),ignoreBorder:!!y?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:c,linkService:y}=this,w=document.createElement("a");if(c.url)y.addLinkAttributes(w,c.url,c.newWindow);else if(c.action)this._bindNamedAction(w,c.action);else if(c.dest)this._bindLink(w,c.dest);else{let k=!1;c.actions&&(c.actions.Action||c.actions["Mouse Up"]||c.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(k=!0,this._bindJSAction(w,c)),c.resetForm?this._bindResetFormAction(w,c.resetForm):k||this._bindLink(w,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((k,O)=>{const L=0===O?w:w.cloneNode();return k.appendChild(L),k}):(this.container.className="linkAnnotation",this.container.appendChild(w),this.container)}_bindLink(c,y){c.href=this.linkService.getDestinationHash(y),c.onclick=()=>(y&&this.linkService.goToDestination(y),!1),(y||""===y)&&(c.className="internalLink")}_bindNamedAction(c,y){c.href=this.linkService.getAnchorUrl(""),c.onclick=()=>(this.linkService.executeNamedAction(y),!1),c.className="internalLink"}_bindJSAction(c,y){c.href=this.linkService.getAnchorUrl("");const w=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const k of Object.keys(y.actions)){const O=w.get(k);!O||(c[O]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y.id,name:k}}),!1))}c.onclick||(c.onclick=()=>!1),c.className="internalLink"}_bindResetFormAction(c,y){const w=c.onclick;if(w||(c.href=this.linkService.getAnchorUrl("")),c.className="internalLink",!this._fieldObjects)return(0,A.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(w||(c.onclick=()=>!1));c.onclick=()=>{w&&w();const{fields:k,refs:O,include:L}=y,ee=[];if(0!==k.length||0!==O.length){const oe=new Set(O);for(const he of k){const ye=this._fieldObjects[he]||[];for(const{id:Re}of ye)oe.add(Re)}for(const he of Object.values(this._fieldObjects))for(const ye of he)oe.has(ye.id)===L&&ee.push(ye)}else for(const oe of Object.values(this._fieldObjects))ee.push(...oe);const re=this.annotationStorage,ne=[];for(const oe of ee){const{id:he}=oe;switch(ne.push(he),oe.type){case"text":case"combobox":case"listbox":re.setValue(he,{value:oe.defaultValue||""});break;case"checkbox":case"radiobutton":re.setValue(he,{value:oe.defaultValue===oe.exportValues});break;default:continue}const ye=document.getElementById(he);!ye||!C.has(ye)||ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ne,name:"ResetForm"}}),!1}}}class x extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str)})}render(){this.container.className="textAnnotation";const c=document.createElement("img");return c.style.height=this.container.style.height,c.style.width=this.container.style.width,c.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",c.alt="[{{type}} Annotation]",c.dataset.l10nId="text_annotation_type",c.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(c,this.data),this.container.appendChild(c),this.container}}class h extends E{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(c){const{isWin:y,isMac:w}=E.platform;return y&&c.ctrlKey||w&&c.metaKey}_setEventListener(c,y,w,k){y.includes("mouse")?c.addEventListener(y,O=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:k(O),shift:O.shiftKey,modifier:this._getKeyModifier(O)}})}):c.addEventListener(y,O=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:w,value:k(O)}})})}_setEventListeners(c,y,w){for(const[k,O]of y)("Action"===O||this.data.actions?.[O])&&this._setEventListener(c,k,O,w)}_setBackgroundColor(c){const y=this.data.backgroundColor||null;c.style.backgroundColor=null===y?"transparent":A.Util.makeHexColor(y[0],y[1],y[2])}}class p extends h{constructor(c){super(c,{isRenderable:c.renderForms||!c.data.hasAppearance&&!!c.data.fieldValue})}setPropertyOnSiblings(c,y,w,k){const O=this.annotationStorage;for(const L of this._getElementsByName(c.name,c.id))L.domElement&&(L.domElement[y]=w),O.setValue(L.id,{[k]:w})}render(){const c=this.annotationStorage,y=this.data.id;this.container.className="textWidgetAnnotation";let w=null;if(this.renderForms){const k=c.getValue(y,{value:this.data.fieldValue}),O=k.formattedValue||k.value||"",L={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(w=document.createElement("textarea"),w.textContent=O):(w=document.createElement("input"),w.type="text",w.setAttribute("value",O)),C.add(w),w.disabled=this.data.readOnly,w.name=this.data.fieldName,w.tabIndex=X,L.userValue=O,w.setAttribute("id",y),w.addEventListener("input",re=>{c.setValue(y,{value:re.target.value}),this.setPropertyOnSiblings(w,"value",re.target.value,"value")}),w.addEventListener("resetform",re=>{w.value=L.userValue=this.data.defaultFieldValue??"",L.formattedValue=null});let ee=re=>{const{formattedValue:ne}=L;null!=ne&&(re.target.value=ne),re.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){w.addEventListener("focus",ne=>{L.userValue&&(ne.target.value=L.userValue),L.valueOnFocus=ne.target.value}),w.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({value(he){L.userValue=he.detail.value??"",c.setValue(y,{value:L.userValue.toString()}),he.target.value=L.userValue},formattedValue(he){const{formattedValue:ye}=he.detail;L.formattedValue=ye,null!=ye&&he.target!==document.activeElement&&(he.target.value=ye),c.setValue(y,{formattedValue:ye})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)}},ne)}),w.addEventListener("keydown",ne=>{let oe=-1;if("Escape"===ne.key?oe=0:"Enter"===ne.key?oe=2:"Tab"===ne.key&&(oe=3),-1===oe)return;const{value:he}=ne.target;L.valueOnFocus!==he&&(L.userValue=he,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:he,willCommit:!0,commitKey:oe,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}}))});const re=ee;ee=null,w.addEventListener("blur",ne=>{const{value:oe}=ne.target;L.userValue=oe,this._mouseState.isDown&&L.valueOnFocus!==oe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:oe,willCommit:!0,commitKey:1,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}}),re(ne)}),this.data.actions?.Keystroke&&w.addEventListener("beforeinput",ne=>{const{data:oe,target:he}=ne,{value:ye,selectionStart:Re,selectionEnd:qe}=he;let me=Re,we=qe;switch(ne.inputType){case"deleteWordBackward":{const be=ye.substring(0,Re).match(/\w*[^\w]*$/);be&&(me-=be[0].length);break}case"deleteWordForward":{const be=ye.substring(Re).match(/^[^\w]*\w*/);be&&(we+=be[0].length);break}case"deleteContentBackward":Re===qe&&(me-=1);break;case"deleteContentForward":Re===qe&&(we+=1)}ne.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ye,change:oe||"",willCommit:!1,selStart:me,selEnd:we}})}),this._setEventListeners(w,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.value)}if(ee&&w.addEventListener("blur",ee),null!==this.data.maxLen&&(w.maxLength=this.data.maxLen),this.data.comb){const ne=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;w.classList.add("comb"),w.style.letterSpacing=`calc(${ne}px - 1ch)`}}else w=document.createElement("div"),w.textContent=this.data.fieldValue,w.style.verticalAlign="middle",w.style.display="table-cell";return this._setTextStyle(w),this._setBackgroundColor(w),this._setDefaultPropertiesFromJS(w),this.container.appendChild(w),this.container}_setTextStyle(c){const{fontSize:w,fontColor:k}=this.data.defaultAppearanceData,O=c.style;w&&(O.fontSize=`${w}px`),O.color=A.Util.makeHexColor(k[0],k[1],k[2]),null!==this.data.textAlignment&&(O.textAlign=["left","center","right"][this.data.textAlignment])}}class b extends h{constructor(c){super(c,{isRenderable:c.renderForms})}render(){const c=this.annotationStorage,y=this.data,w=y.id;let k=c.getValue(w,{value:y.exportValue===y.fieldValue}).value;"string"==typeof k&&(k="Off"!==k,c.setValue(w,{value:k})),this.container.className="buttonWidgetAnnotation checkBox";const O=document.createElement("input");return C.add(O),O.disabled=y.readOnly,O.type="checkbox",O.name=y.fieldName,k&&O.setAttribute("checked",!0),O.setAttribute("id",w),O.setAttribute("exportValue",y.exportValue),O.tabIndex=X,O.addEventListener("change",L=>{const{name:ee,checked:re}=L.target;for(const ne of this._getElementsByName(ee,w)){const oe=re&&ne.exportValue===y.exportValue;ne.domElement&&(ne.domElement.checked=oe),c.setValue(ne.id,{value:oe})}c.setValue(w,{value:re})}),O.addEventListener("resetform",L=>{L.target.checked=(y.defaultFieldValue||"Off")===y.exportValue}),this.enableScripting&&this.hasJSActions&&(O.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({value(re){re.target.checked="Off"!==re.detail.value,c.setValue(w,{value:re.target.checked})}},L)}),this._setEventListeners(O,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],L=>L.target.checked)),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.appendChild(O),this.container}}class V extends h{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const c=this.annotationStorage,y=this.data,w=y.id;let k=c.getValue(w,{value:y.fieldValue===y.buttonValue}).value;"string"==typeof k&&(k=k!==y.buttonValue,c.setValue(w,{value:k}));const O=document.createElement("input");if(C.add(O),O.disabled=y.readOnly,O.type="radio",O.name=y.fieldName,k&&O.setAttribute("checked",!0),O.setAttribute("id",w),O.tabIndex=X,O.addEventListener("change",L=>{const{name:ee,checked:re}=L.target;for(const ne of this._getElementsByName(ee,w))c.setValue(ne.id,{value:!1});c.setValue(w,{value:re})}),O.addEventListener("resetform",L=>{const ee=y.defaultFieldValue;L.target.checked=null!=ee&&ee===y.buttonValue}),this.enableScripting&&this.hasJSActions){const L=y.buttonValue;O.addEventListener("updatefromsandbox",ee=>{this._dispatchEventFromSandbox({value:ne=>{const oe=L===ne.detail.value;for(const he of this._getElementsByName(ne.target.name)){const ye=oe&&he.id===w;he.domElement&&(he.domElement.checked=ye),c.setValue(he.id,{value:ye})}}},ee)}),this._setEventListeners(O,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ee=>ee.target.checked)}return this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.appendChild(O),this.container}}class M extends g{constructor(c){super(c,{ignoreBorder:c.data.hasAppearance})}render(){const c=super.render();return c.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(c.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(c),c}}class S extends h{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const c=this.annotationStorage,y=this.data.id,w=c.getValue(y,{value:this.data.fieldValue});let{fontSize:k}=this.data.defaultAppearanceData;k||(k=9);const O=`calc(${k}px * var(--zoom-factor))`,L=document.createElement("select");C.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.setAttribute("id",y),L.tabIndex=X,L.style.fontSize=`${k}px`,this.data.combo||(L.size=this.data.options.length,this.data.multiSelect&&(L.multiple=!0)),L.addEventListener("resetform",ne=>{const oe=this.data.defaultFieldValue;for(const he of L.options)he.selected=he.value===oe});for(const ne of this.data.options){const oe=document.createElement("option");oe.textContent=ne.displayValue,oe.value=ne.exportValue,this.data.combo&&(oe.style.fontSize=O),w.value.includes(ne.exportValue)&&oe.setAttribute("selected",!0),L.appendChild(oe)}const ee=(ne,oe)=>{const he=oe?"value":"textContent",ye=ne.target.options;return ne.target.multiple?Array.prototype.filter.call(ye,Re=>Re.selected).map(Re=>Re[he]):-1===ye.selectedIndex?null:ye[ye.selectedIndex][he]},re=ne=>Array.prototype.map.call(ne.target.options,he=>({displayValue:he.textContent,exportValue:he.value}));return this.enableScripting&&this.hasJSActions?(L.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({value(he){const ye=he.detail.value,Re=new Set(Array.isArray(ye)?ye:[ye]);for(const qe of L.options)qe.selected=Re.has(qe.value);c.setValue(y,{value:ee(he,!0)})},multipleSelection(he){L.multiple=!0},remove(he){const ye=L.options,Re=he.detail.remove;ye[Re].selected=!1,L.remove(Re),ye.length>0&&-1===Array.prototype.findIndex.call(ye,me=>me.selected)&&(ye[0].selected=!0),c.setValue(y,{value:ee(he,!0),items:re(he)})},clear(he){for(;0!==L.length;)L.remove(0);c.setValue(y,{value:null,items:[]})},insert(he){const{index:ye,displayValue:Re,exportValue:qe}=he.detail.insert,me=document.createElement("option");me.textContent=Re,me.value=qe,L.insertBefore(me,L.children[ye]),c.setValue(y,{value:ee(he,!0),items:re(he)})},items(he){const{items:ye}=he.detail;for(;0!==L.length;)L.remove(0);for(const Re of ye){const{displayValue:qe,exportValue:me}=Re,we=document.createElement("option");we.textContent=qe,we.value=me,L.appendChild(we)}L.options.length>0&&(L.options[0].selected=!0),c.setValue(y,{value:ee(he,!0),items:re(he)})},indices(he){const ye=new Set(he.detail.indices);for(const Re of he.target.options)Re.selected=ye.has(Re.index);c.setValue(y,{value:ee(he,!0)})},editable(he){he.target.disabled=!he.detail.editable}},ne)}),L.addEventListener("input",ne=>{const oe=ee(ne,!0),he=ee(ne,!1);c.setValue(y,{value:oe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:he,changeEx:oe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ne=>ne.target.checked)):L.addEventListener("input",function(ne){c.setValue(y,{value:ee(ne,!0)})}),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}}class d extends E{constructor(c){super(c,{isRenderable:!!(c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const w=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===w.length)return this.container;const k=new f({container:this.container,trigger:Array.from(w),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),O=this.page,L=A.Util.normalizeRect([this.data.parentRect[0],O.view[3]-this.data.parentRect[1]+O.view[1],this.data.parentRect[2],O.view[3]-this.data.parentRect[3]+O.view[1]]),ee=L[0]+this.data.parentRect[2]-this.data.parentRect[0],re=L[1];return this.container.style.transformOrigin=`${-ee}px ${-re}px`,this.container.style.left=`${ee}px`,this.container.style.top=`${re}px`,this.container.appendChild(k.render()),this.container}}class f{constructor(c){this.container=c.container,this.trigger=c.trigger,this.color=c.color,this.titleObj=c.titleObj,this.modificationDate=c.modificationDate,this.contentsObj=c.contentsObj,this.richText=c.richText,this.hideWrapper=c.hideWrapper||!1,this.pinned=!1}render(){const y=document.createElement("div");y.className="popupWrapper",this.hideElement=this.hideWrapper?y:this.container,this.hideElement.hidden=!0;const w=document.createElement("div");w.className="popup";const k=this.color;k&&(w.style.backgroundColor=A.Util.makeHexColor(0|.7*(255-k[0])+k[0],0|.7*(255-k[1])+k[1],0|.7*(255-k[2])+k[2]));const O=document.createElement("h1");O.dir=this.titleObj.dir,O.textContent=this.titleObj.str,w.appendChild(O);const L=xe.PDFDateString.toDateObject(this.modificationDate);if(L){const ee=document.createElement("span");ee.className="popupDate",ee.textContent="{{date}}, {{time}}",ee.dataset.l10nId="annotation_date_string",ee.dataset.l10nArgs=JSON.stringify({date:L.toLocaleDateString(),time:L.toLocaleTimeString()}),w.appendChild(ee)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const ee=this._formatContents(this.contentsObj);w.appendChild(ee)}else ce.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:w}),w.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ee of this.trigger)ee.addEventListener("click",this._toggle.bind(this)),ee.addEventListener("mouseover",this._show.bind(this,!1)),ee.addEventListener("mouseout",this._hide.bind(this,!1));return w.addEventListener("click",this._hide.bind(this,!0)),y.appendChild(w),y}_formatContents({str:c,dir:y}){const w=document.createElement("p");w.className="popupContent",w.dir=y;const k=c.split(/(?:\r\n?|\n)/);for(let O=0,L=k.length;O<L;++O)w.appendChild(document.createTextNode(k[O])),O<L-1&&w.appendChild(document.createElement("br"));return w}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(c=!1){c&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(c=!0){c&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class I extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const c=this.data,{width:y,height:w}=N(c.rect),k=this.svgFactory.create(y,w),O=this.svgFactory.createElement("svg:line");return O.setAttribute("x1",c.rect[2]-c.lineCoordinates[0]),O.setAttribute("y1",c.rect[3]-c.lineCoordinates[1]),O.setAttribute("x2",c.rect[2]-c.lineCoordinates[2]),O.setAttribute("y2",c.rect[3]-c.lineCoordinates[3]),O.setAttribute("stroke-width",c.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),k.appendChild(O),this.container.append(k),this._createPopup(O,c),this.container}}class F extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const c=this.data,{width:y,height:w}=N(c.rect),k=this.svgFactory.create(y,w),O=c.borderStyle.width,L=this.svgFactory.createElement("svg:rect");return L.setAttribute("x",O/2),L.setAttribute("y",O/2),L.setAttribute("width",y-O),L.setAttribute("height",w-O),L.setAttribute("stroke-width",O||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),k.appendChild(L),this.container.append(k),this._createPopup(L,c),this.container}}class H extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const c=this.data,{width:y,height:w}=N(c.rect),k=this.svgFactory.create(y,w),O=c.borderStyle.width,L=this.svgFactory.createElement("svg:ellipse");return L.setAttribute("cx",y/2),L.setAttribute("cy",w/2),L.setAttribute("rx",y/2-O/2),L.setAttribute("ry",w/2-O/2),L.setAttribute("stroke-width",O||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),k.appendChild(L),this.container.append(k),this._createPopup(L,c),this.container}}class $ extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const c=this.data,{width:y,height:w}=N(c.rect),k=this.svgFactory.create(y,w);let O=[];for(const ee of c.vertices)O.push(ee.x-c.rect[0]+","+(c.rect[3]-ee.y));O=O.join(" ");const L=this.svgFactory.createElement(this.svgElementName);return L.setAttribute("points",O),L.setAttribute("stroke-width",c.borderStyle.width||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),k.appendChild(L),this.container.append(k),this._createPopup(L,c),this.container}}class W extends ${constructor(c){super(c),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class J extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ie extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const c=this.data,{width:y,height:w}=N(c.rect),k=this.svgFactory.create(y,w);for(const O of c.inkLists){let L=[];for(const re of O)L.push(`${re.x-c.rect[0]},${c.rect[3]-re.y}`);L=L.join(" ");const ee=this.svgFactory.createElement(this.svgElementName);ee.setAttribute("points",L),ee.setAttribute("stroke-width",c.borderStyle.width||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),this._createPopup(ee,c),k.appendChild(ee)}return this.container.append(k),this.container}}class le extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ge extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Z extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ue extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class se extends E{constructor(c){super(c,{isRenderable:!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ve extends E{constructor(c){super(c,{isRenderable:!0});const{filename:y,content:w}=this.data.file;this.filename=(0,xe.getFilenameFromUrl)(y),this.content=w,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:y,content:w})}render(){this.container.className="fileAttachmentAnnotation";const c=document.createElement("div");return c.style.height=this.container.style.height,c.style.width=this.container.style.width,c.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(c,this.data),this.container.appendChild(c),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class De{static render(c){const y=[],w=[];for(const O of c.annotations){if(!O)continue;const{width:L,height:ee}=N(O.rect);if(!(L<=0||ee<=0)){if(O.annotationType===A.AnnotationType.POPUP){w.push(O);continue}y.push(O)}}w.length&&y.push(...w);const k=c.div;for(const O of y){const L=T.create({data:O,layer:k,page:c.page,viewport:c.viewport,linkService:c.linkService,downloadManager:c.downloadManager,imageResourcesPath:c.imageResourcesPath||"",renderForms:!1!==c.renderForms,svgFactory:new xe.DOMSVGFactory,annotationStorage:c.annotationStorage||new Ce.AnnotationStorage,enableScripting:c.enableScripting,hasJSActions:c.hasJSActions,fieldObjects:c.fieldObjects,mouseState:c.mouseState||{isDown:!1}});if(L.isRenderable){const ee=L.render();if(O.hidden&&(ee.style.visibility="hidden"),Array.isArray(ee))for(const re of ee)k.appendChild(re);else L instanceof d?k.prepend(ee):k.appendChild(ee)}}Ze(this,B,Hp).call(this,k,c.annotationCanvasMap)}static update(c){const{page:y,viewport:w,annotations:k,annotationCanvasMap:O,div:L}=c,ee=w.transform,re=`matrix(${ee.join(",")})`;let ne,oe;for(const he of k){const ye=L.querySelectorAll(`[data-annotation-id="${he.id}"]`);if(ye)for(const Re of ye)if(he.hasOwnCanvas){const qe=A.Util.normalizeRect([he.rect[0],y.view[3]-he.rect[1]+y.view[1],he.rect[2],y.view[3]-he.rect[3]+y.view[1]]);if(!oe){ne=Math.abs(ee[0]||ee[1]);const be=ee.slice();for(let R=0;R<4;R++)be[R]=Math.sign(be[R]);oe=`matrix(${be.join(",")})`}const me=qe[0]*ne,we=qe[1]*ne;Re.style.left=`${me}px`,Re.style.top=`${we}px`,Re.style.transformOrigin=`${-me}px ${-we}px`,Re.style.transform=oe}else Re.style.transform=re}Ze(this,B,Hp).call(this,L,O),L.hidden=!1}}B=new WeakSet,Hp=function(c,y){if(y){for(const[w,k]of y){const O=c.querySelector(`[data-annotation-id="${w}"]`);if(!O)continue;const{firstChild:L}=O;"CANVAS"===L.nodeName?O.replaceChild(k,L):O.insertBefore(k,L)}y.clear()}},nt(De,B),j.AnnotationLayer=De},(Oe,j)=>{function Ae(xe){return Math.floor(255*Math.max(0,Math.min(1,xe))).toString(16).padStart(2,"0")}Object.defineProperty(j,"__esModule",{value:!0}),j.ColorConverters=void 0,j.ColorConverters=class A{static CMYK_G([Ce,pe,ce,X]){return["G",1-Math.min(1,.3*Ce+.59*ce+.11*pe+X)]}static G_CMYK([Ce]){return["CMYK",0,0,0,1-Ce]}static G_RGB([Ce]){return["RGB",Ce,Ce,Ce]}static G_HTML([Ce]){const pe=Ae(Ce);return`#${pe}${pe}${pe}`}static RGB_G([Ce,pe,ce]){return["G",.3*Ce+.59*pe+.11*ce]}static RGB_HTML([Ce,pe,ce]){return`#${Ae(Ce)}${Ae(pe)}${Ae(ce)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Ce,pe,ce,X]){return["RGB",1-Math.min(1,Ce+X),1-Math.min(1,ce+X),1-Math.min(1,pe+X)]}static CMYK_HTML(Ce){return this.RGB_HTML(this.CMYK_RGB(Ce))}static RGB_CMYK([Ce,pe,ce]){const X=1-Ce,C=1-pe,N=1-ce;return["CMYK",X,C,N,Math.min(X,C,N)]}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.XfaLayer=void 0;var A=Ae(18);j.XfaLayer=class xe{static setupStorage(pe,ce,X,C,N){const T=C.getValue(ce,{value:null});switch(X.name){case"textarea":if(null!==T.value&&(pe.textContent=T.value),"print"===N)break;pe.addEventListener("input",E=>{C.setValue(ce,{value:E.target.value})});break;case"input":if("radio"===X.attributes.type||"checkbox"===X.attributes.type){if(T.value===X.attributes.xfaOn?pe.setAttribute("checked",!0):T.value===X.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===N)break;pe.addEventListener("change",E=>{C.setValue(ce,{value:E.target.getAttribute(E.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==T.value&&pe.setAttribute("value",T.value),"print"===N)break;pe.addEventListener("input",E=>{C.setValue(ce,{value:E.target.value})})}break;case"select":if(null!==T.value)for(const E of X.children)E.attributes.value===T.value&&(E.attributes.selected=!0);pe.addEventListener("input",E=>{const g=E.target.options;C.setValue(ce,{value:-1===g.selectedIndex?"":g[g.selectedIndex].value})})}}static setAttributes({html:pe,element:ce,storage:X=null,intent:C,linkService:N}){const{attributes:T}=ce,E=pe instanceof HTMLAnchorElement;"radio"===T.type&&(T.name=`${T.name}-${C}`);for(const[g,x]of Object.entries(T))if(null!=x&&"dataId"!==g)if("style"!==g)if("textContent"===g)pe.textContent=x;else if("class"===g)x.length&&pe.setAttribute(g,x.join(" "));else{if(E&&("href"===g||"newWindow"===g))continue;pe.setAttribute(g,x)}else Object.assign(pe.style,x);E&&N.addLinkAttributes(pe,T.href,T.newWindow),X&&T.dataId&&this.setupStorage(pe,T.dataId,ce,X)}static render(pe){const ce=pe.annotationStorage,X=pe.linkService,C=pe.xfaHtml,N=pe.intent||"display",T=document.createElement(C.name);C.attributes&&this.setAttributes({html:T,element:C,intent:N,linkService:X});const E=[[C,-1,T]],g=pe.div;if(g.appendChild(T),pe.viewport){const h=`matrix(${pe.viewport.transform.join(",")})`;g.style.transform=h}"richText"!==N&&g.setAttribute("class","xfaLayer xfaFont");const x=[];for(;E.length>0;){const[h,p,b]=E[E.length-1];if(p+1===h.children.length){E.pop();continue}const V=h.children[++E[E.length-1][1]];if(null===V)continue;const{name:M}=V;if("#text"===M){const d=document.createTextNode(V.value);x.push(d),b.appendChild(d);continue}let S;if(S=V?.attributes?.xmlns?document.createElementNS(V.attributes.xmlns,M):document.createElement(M),b.appendChild(S),V.attributes&&this.setAttributes({html:S,element:V,storage:ce,intent:N,linkService:X}),V.children&&V.children.length>0)E.push([V,-1,S]);else if(V.value){const d=document.createTextNode(V.value);A.XfaText.shouldBuildText(M)&&x.push(d),S.appendChild(d)}}for(const h of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:x}}static update(pe){const ce=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=ce,pe.div.hidden=!1}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.renderTextLayer=function b(V){const M=new p({textContent:V.textContent,textContentStream:V.textContentStream,container:V.container,viewport:V.viewport,textDivs:V.textDivs,textContentItemsStr:V.textContentItemsStr,enhanceTextSelection:V.enhanceTextSelection});return M._render(V.timeout),M};var A=Ae(1);const ce=new Map,X=/^\s+$/g;function N(V,M,S,d){const f=document.createElement("span"),I=V._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==M.str,hasEOL:M.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==M.str,hasEOL:M.hasEOL};V._textDivs.push(f);const P=A.Util.transform(V._viewport.transform,M.transform);let F=Math.atan2(P[1],P[0]);const H=S[M.fontName];H.vertical&&(F+=Math.PI/2);const $=Math.hypot(P[2],P[3]),W=$*function C(V,M){const S=ce.get(V);if(S)return S;M.save(),M.font=`30px ${V}`;const d=M.measureText("");let f=d.fontBoundingBoxAscent,I=Math.abs(d.fontBoundingBoxDescent);if(f){M.restore();const F=f/(f+I);return ce.set(V,F),F}M.strokeStyle="red",M.clearRect(0,0,30,30),M.strokeText("g",0,0);let P=M.getImageData(0,0,30,30).data;I=0;for(let F=P.length-1-3;F>=0;F-=4)if(P[F]>0){I=Math.ceil(F/4/30);break}M.clearRect(0,0,30,30),M.strokeText("A",0,30),P=M.getImageData(0,0,30,30).data,f=0;for(let F=0,H=P.length;F<H;F+=4)if(P[F]>0){f=30-Math.floor(F/4/30);break}if(M.restore(),f){const F=f/(f+I);return ce.set(V,F),F}return ce.set(V,.8),.8}(H.fontFamily,d);let J,ie;0===F?(J=P[4],ie=P[5]-W):(J=P[4]+W*Math.sin(F),ie=P[5]-W*Math.cos(F)),f.style.left=`${J}px`,f.style.top=`${ie}px`,f.style.fontSize=`${$}px`,f.style.fontFamily=H.fontFamily,f.setAttribute("role","presentation"),f.textContent=M.str,f.dir=M.dir,V._fontInspectorEnabled&&(f.dataset.fontName=M.fontName),0!==F&&(I.angle=F*(180/Math.PI));let le=!1;if(M.str.length>1||V._enhanceTextSelection&&X.test(M.str))le=!0;else if(" "!==M.str&&M.transform[0]!==M.transform[3]){const ge=Math.abs(M.transform[0]),Z=Math.abs(M.transform[3]);ge!==Z&&Math.max(ge,Z)/Math.min(ge,Z)>1.5&&(le=!0)}if(le&&(I.canvasWidth=H.vertical?M.height*V._viewport.scale:M.width*V._viewport.scale),V._textDivProperties.set(f,I),V._textContentStream&&V._layoutText(f),V._enhanceTextSelection&&I.hasText){let ge=1,Z=0;0!==F&&(ge=Math.cos(F),Z=Math.sin(F));const ue=(H.vertical?M.height:M.width)*V._viewport.scale,se=$;let ve,De;0!==F?(ve=[ge,Z,-Z,ge,J,ie],De=A.Util.getAxialAlignedBoundingBox([0,0,ue,se],ve)):De=[J,ie,J+ue,ie+se],V._bounds.push({left:De[0],top:De[1],right:De[2],bottom:De[3],div:f,size:[ue,se],m:ve})}}function T(V){if(V._canceled)return;const M=V._textDivs,S=V._capability,d=M.length;if(d>1e5)return V._renderingDone=!0,void S.resolve();if(!V._textContentStream)for(let f=0;f<d;f++)V._layoutText(M[f]);V._renderingDone=!0,S.resolve()}function E(V,M,S){let d=0;for(let f=0;f<S;f++){const I=V[M++];I>0&&(d=d?Math.min(I,d):I)}return d}function h(V,M){M.sort(function(f,I){return f.x1-I.x1||f.index-I.index});const d=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const f of M){let I=0;for(;I<d.length&&d[I].end<=f.y1;)I++;let P=d.length-1;for(;P>=0&&d[P].start>=f.y2;)P--;let F,H,$,W,J=-1/0;for($=I;$<=P;$++){let ge;F=d[$],H=F.boundary,ge=H.x2>f.x1?H.index>f.index?H.x1New:f.x1:void 0===H.x2New?(H.x2+f.x1)/2:H.x2New,ge>J&&(J=ge)}for(f.x1New=J,$=I;$<=P;$++)F=d[$],H=F.boundary,void 0===H.x2New?H.x2>f.x1?H.index>f.index&&(H.x2New=H.x2):H.x2New=J:H.x2New>J&&(H.x2New=Math.max(J,H.x2));const ie=[];let le=null;for($=I;$<=P;$++){F=d[$],H=F.boundary;const ge=H.x2>f.x2?H:f;le===ge?ie[ie.length-1].end=F.end:(ie.push({start:F.start,end:F.end,boundary:ge}),le=ge)}for(d[I].start<f.y1&&(ie[0].start=f.y1,ie.unshift({start:d[I].start,end:f.y1,boundary:d[I].boundary})),f.y2<d[P].end&&(ie[ie.length-1].end=f.y2,ie.push({start:f.y2,end:d[P].end,boundary:d[P].boundary})),$=I;$<=P;$++){if(F=d[$],H=F.boundary,void 0!==H.x2New)continue;let ge=!1;for(W=I-1;!ge&&W>=0&&d[W].start>=H.y1;W--)ge=d[W].boundary===H;for(W=P+1;!ge&&W<d.length&&d[W].end<=H.y2;W++)ge=d[W].boundary===H;for(W=0;!ge&&W<ie.length;W++)ge=ie[W].boundary===H;ge||(H.x2New=J)}Array.prototype.splice.apply(d,[I,P-I+1].concat(ie))}for(const f of d){const I=f.boundary;void 0===I.x2New&&(I.x2New=Math.max(V,I.x2))}}class p{constructor({textContent:M,textContentStream:S,container:d,viewport:f,textDivs:I,textContentItemsStr:P,enhanceTextSelection:F}){this._textContent=M,this._textContentStream=S,this._container=d,this._document=d.ownerDocument,this._viewport=f,this._textDivs=I||[],this._textContentItemsStr=P||[],this._enhanceTextSelection=!!F,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,A.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new A.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(M,S){for(let d=0,f=M.length;d<f;d++)if(void 0!==M[d].str)this._textContentItemsStr.push(M[d].str),N(this,M[d],S,this._layoutTextCtx);else if("beginMarkedContentProps"===M[d].type||"beginMarkedContent"===M[d].type){const I=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==M[d].id&&this._container.setAttribute("id",`${M[d].id}`),I.appendChild(this._container)}else"endMarkedContent"===M[d].type&&(this._container=this._container.parentNode)}_layoutText(M){const S=this._textDivProperties.get(M);let d="";if(0!==S.canvasWidth&&S.hasText){const{fontSize:f,fontFamily:I}=M.style;(f!==this._layoutTextLastFontSize||I!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f} ${I}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=I);const{width:P}=this._layoutTextCtx.measureText(M.textContent);if(P>0){const F=S.canvasWidth/P;this._enhanceTextSelection&&(S.scale=F),d=`scaleX(${F})`}}if(0!==S.angle&&(d=`rotate(${S.angle}deg) ${d}`),d.length>0&&(this._enhanceTextSelection&&(S.originalTransform=d),M.style.transform=d),S.hasText&&this._container.appendChild(M),S.hasEOL){const f=document.createElement("br");f.setAttribute("role","presentation"),this._container.appendChild(f)}}_render(M=0){const S=(0,A.createPromiseCapability)();let d=Object.create(null);const f=this._document.createElement("canvas");if(f.height=f.width=30,this._layoutTextCtx=f.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),S.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const I=()=>{this._reader.read().then(({value:P,done:F})=>{F?S.resolve():(Object.assign(d,P.styles),this._processItems(P.items,d),I())},S.reject)};this._reader=this._textContentStream.getReader(),I()}}S.promise.then(()=>{d=null,M?this._renderTimer=setTimeout(()=>{T(this),this._renderTimer=null},M):T(this)},this._capability.reject)}expandTextDivs(M=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function g(V){const M=V._bounds,S=V._viewport,d=function x(V,M,S){const d=S.map(function(I,P){return{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom,index:P,x1New:void 0,x2New:void 0}});h(V,d);const f=new Array(S.length);for(const I of d)f[I.index]={left:I.x1New,top:0,right:I.x2New,bottom:0};S.map(function(I,P){const F=f[P],H=d[P];H.x1=I.top,H.y1=V-F.right,H.x2=I.bottom,H.y2=V-F.left,H.index=P,H.x1New=void 0,H.x2New=void 0}),h(M,d);for(const I of d){const P=I.index;f[P].top=I.x1New,f[P].bottom=I.x2New}return f}(S.width,S.height,M);for(let f=0;f<d.length;f++){const I=M[f].div,P=V._textDivProperties.get(I);if(0===P.angle){P.paddingLeft=M[f].left-d[f].left,P.paddingTop=M[f].top-d[f].top,P.paddingRight=d[f].right-M[f].right,P.paddingBottom=d[f].bottom-M[f].bottom,V._textDivProperties.set(I,P);continue}const F=d[f],H=M[f],$=H.m,W=$[0],J=$[1],ie=[[0,0],[0,H.size[1]],[H.size[0],0],H.size],le=new Float64Array(64);for(let Z=0,ue=ie.length;Z<ue;Z++){const se=A.Util.applyTransform(ie[Z],$);le[Z+0]=W&&(F.left-se[0])/W,le[Z+4]=J&&(F.top-se[1])/J,le[Z+8]=W&&(F.right-se[0])/W,le[Z+12]=J&&(F.bottom-se[1])/J,le[Z+16]=J&&(F.left-se[0])/-J,le[Z+20]=W&&(F.top-se[1])/W,le[Z+24]=J&&(F.right-se[0])/-J,le[Z+28]=W&&(F.bottom-se[1])/W,le[Z+32]=W&&(F.left-se[0])/-W,le[Z+36]=J&&(F.top-se[1])/-J,le[Z+40]=W&&(F.right-se[0])/-W,le[Z+44]=J&&(F.bottom-se[1])/-J,le[Z+48]=J&&(F.left-se[0])/J,le[Z+52]=W&&(F.top-se[1])/-W,le[Z+56]=J&&(F.right-se[0])/J,le[Z+60]=W&&(F.bottom-se[1])/-W}const ge=1+Math.min(Math.abs(W),Math.abs(J));P.paddingLeft=E(le,32,16)/ge,P.paddingTop=E(le,48,16)/ge,P.paddingRight=E(le,0,16)/ge,P.paddingBottom=E(le,16,16)/ge,V._textDivProperties.set(I,P)}}(this),this._bounds=null);const S=[],d=[];for(let f=0,I=this._textDivs.length;f<I;f++){const P=this._textDivs[f],F=this._textDivProperties.get(P);!F.hasText||(M?(S.length=0,d.length=0,F.originalTransform&&S.push(F.originalTransform),F.paddingTop>0?(d.push(`${F.paddingTop}px`),S.push(`translateY(${-F.paddingTop}px)`)):d.push(0),d.push(F.paddingRight>0?F.paddingRight/F.scale+"px":0),d.push(F.paddingBottom>0?`${F.paddingBottom}px`:0),F.paddingLeft>0?(d.push(F.paddingLeft/F.scale+"px"),S.push(`translateX(${-F.paddingLeft/F.scale}px)`)):d.push(0),P.style.padding=d.join(" "),S.length&&(P.style.transform=S.join(" "))):(P.style.padding=null,P.style.transform=F.originalTransform))}}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.SVGGraphics=void 0;var A=Ae(1),xe=Ae(5),Ce=Ae(3);let pe=class{constructor(){(0,A.unreachable)("Not implemented: SVGGraphics")}};j.SVGGraphics=pe;{let h=function(d){let f=[];const I=[];for(const P of d)"save"!==P.fn?"restore"===P.fn?f=I.pop():f.push(P):(f.push({fnId:92,fn:"group",items:[]}),I.push(f),f=f[f.length-1].items);return f},p=function(d){if(Number.isInteger(d))return d.toString();const f=d.toFixed(10);let I=f.length-1;if("0"!==f[I])return f;do{I--}while("0"===f[I]);return f.substring(0,"."===f[I]?I:I+1)},b=function(d){if(0===d[4]&&0===d[5]){if(0===d[1]&&0===d[2])return 1===d[0]&&1===d[3]?"":`scale(${p(d[0])} ${p(d[3])})`;if(d[0]===d[3]&&d[1]===-d[2]){const f=180*Math.acos(d[0])/Math.PI;return`rotate(${p(f)})`}}else if(1===d[0]&&0===d[1]&&0===d[2]&&1===d[3])return`translate(${p(d[4])} ${p(d[5])})`;return`matrix(${p(d[0])} ${p(d[1])} ${p(d[2])} ${p(d[3])} ${p(d[4])} ${p(d[5])})`};const ce={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},X="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/1999/xlink",N=["butt","round","square"],T=["miter","round","bevel"],E=function(d,f="",I=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!I)return URL.createObjectURL(new Blob([d],{type:f}));const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let F=`data:${f};base64,`;for(let H=0,$=d.length;H<$;H+=3){const W=255&d[H],J=255&d[H+1],ie=255&d[H+2];F+=P[W>>2]+P[(3&W)<<4|J>>4]+P[H+1<$?(15&J)<<2|ie>>6:64]+P[H+2<$?63&ie:64]}return F},g=function(){const d=new Uint8Array([137,80,78,71,13,10,26,10]),I=new Int32Array(256);for(let ie=0;ie<256;ie++){let le=ie;for(let ge=0;ge<8;ge++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;I[ie]=le}function F(ie,le,ge,Z){let ue=Z;const se=le.length;ge[ue]=se>>24&255,ge[ue+1]=se>>16&255,ge[ue+2]=se>>8&255,ge[ue+3]=255&se,ue+=4,ge[ue]=255&ie.charCodeAt(0),ge[ue+1]=255&ie.charCodeAt(1),ge[ue+2]=255&ie.charCodeAt(2),ge[ue+3]=255&ie.charCodeAt(3),ue+=4,ge.set(le,ue),ue+=le.length;const ve=function P(ie,le,ge){let Z=-1;for(let ue=le;ue<ge;ue++)Z=Z>>>8^I[255&(Z^ie[ue])];return-1^Z}(ge,Z+4,ue);ge[ue]=ve>>24&255,ge[ue+1]=ve>>16&255,ge[ue+2]=ve>>8&255,ge[ue+3]=255&ve}function W(ie){let le=ie.length;const ge=65535,Z=Math.ceil(le/ge),ue=new Uint8Array(2+le+5*Z+4);let se=0;ue[se++]=120,ue[se++]=156;let ve=0;for(;le>ge;)ue[se++]=0,ue[se++]=255,ue[se++]=255,ue[se++]=0,ue[se++]=0,ue.set(ie.subarray(ve,ve+ge),se),se+=ge,ve+=ge,le-=ge;ue[se++]=1,ue[se++]=255&le,ue[se++]=le>>8&255,ue[se++]=255&~le,ue[se++]=(65535&~le)>>8&255,ue.set(ie.subarray(ve),se),se+=ie.length-ve;const De=function H(ie,le,ge){let Z=1,ue=0;for(let se=le;se<ge;++se)Z=(Z+(255&ie[se]))%65521,ue=(ue+Z)%65521;return ue<<16|Z}(ie,0,ie.length);return ue[se++]=De>>24&255,ue[se++]=De>>16&255,ue[se++]=De>>8&255,ue[se++]=255&De,ue}return function(le,ge,Z){return function J(ie,le,ge,Z){const ue=ie.width,se=ie.height;let ve,De,B;const m=ie.data;switch(le){case A.ImageKind.GRAYSCALE_1BPP:De=0,ve=1,B=ue+7>>3;break;case A.ImageKind.RGB_24BPP:De=2,ve=8,B=3*ue;break;case A.ImageKind.RGBA_32BPP:De=6,ve=8,B=4*ue;break;default:throw new Error("invalid format")}const _=new Uint8Array((1+B)*se);let c=0,y=0;for(let re=0;re<se;++re)_[c++]=0,_.set(m.subarray(y,y+B),c),y+=B,c+=B;if(le===A.ImageKind.GRAYSCALE_1BPP&&Z){c=0;for(let re=0;re<se;re++){c++;for(let ne=0;ne<B;ne++)_[c++]^=255}}const w=new Uint8Array([ue>>24&255,ue>>16&255,ue>>8&255,255&ue,se>>24&255,se>>16&255,se>>8&255,255&se,ve,De,0,0,0]),k=function $(ie){if(!Ce.isNodeJS)return W(ie);try{let le;le=parseInt(process.versions.node)>=8?ie:Buffer.from(ie);const ge=__webpack_require__(258).deflateSync(le,{level:9});return ge instanceof Uint8Array?ge:new Uint8Array(ge)}catch(le){(0,A.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return W(ie)}(_),L=new Uint8Array(d.length+36+w.length+k.length);let ee=0;return L.set(d,ee),ee+=d.length,F("IHDR",w,L,ee),ee+=12+w.length,F("IDATA",k,L,ee),ee+=12+k.length,F("IEND",new Uint8Array(0),L,ee),E(L,"image/png",ge)}(le,void 0===le.kind?A.ImageKind.GRAYSCALE_1BPP:le.kind,ge,Z)}}();class x{constructor(){this.fontSizeScale=1,this.fontWeight=ce.fontWeight,this.fontSize=0,this.textMatrix=A.IDENTITY_MATRIX,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=A.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ce.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,I){this.x=f,this.y=I}}let V=0,M=0,S=0;j.SVGGraphics=pe=class{constructor(d,f,I=!1){this.svgFactory=new xe.DOMSVGFactory,this.current=new x,this.transformMatrix=A.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=d,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(const P in A.OPS)this._operatorIdMapping[A.OPS[P]]=P}save(){this.transformStack.push(this.transformMatrix);const d=this.current;this.extraStack.push(d),this.current=d.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(d){this.save(),this.executeOpTree(d),this.restore()}loadDependencies(d){const f=d.fnArray,I=d.argsArray;for(let P=0,F=f.length;P<F;P++)if(f[P]===A.OPS.dependency)for(const H of I[P]){const $=H.startsWith("g_")?this.commonObjs:this.objs,W=new Promise(J=>{$.get(H,J)});this.current.dependencies.push(W)}return Promise.all(this.current.dependencies)}transform(d,f,I,P,F,H){this.transformMatrix=A.Util.transform(this.transformMatrix,[d,f,I,P,F,H]),this.tgrp=null}getSVG(d,f){this.viewport=f;const I=this._initialize(f);return this.loadDependencies(d).then(()=>(this.transformMatrix=A.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(d)),I))}convertOpList(d){const f=this._operatorIdMapping,I=d.argsArray,P=d.fnArray,F=[];for(let H=0,$=P.length;H<$;H++){const W=P[H];F.push({fnId:W,fn:f[W],args:I[H]})}return h(F)}executeOpTree(d){for(const f of d){const I=f.fn,F=f.args;switch(0|f.fnId){case A.OPS.beginText:this.beginText();break;case A.OPS.dependency:break;case A.OPS.setLeading:this.setLeading(F);break;case A.OPS.setLeadingMoveText:this.setLeadingMoveText(F[0],F[1]);break;case A.OPS.setFont:this.setFont(F);break;case A.OPS.showText:case A.OPS.showSpacedText:this.showText(F[0]);break;case A.OPS.endText:this.endText();break;case A.OPS.moveText:this.moveText(F[0],F[1]);break;case A.OPS.setCharSpacing:this.setCharSpacing(F[0]);break;case A.OPS.setWordSpacing:this.setWordSpacing(F[0]);break;case A.OPS.setHScale:this.setHScale(F[0]);break;case A.OPS.setTextMatrix:this.setTextMatrix(F[0],F[1],F[2],F[3],F[4],F[5]);break;case A.OPS.setTextRise:this.setTextRise(F[0]);break;case A.OPS.setTextRenderingMode:this.setTextRenderingMode(F[0]);break;case A.OPS.setLineWidth:this.setLineWidth(F[0]);break;case A.OPS.setLineJoin:this.setLineJoin(F[0]);break;case A.OPS.setLineCap:this.setLineCap(F[0]);break;case A.OPS.setMiterLimit:this.setMiterLimit(F[0]);break;case A.OPS.setFillRGBColor:this.setFillRGBColor(F[0],F[1],F[2]);break;case A.OPS.setStrokeRGBColor:this.setStrokeRGBColor(F[0],F[1],F[2]);break;case A.OPS.setStrokeColorN:this.setStrokeColorN(F);break;case A.OPS.setFillColorN:this.setFillColorN(F);break;case A.OPS.shadingFill:this.shadingFill(F[0]);break;case A.OPS.setDash:this.setDash(F[0],F[1]);break;case A.OPS.setRenderingIntent:this.setRenderingIntent(F[0]);break;case A.OPS.setFlatness:this.setFlatness(F[0]);break;case A.OPS.setGState:this.setGState(F[0]);break;case A.OPS.fill:this.fill();break;case A.OPS.eoFill:this.eoFill();break;case A.OPS.stroke:this.stroke();break;case A.OPS.fillStroke:this.fillStroke();break;case A.OPS.eoFillStroke:this.eoFillStroke();break;case A.OPS.clip:this.clip("nonzero");break;case A.OPS.eoClip:this.clip("evenodd");break;case A.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.OPS.paintImageXObject:this.paintImageXObject(F[0]);break;case A.OPS.paintInlineImageXObject:this.paintInlineImageXObject(F[0]);break;case A.OPS.paintImageMaskXObject:this.paintImageMaskXObject(F[0]);break;case A.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(F[0],F[1]);break;case A.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case A.OPS.closePath:this.closePath();break;case A.OPS.closeStroke:this.closeStroke();break;case A.OPS.closeFillStroke:this.closeFillStroke();break;case A.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case A.OPS.nextLine:this.nextLine();break;case A.OPS.transform:this.transform(F[0],F[1],F[2],F[3],F[4],F[5]);break;case A.OPS.constructPath:this.constructPath(F[0],F[1]);break;case A.OPS.endPath:this.endPath();break;case 92:this.group(f.items);break;default:(0,A.warn)(`Unimplemented operator ${I}`)}}}setWordSpacing(d){this.current.wordSpacing=d}setCharSpacing(d){this.current.charSpacing=d}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(d,f,I,P,F,H){const $=this.current;$.textMatrix=$.lineMatrix=[d,f,I,P,F,H],$.textMatrixScale=Math.hypot(d,f),$.x=$.lineX=0,$.y=$.lineY=0,$.xcoords=[],$.ycoords=[],$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${p($.fontSize)}px`),$.tspan.setAttributeNS(null,"y",p(-$.y)),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtElement.appendChild($.tspan)}beginText(){const d=this.current;d.x=d.lineX=0,d.y=d.lineY=0,d.textMatrix=A.IDENTITY_MATRIX,d.lineMatrix=A.IDENTITY_MATRIX,d.textMatrixScale=1,d.tspan=this.svgFactory.createElement("svg:tspan"),d.txtElement=this.svgFactory.createElement("svg:text"),d.txtgrp=this.svgFactory.createElement("svg:g"),d.xcoords=[],d.ycoords=[]}moveText(d,f){const I=this.current;I.x=I.lineX+=d,I.y=I.lineY+=f,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${p(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",p(-I.y))}showText(d){const f=this.current,I=f.font,P=f.fontSize;if(0===P)return;const F=f.fontSizeScale,H=f.charSpacing,$=f.wordSpacing,W=f.fontDirection,J=f.textHScale*W,ie=I.vertical,le=ie?1:-1,ge=I.defaultVMetrics,Z=P*f.fontMatrix[0];let ue=0;for(const De of d){if(null===De){ue+=W*$;continue}if("number"==typeof De){ue+=le*De*P/1e3;continue}const B=(De.isSpace?$:0)+H,m=De.fontChar;let _,c,w,y=De.width;if(ie){let k;const O=De.vmetric||ge;k=De.vmetric?O[1]:.5*y,k=-k*Z,y=O?-O[0]:y,_=k/F,c=(ue+O[2]*Z)/F}else _=ue/F,c=0;(De.isInFont||I.missingFile)&&(f.xcoords.push(f.x+_),ie&&f.ycoords.push(-f.y+c),f.tspan.textContent+=m),w=ie?y*Z-B*W:y*Z+B*W,ue+=w}f.tspan.setAttributeNS(null,"x",f.xcoords.map(p).join(" ")),f.tspan.setAttributeNS(null,"y",ie?f.ycoords.map(p).join(" "):p(-f.y)),ie?f.y-=ue:f.x+=ue*J,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${p(f.fontSize)}px`),f.fontStyle!==ce.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==ce.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);const se=f.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;se===A.TextRenderingMode.FILL||se===A.TextRenderingMode.FILL_STROKE?(f.fillColor!==ce.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.tspan.setAttributeNS(null,"fill",f.textRenderingMode===A.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(se===A.TextRenderingMode.STROKE||se===A.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(f.tspan,1/(f.textMatrixScale||1));let ve=f.textMatrix;0!==f.textRise&&(ve=ve.slice(),ve[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform",`${b(ve)} scale(${p(J)}, -1)`),f.txtElement.setAttributeNS(X,"xml:space","preserve"),f.txtElement.appendChild(f.tspan),f.txtgrp.appendChild(f.txtElement),this._ensureTransformGroup().appendChild(f.txtElement)}setLeadingMoveText(d,f){this.setLeading(-f),this.moveText(d,f)}addFontStyle(d){if(!d.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const f=E(d.data,d.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${d.loadedName}"; src: url(${f}); }\n`}setFont(d){const f=this.current,I=this.commonObjs.get(d[0]);let P=d[1];f.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),f.fontMatrix=I.fontMatrix||A.FONT_IDENTITY_MATRIX;let F="normal";I.black?F="900":I.bold&&(F="bold");const H=I.italic?"italic":"normal";P<0?(P=-P,f.fontDirection=-1):f.fontDirection=1,f.fontSize=P,f.fontFamily=I.loadedName,f.fontWeight=F,f.fontStyle=H,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",p(-f.y)),f.xcoords=[],f.ycoords=[]}endText(){const d=this.current;d.textRenderingMode&A.TextRenderingMode.ADD_TO_PATH_FLAG&&d.txtElement?.hasChildNodes()&&(d.element=d.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(d){d>0&&(this.current.lineWidth=d)}setLineCap(d){this.current.lineCap=N[d]}setLineJoin(d){this.current.lineJoin=T[d]}setMiterLimit(d){this.current.miterLimit=d}setStrokeAlpha(d){this.current.strokeAlpha=d}setStrokeRGBColor(d,f,I){this.current.strokeColor=A.Util.makeHexColor(d,f,I)}setFillAlpha(d){this.current.fillAlpha=d}setFillRGBColor(d,f,I){this.current.fillColor=A.Util.makeHexColor(d,f,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(d){this.current.strokeColor=this._makeColorN_Pattern(d)}setFillColorN(d){this.current.fillColor=this._makeColorN_Pattern(d)}shadingFill(d){const f=this.viewport.width,I=this.viewport.height,P=A.Util.inverseTransform(this.transformMatrix),F=A.Util.applyTransform([0,0],P),H=A.Util.applyTransform([0,I],P),$=A.Util.applyTransform([f,0],P),W=A.Util.applyTransform([f,I],P),J=Math.min(F[0],H[0],$[0],W[0]),ie=Math.min(F[1],H[1],$[1],W[1]),le=Math.max(F[0],H[0],$[0],W[0]),ge=Math.max(F[1],H[1],$[1],W[1]),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",J),Z.setAttributeNS(null,"y",ie),Z.setAttributeNS(null,"width",le-J),Z.setAttributeNS(null,"height",ge-ie),Z.setAttributeNS(null,"fill",this._makeShadingPattern(d)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Z)}_makeColorN_Pattern(d){return"TilingPattern"===d[0]?this._makeTilingPattern(d):this._makeShadingPattern(d)}_makeTilingPattern(d){const f=d[1],I=d[2],P=d[3]||A.IDENTITY_MATRIX,[F,H,$,W]=d[4],J=d[5],ie=d[6],le=d[7],ge="shading"+S++,[Z,ue,se,ve]=A.Util.normalizeRect([...A.Util.applyTransform([F,H],P),...A.Util.applyTransform([$,W],P)]),[De,B]=A.Util.singularValueDecompose2dScale(P),m=J*De,_=ie*B,c=this.svgFactory.createElement("svg:pattern");c.setAttributeNS(null,"id",ge),c.setAttributeNS(null,"patternUnits","userSpaceOnUse"),c.setAttributeNS(null,"width",m),c.setAttributeNS(null,"height",_),c.setAttributeNS(null,"x",`${Z}`),c.setAttributeNS(null,"y",`${ue}`);const y=this.svg,w=this.transformMatrix,k=this.current.fillColor,O=this.current.strokeColor,L=this.svgFactory.create(se-Z,ve-ue);if(this.svg=L,this.transformMatrix=P,2===le){const ee=A.Util.makeHexColor(...f);this.current.fillColor=ee,this.current.strokeColor=ee}return this.executeOpTree(this.convertOpList(I)),this.svg=y,this.transformMatrix=w,this.current.fillColor=k,this.current.strokeColor=O,c.appendChild(L.childNodes[0]),this.defs.appendChild(c),`url(#${ge})`}_makeShadingPattern(d){switch("string"==typeof d&&(d=this.objs.get(d)),d[0]){case"RadialAxial":const f="shading"+S++,I=d[3];let P;switch(d[1]){case"axial":const F=d[4],H=d[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",f),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",F[0]),P.setAttributeNS(null,"y1",F[1]),P.setAttributeNS(null,"x2",H[0]),P.setAttributeNS(null,"y2",H[1]);break;case"radial":const $=d[4],W=d[5],J=d[6],ie=d[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",f),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",W[0]),P.setAttributeNS(null,"cy",W[1]),P.setAttributeNS(null,"r",ie),P.setAttributeNS(null,"fx",$[0]),P.setAttributeNS(null,"fy",$[1]),P.setAttributeNS(null,"fr",J);break;default:throw new Error(`Unknown RadialAxial type: ${d[1]}`)}for(const F of I){const H=this.svgFactory.createElement("svg:stop");H.setAttributeNS(null,"offset",F[0]),H.setAttributeNS(null,"stop-color",F[1]),P.appendChild(H)}return this.defs.appendChild(P),`url(#${f})`;case"Mesh":return(0,A.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${d[0]}`)}}setDash(d,f){this.current.dashArray=d,this.current.dashPhase=f}constructPath(d,f){const I=this.current;let P=I.x,F=I.y,H=[],$=0;for(const W of d)switch(0|W){case A.OPS.rectangle:P=f[$++],F=f[$++];const le=P+f[$++],ge=F+f[$++];H.push("M",p(P),p(F),"L",p(le),p(F),"L",p(le),p(ge),"L",p(P),p(ge),"Z");break;case A.OPS.moveTo:P=f[$++],F=f[$++],H.push("M",p(P),p(F));break;case A.OPS.lineTo:P=f[$++],F=f[$++],H.push("L",p(P),p(F));break;case A.OPS.curveTo:P=f[$+4],F=f[$+5],H.push("C",p(f[$]),p(f[$+1]),p(f[$+2]),p(f[$+3]),p(P),p(F)),$+=6;break;case A.OPS.curveTo2:H.push("C",p(P),p(F),p(f[$]),p(f[$+1]),p(f[$+2]),p(f[$+3])),P=f[$+2],F=f[$+3],$+=4;break;case A.OPS.curveTo3:P=f[$+2],F=f[$+3],H.push("C",p(f[$]),p(f[$+1]),p(P),p(F),p(P),p(F)),$+=4;break;case A.OPS.closePath:H.push("Z")}H=H.join(" "),I.path&&d.length>0&&d[0]!==A.OPS.rectangle&&d[0]!==A.OPS.moveTo?H=I.path.getAttributeNS(null,"d")+H:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(I.path)),I.path.setAttributeNS(null,"d",H),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(P,F)}endPath(){const d=this.current;if(d.path=null,!this.pendingClip)return;if(!d.element)return void(this.pendingClip=null);const f="clippath"+V++,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",f),I.setAttributeNS(null,"transform",b(this.transformMatrix));const P=d.element.cloneNode(!0);if(P.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,I.appendChild(P),this.defs.appendChild(I),d.activeClipUrl){d.clipGroup=null;for(const F of this.extraStack)F.clipGroup=null;I.setAttributeNS(null,"clip-path",d.activeClipUrl)}d.activeClipUrl=`url(#${f})`,this.tgrp=null}clip(d){this.pendingClip=d}closePath(){const d=this.current;if(d.path){const f=`${d.path.getAttributeNS(null,"d")}Z`;d.path.setAttributeNS(null,"d",f)}}setLeading(d){this.current.leading=-d}setTextRise(d){this.current.textRise=d}setTextRenderingMode(d){this.current.textRenderingMode=d}setHScale(d){this.current.textHScale=d/100}setRenderingIntent(d){}setFlatness(d){}setGState(d){for(const[f,I]of d)switch(f){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,A.warn)(`Unimplemented graphic state operator ${f}`)}}fill(){const d=this.current;d.element&&(d.element.setAttributeNS(null,"fill",d.fillColor),d.element.setAttributeNS(null,"fill-opacity",d.fillAlpha),this.endPath())}stroke(){const d=this.current;d.element&&(this._setStrokeAttributes(d.element),d.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(d,f=1){const I=this.current;let P=I.dashArray;1!==f&&P.length>0&&(P=P.map(function(F){return f*F})),d.setAttributeNS(null,"stroke",I.strokeColor),d.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),d.setAttributeNS(null,"stroke-miterlimit",p(I.miterLimit)),d.setAttributeNS(null,"stroke-linecap",I.lineCap),d.setAttributeNS(null,"stroke-linejoin",I.lineJoin),d.setAttributeNS(null,"stroke-width",p(f*I.lineWidth)+"px"),d.setAttributeNS(null,"stroke-dasharray",P.map(p).join(" ")),d.setAttributeNS(null,"stroke-dashoffset",p(f*I.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"width","1px"),d.setAttributeNS(null,"height","1px"),d.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(d)}paintImageXObject(d){const f=d.startsWith("g_")?this.commonObjs.get(d):this.objs.get(d);f?this.paintInlineImageXObject(f):(0,A.warn)(`Dependent image with object ID ${d} is not ready yet`)}paintInlineImageXObject(d,f){const I=d.width,P=d.height,F=g(d,this.forceDataSchema,!!f),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",p(I)),H.setAttributeNS(null,"height",p(P)),this.current.element=H,this.clip("nonzero");const $=this.svgFactory.createElement("svg:image");$.setAttributeNS(C,"xlink:href",F),$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y",p(-P)),$.setAttributeNS(null,"width",p(I)+"px"),$.setAttributeNS(null,"height",p(P)+"px"),$.setAttributeNS(null,"transform",`scale(${p(1/I)} ${p(-1/P)})`),f?f.appendChild($):this._ensureTransformGroup().appendChild($)}paintImageMaskXObject(d){const f=this.current,I=d.width,P=d.height,F=f.fillColor;f.maskId="mask"+M++;const H=this.svgFactory.createElement("svg:mask");H.setAttributeNS(null,"id",f.maskId);const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",p(I)),$.setAttributeNS(null,"height",p(P)),$.setAttributeNS(null,"fill",F),$.setAttributeNS(null,"mask",`url(#${f.maskId})`),this.defs.appendChild(H),this._ensureTransformGroup().appendChild($),this.paintInlineImageXObject(d,H)}paintFormXObjectBegin(d,f){if(Array.isArray(d)&&6===d.length&&this.transform(d[0],d[1],d[2],d[3],d[4],d[5]),f){const I=f[2]-f[0],P=f[3]-f[1],F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",f[0]),F.setAttributeNS(null,"y",f[1]),F.setAttributeNS(null,"width",p(I)),F.setAttributeNS(null,"height",p(P)),this.current.element=F,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(d){const f=this.svgFactory.create(d.width,d.height),I=this.svgFactory.createElement("svg:defs");f.appendChild(I),this.defs=I;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",b(d.transform)),f.appendChild(P),this.svg=P,f}_ensureClipGroup(){if(!this.current.clipGroup){const d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(d),this.current.clipGroup=d}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",b(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFNodeStream=void 0;var A=Ae(1),xe=Ae(26);const Ce=__webpack_require__(172),pe=__webpack_require__(1),ce=__webpack_require__(779),X=__webpack_require__(558),C=/^file:\/\/\/[a-zA-Z]:\//;j.PDFNodeStream=class T{constructor(S){this.source=S,this.url=function N(M){const S=X.parse(M);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(M)?X.parse(`file:///${M}`):(S.host||(S.protocol="file:"),S)}(S.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new h(this),this._fullRequestReader}getRangeReader(S,d){if(d<=this._progressiveDataLength)return null;const f=this.isFsUrl?new V(this,S,d):new p(this,S,d);return this._rangeRequestReaders.push(f),f}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const d of this._rangeRequestReaders.slice(0))d.cancel(S)}};class E{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const d=S.source;this._contentLength=d.length,this._loaded=0,this._filename=null,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._readableStream=null,this._readCapability=(0,A.createPromiseCapability)(),this._headersCapability=(0,A.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const d=S._readableStream.read();return null===d?(S._readCapability=(0,A.createPromiseCapability)(),S.read()):(S._loaded+=d.length,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(d).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",d=>{this._error(d)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new A.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,A.createPromiseCapability)(),this._isStreamingSupported=!S.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const d=S._readableStream.read();return null===d?(S._readCapability=(0,A.createPromiseCapability)(),S.read()):(S._loaded+=d.length,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(d).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",d=>{this._error(d)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function x(M,S){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:S}}class h extends E{constructor(S){super(S);const d=f=>{if(404===f.statusCode){const H=new A.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=H,void this._headersCapability.reject(H)}this._headersCapability.resolve(),this._setReadableStream(f);const I=H=>this._readableStream.headers[H.toLowerCase()],{allowRangeRequests:P,suggestedLength:F}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=F||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(I)};this._request=null,this._request="http:"===this._url.protocol?pe.request(x(this._url,S.httpHeaders),d):ce.request(x(this._url,S.httpHeaders),d),this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class p extends g{constructor(S,d,f){super(S),this._httpHeaders={};for(const P in S.httpHeaders){const F=S.httpHeaders[P];typeof F>"u"||(this._httpHeaders[P]=F)}this._httpHeaders.Range=`bytes=${d}-${f-1}`;const I=P=>{if(404!==P.statusCode)this._setReadableStream(P);else{const F=new A.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F}};this._request=null,this._request="http:"===this._url.protocol?pe.request(x(this._url,this._httpHeaders),I):ce.request(x(this._url,this._httpHeaders),I),this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class b extends E{constructor(S){super(S);let d=decodeURIComponent(this._url.path);C.test(this._url.href)&&(d=d.replace(/^\//,"")),Ce.lstat(d,(f,I)=>{if(f)return"ENOENT"===f.code&&(f=new A.MissingPDFException(`Missing PDF "${d}".`)),this._storedError=f,void this._headersCapability.reject(f);this._contentLength=I.size,this._setReadableStream(Ce.createReadStream(d)),this._headersCapability.resolve()})}}class V extends g{constructor(S,d,f){super(S);let I=decodeURIComponent(this._url.path);C.test(this._url.href)&&(I=I.replace(/^\//,"")),this._setReadableStream(Ce.createReadStream(I,{start:d,end:f-1}))}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.createResponseStatusError=function X(N,T){return 404===N||0===N&&T.startsWith("file:")?new A.MissingPDFException('Missing PDF "'+T+'".'):new A.UnexpectedResponseException(`Unexpected server response (${N}) while retrieving PDF "${T}".`,N)},j.extractFilenameFromHeader=function ce(N){const T=N("Content-Disposition");if(T){let E=(0,xe.getFilenameFromContentDispositionHeader)(T);if(E.includes("%"))try{E=decodeURIComponent(E)}catch{}if((0,Ce.isPdfFile)(E))return E}return null},j.validateRangeRequestCapabilities=function pe({getResponseHeader:N,isHttp:T,rangeChunkSize:E,disableRange:g}){const x={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(N("Content-Length"),10);return!Number.isInteger(h)||(x.suggestedLength=h,h<=2*E)||g||!T||"bytes"!==N("Accept-Ranges")||"identity"!==(N("Content-Encoding")||"identity")||(x.allowRangeRequests=!0),x},j.validateResponseStatus=function C(N){return 200===N||206===N};var A=Ae(1),xe=Ae(27),Ce=Ae(5)},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.getFilenameFromContentDispositionHeader=function xe(Ce){let pe=!0,ce=X("filename\\*","i").exec(Ce);if(ce){ce=ce[1];let h=E(ce);return h=unescape(h),h=g(h),h=x(h),N(h)}if(ce=function T(h){const p=[];let b;const V=X("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(b=V.exec(h));){let[,S,d,f]=b;if(S=parseInt(S,10),S in p){if(0===S)break}else p[S]=[d,f]}const M=[];for(let S=0;S<p.length&&S in p;++S){let[d,f]=p[S];f=E(f),d&&(f=unescape(f),0===S&&(f=g(f))),M.push(f)}return M.join("")}(Ce),ce)return N(x(ce));if(ce=X("filename","i").exec(Ce),ce){ce=ce[1];let h=E(ce);return h=x(h),N(h)}function X(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function C(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const b=new TextDecoder(h,{fatal:!0}),V=(0,A.stringToBytes)(p);p=b.decode(V),pe=!1}catch{}}return p}function N(h){return pe&&/[\x80-\xff]/.test(h)&&(h=C("utf-8",h),pe&&(h=C("iso-8859-1",h))),h}function E(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let b=0;b<p.length;++b){const V=p[b].indexOf('"');-1!==V&&(p[b]=p[b].slice(0,V),p.length=b+1),p[b]=p[b].replace(/\\(.)/g,"$1")}h=p.join('"')}return h}function g(h){const p=h.indexOf("'");return-1===p?h:C(h.slice(0,p),h.slice(p+1).replace(/^[^']*'/,""))}function x(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,b,V,M){if("q"===V||"Q"===V)return C(b,M=(M=M.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,d){return String.fromCharCode(parseInt(d,16))}));try{M=atob(M)}catch{}return C(b,M)})}return""};var A=Ae(1)},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFNetworkStream=void 0;var A=Ae(1),xe=Ae(26);class X{constructor(g,x={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&x.httpHeaders||Object.create(null),this.withCredentials=x.withCredentials||!1,this.getXhr=x.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,x,h){const p={begin:g,end:x};for(const b in h)p[b]=h[b];return this.request(p)}requestFull(g){return this.request(g)}request(g){const x=this.getXhr(),h=this.currXhrId++,p=this.pendingRequests[h]={xhr:x};x.open("GET",this.url),x.withCredentials=this.withCredentials;for(const b in this.httpHeaders){const V=this.httpHeaders[b];typeof V>"u"||x.setRequestHeader(b,V)}return this.isHttp&&"begin"in g&&"end"in g?(x.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),p.expectedStatus=206):p.expectedStatus=200,x.responseType="arraybuffer",g.onError&&(x.onerror=function(b){g.onError(x.status)}),x.onreadystatechange=this.onStateChange.bind(this,h),x.onprogress=this.onProgress.bind(this,h),p.onHeadersReceived=g.onHeadersReceived,p.onDone=g.onDone,p.onError=g.onError,p.onProgress=g.onProgress,x.send(null),h}onProgress(g,x){const h=this.pendingRequests[g];!h||h.onProgress?.(x)}onStateChange(g,x){const h=this.pendingRequests[g];if(!h)return;const p=h.xhr;if(p.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),4!==p.readyState||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],0===p.status&&this.isHttp)return void h.onError?.(p.status);const b=p.status||200;if((200!==b||206!==h.expectedStatus)&&b!==h.expectedStatus)return void h.onError?.(p.status);const M=function ce(E){const g=E.response;return"string"!=typeof g?g:(0,A.stringToBytes)(g).buffer}(p);if(206===b){const S=p.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);h.onDone({begin:parseInt(d[1],10),chunk:M})}else M?h.onDone({begin:0,chunk:M}):h.onError?.(p.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const x=this.pendingRequests[g].xhr;delete this.pendingRequests[g],x.abort()}}j.PDFNetworkStream=class C{constructor(g){this._source=g,this._manager=new X(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const x=this._rangeRequestReaders.indexOf(g);x>=0&&this._rangeRequestReaders.splice(x,1)}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._manager,this._source),this._fullRequestReader}getRangeReader(g,x){const h=new T(this._manager,g,x);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(const x of this._rangeRequestReaders.slice(0))x.cancel(g)}};class N{constructor(g,x){this._manager=g;const h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._fullRequestId=g.requestFull(h),this._headersReceivedCapability=(0,A.createPromiseCapability)(),this._disableRange=x.disableRange||!1,this._contentLength=x.length,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,x=this._manager.getRequestXhr(g),h=V=>x.getResponseHeader(V),{allowRangeRequests:p,suggestedLength:b}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});p&&(this._isRangeSupported=!0),this._contentLength=b||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,xe.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(const x of this._requests)x.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){this.onProgress?.({loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var g=this;return _asyncToGenerator(function*(){if(g._storedError)throw g._storedError;if(g._cachedChunks.length>0)return{value:g._cachedChunks.shift(),done:!1};if(g._done)return{value:void 0,done:!0};const x=(0,A.createPromiseCapability)();return g._requests.push(x),x.promise})()}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class T{constructor(g,x,h){this._manager=g;const p={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(x,h,p),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(g){const x=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:x,done:!1}):this._queuedChunk=x,this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,xe.createResponseStatusError)(g,this._url);for(const x of this._requests)x.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){this.isStreamingSupported||this.onProgress?.({loaded:g.loaded})}get isStreamingSupported(){return!1}read(){var g=this;return _asyncToGenerator(function*(){if(g._storedError)throw g._storedError;if(null!==g._queuedChunk){const h=g._queuedChunk;return g._queuedChunk=null,{value:h,done:!1}}if(g._done)return{value:void 0,done:!0};const x=(0,A.createPromiseCapability)();return g._requests.push(x),x.promise})()}cancel(g){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Oe,j,Ae)=>{Object.defineProperty(j,"__esModule",{value:!0}),j.PDFFetchStream=void 0;var A=Ae(1),xe=Ae(26);function Ce(N,T,E){return{method:"GET",headers:N,signal:E?.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function pe(N){const T=new Headers;for(const E in N){const g=N[E];typeof g>"u"||T.append(E,g)}return T}j.PDFFetchStream=class ce{constructor(T){this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,A.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new X(this),this._fullRequestReader}getRangeReader(T,E){if(E<=this._progressiveDataLength)return null;const g=new C(this,T,E);return this._rangeRequestReaders.push(g),g}cancelAllRequests(T){this._fullRequestReader&&this._fullRequestReader.cancel(T);for(const E of this._rangeRequestReaders.slice(0))E.cancel(T)}};class X{constructor(T){this._stream=T,this._reader=null,this._loaded=0,this._filename=null;const E=T.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=(0,A.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=pe(this._stream.httpHeaders);const g=E.url;fetch(g,Ce(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,xe.validateResponseStatus)(x.status))throw(0,xe.createResponseStatusError)(x.status,g);this._reader=x.body.getReader(),this._headersCapability.resolve();const h=V=>x.headers.get(V),{allowRangeRequests:p,suggestedLength:b}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=b||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new A.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var T=this;return _asyncToGenerator(function*(){yield T._headersCapability.promise;const{value:E,done:g}=yield T._reader.read();return g?{value:E,done:g}:(T._loaded+=E.byteLength,T.onProgress&&T.onProgress({loaded:T._loaded,total:T._contentLength}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(T){this._reader&&this._reader.cancel(T),this._abortController&&this._abortController.abort()}}class C{constructor(T,E,g){this._stream=T,this._reader=null,this._loaded=0;const x=T.source;this._withCredentials=x.withCredentials||!1,this._readCapability=(0,A.createPromiseCapability)(),this._isStreamingSupported=!x.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${E}-${g-1}`);const h=x.url;fetch(h,Ce(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,xe.validateResponseStatus)(p.status))throw(0,xe.createResponseStatusError)(p.status,h);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var T=this;return _asyncToGenerator(function*(){yield T._readCapability.promise;const{value:E,done:g}=yield T._reader.read();return g?{value:E,done:g}:(T._loaded+=E.byteLength,T.onProgress&&T.onProgress({loaded:T._loaded}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(T){this._reader&&this._reader.cancel(T),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Oe){var j=__webpack_module_cache__[Oe];if(void 0!==j)return j.exports;var Ae=__webpack_module_cache__[Oe]={exports:{}};return __webpack_modules__[Oe](Ae,Ae.exports,__w_pdfjs_require__),Ae.exports}var __webpack_exports__={};return(()=>{var Oe=__webpack_exports__;Object.defineProperty(Oe,"__esModule",{value:!0}),Object.defineProperty(Oe,"AnnotationLayer",{enumerable:!0,get:function(){return xe.AnnotationLayer}}),Object.defineProperty(Oe,"AnnotationMode",{enumerable:!0,get:function(){return j.AnnotationMode}}),Object.defineProperty(Oe,"CMapCompressionType",{enumerable:!0,get:function(){return j.CMapCompressionType}}),Object.defineProperty(Oe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Ce.GlobalWorkerOptions}}),Object.defineProperty(Oe,"InvalidPDFException",{enumerable:!0,get:function(){return j.InvalidPDFException}}),Object.defineProperty(Oe,"LoopbackPort",{enumerable:!0,get:function(){return Ae.LoopbackPort}}),Object.defineProperty(Oe,"MissingPDFException",{enumerable:!0,get:function(){return j.MissingPDFException}}),Object.defineProperty(Oe,"OPS",{enumerable:!0,get:function(){return j.OPS}}),Object.defineProperty(Oe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Ae.PDFDataRangeTransport}}),Object.defineProperty(Oe,"PDFDateString",{enumerable:!0,get:function(){return A.PDFDateString}}),Object.defineProperty(Oe,"PDFWorker",{enumerable:!0,get:function(){return Ae.PDFWorker}}),Object.defineProperty(Oe,"PasswordResponses",{enumerable:!0,get:function(){return j.PasswordResponses}}),Object.defineProperty(Oe,"PermissionFlag",{enumerable:!0,get:function(){return j.PermissionFlag}}),Object.defineProperty(Oe,"PixelsPerInch",{enumerable:!0,get:function(){return A.PixelsPerInch}}),Object.defineProperty(Oe,"RenderingCancelledException",{enumerable:!0,get:function(){return A.RenderingCancelledException}}),Object.defineProperty(Oe,"SVGGraphics",{enumerable:!0,get:function(){return X.SVGGraphics}}),Object.defineProperty(Oe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return j.UNSUPPORTED_FEATURES}}),Object.defineProperty(Oe,"UnexpectedResponseException",{enumerable:!0,get:function(){return j.UnexpectedResponseException}}),Object.defineProperty(Oe,"Util",{enumerable:!0,get:function(){return j.Util}}),Object.defineProperty(Oe,"VerbosityLevel",{enumerable:!0,get:function(){return j.VerbosityLevel}}),Object.defineProperty(Oe,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty(Oe,"build",{enumerable:!0,get:function(){return Ae.build}}),Object.defineProperty(Oe,"createPromiseCapability",{enumerable:!0,get:function(){return j.createPromiseCapability}}),Object.defineProperty(Oe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return j.createValidAbsoluteUrl}}),Object.defineProperty(Oe,"getDocument",{enumerable:!0,get:function(){return Ae.getDocument}}),Object.defineProperty(Oe,"getFilenameFromUrl",{enumerable:!0,get:function(){return A.getFilenameFromUrl}}),Object.defineProperty(Oe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return A.getPdfFilenameFromUrl}}),Object.defineProperty(Oe,"getXfaPageViewport",{enumerable:!0,get:function(){return A.getXfaPageViewport}}),Object.defineProperty(Oe,"isPdfFile",{enumerable:!0,get:function(){return A.isPdfFile}}),Object.defineProperty(Oe,"loadScript",{enumerable:!0,get:function(){return A.loadScript}}),Object.defineProperty(Oe,"renderTextLayer",{enumerable:!0,get:function(){return ce.renderTextLayer}}),Object.defineProperty(Oe,"shadow",{enumerable:!0,get:function(){return j.shadow}}),Object.defineProperty(Oe,"version",{enumerable:!0,get:function(){return Ae.version}});var j=__w_pdfjs_require__(1),Ae=__w_pdfjs_require__(4),A=__w_pdfjs_require__(5),xe=__w_pdfjs_require__(20),Ce=__w_pdfjs_require__(13),pe=__w_pdfjs_require__(3),ce=__w_pdfjs_require__(23),X=__w_pdfjs_require__(24),C=__w_pdfjs_require__(22);if(pe.isNodeJS){const{PDFNodeStream:E}=__w_pdfjs_require__(25);(0,Ae.setPDFNetworkStreamFactory)(g=>new E(g))}else{const{PDFNetworkStream:E}=__w_pdfjs_require__(28),{PDFFetchStream:g}=__w_pdfjs_require__(29);(0,Ae.setPDFNetworkStreamFactory)(x=>(0,A.isValidFetchUrl)(x.url)?new g(x):new E(x))}})(),__webpack_exports__})(),module.exports=Ae()},813:function(Oe,j,Ae){var pe,A=Ae(156).default;pe=()=>(()=>{"use strict";var xe=[,(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DefaultXfaLayerFactory=C.DefaultTextLayerFactory=C.DefaultStructTreeLayerFactory=C.DefaultAnnotationLayerFactory=void 0;var T=N(2),E=N(4),g=N(5),x=N(7),h=N(8),p=N(9);C.DefaultAnnotationLayerFactory=class b{createAnnotationLayerBuilder(f,I,P=null,F="",H=!0,$=E.NullL10n,W=!1,J=null,ie=null,le=null,ge=null){return new T.AnnotationLayerBuilder({pageDiv:f,pdfPage:I,imageResourcesPath:F,renderForms:H,linkService:new g.SimpleLinkService,l10n:$,annotationStorage:P,enableScripting:W,hasJSActionsPromise:J,fieldObjectsPromise:le,mouseState:ie,annotationCanvasMap:ge})}},C.DefaultStructTreeLayerFactory=class V{createStructTreeLayerBuilder(f){return new x.StructTreeLayerBuilder({pdfPage:f})}},C.DefaultTextLayerFactory=class M{createTextLayerBuilder(f,I,P,F=!1,H,$){return new h.TextLayerBuilder({textLayerDiv:f,pageIndex:I,viewport:P,enhanceTextSelection:F,eventBus:H,highlighter:$})}},C.DefaultXfaLayerFactory=class S{createXfaLayerBuilder(f,I,P=null,F=null){return new p.XfaLayerBuilder({pageDiv:f,pdfPage:I,annotationStorage:P,linkService:new g.SimpleLinkService,xfaHtml:F})}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AnnotationLayerBuilder=void 0;var T=N(3),E=N(4);C.AnnotationLayerBuilder=class g{constructor({pageDiv:h,pdfPage:p,linkService:b,downloadManager:V,annotationStorage:M=null,imageResourcesPath:S="",renderForms:d=!0,l10n:f=E.NullL10n,enableScripting:I=!1,hasJSActionsPromise:P=null,fieldObjectsPromise:F=null,mouseState:H=null,annotationCanvasMap:$=null}){this.pageDiv=h,this.pdfPage=p,this.linkService=b,this.downloadManager=V,this.imageResourcesPath=S,this.renderForms=d,this.l10n=f,this.annotationStorage=M,this.enableScripting=I,this._hasJSActionsPromise=P,this._fieldObjectsPromise=F,this._mouseState=H,this._annotationCanvasMap=$,this.div=null,this._cancelled=!1}render(h,p="display"){var b=this;return A(function*(){const[V,M=!1,S=null]=yield Promise.all([b.pdfPage.getAnnotations({intent:p}),b._hasJSActionsPromise,b._fieldObjectsPromise]);if(b._cancelled||0===V.length)return;const d={viewport:h.clone({dontFlip:!0}),div:b.div,annotations:V,page:b.pdfPage,imageResourcesPath:b.imageResourcesPath,renderForms:b.renderForms,linkService:b.linkService,downloadManager:b.downloadManager,annotationStorage:b.annotationStorage,enableScripting:b.enableScripting,hasJSActions:M,fieldObjects:S,mouseState:b._mouseState,annotationCanvasMap:b._annotationCanvasMap};b.div?T.AnnotationLayer.update(d):(b.div=document.createElement("div"),b.div.className="annotationLayer",b.pageDiv.appendChild(b.div),d.div=b.div,T.AnnotationLayer.render(d),b.l10n.translate(b.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},X=>{let C;C=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:Ae(36),X.exports=C},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.NullL10n=void 0,C.fixupLangCode=function g(p){return E[p?.toLowerCase()]||p},C.getL10nFallback=T;const N={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function T(p,b){switch(p){case"find_match_count":p=`find_match_count[${1===b.total?"one":"other"}]`;break;case"find_match_count_limit":p=`find_match_count_limit[${1===b.limit?"one":"other"}]`}return N[p]||""}const E={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};C.NullL10n={getLanguage:()=>A(function*(){return"en-us"})(),getDirection:()=>A(function*(){return"ltr"})(),get:(p,b=null,V=T(p,b))=>A(function*(){return function x(p,b){return b?p.replace(/\{\{\s*(\w+)\s*\}\}/g,(V,M)=>M in b?b[M]:"{{"+M+"}}"):p}(V,b)})(),translate:p=>A(function*(){})()}},(X,C,N)=>{var b,V,$p,S,mA;Object.defineProperty(C,"__esModule",{value:!0}),C.SimpleLinkService=C.PDFLinkService=C.LinkTarget=void 0;var T=N(6);const g={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function x(I,{url:P,target:F,rel:H,enabled:$=!0}={}){if(!P||"string"!=typeof P)throw new Error('A valid "url" parameter must provided.');const W=(0,T.removeNullCharacters)(P);$?I.href=I.title=W:(I.href="",I.title=`Disabled: ${W}`,I.onclick=()=>!1);let J="";switch(F){case g.NONE:break;case g.SELF:J="_self";break;case g.BLANK:J="_blank";break;case g.PARENT:J="_parent";break;case g.TOP:J="_top"}I.target=J,I.rel="string"==typeof H?H:"noopener noreferrer nofollow"}C.LinkTarget=g;const f=class{constructor({eventBus:P,externalLinkTarget:F=null,externalLinkRel:H=null,ignoreDestinationZoom:$=!1}={}){nt(this,V),nt(this,b,new Map),this.eventBus=P,this.externalLinkTarget=F,this.externalLinkRel=H,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=$,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(P,F=null){this.baseUrl=F,this.pdfDocument=P,Je(this,b).clear()}setViewer(P){this.pdfViewer=P}setHistory(P){this.pdfHistory=P}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(P){this.pdfViewer.currentPageNumber=P}get rotation(){return this.pdfViewer.pagesRotation}set rotation(P){this.pdfViewer.pagesRotation=P}goToDestination(P){var F=this;return A(function*(){var W;if(!F.pdfDocument)return;let H,$;"string"==typeof P?(H=P,$=yield F.pdfDocument.getDestination(P)):(H=null,$=yield P),Array.isArray($)?Ze(W=F,V,$p).call(W,P,H,$):console.error(`PDFLinkService.goToDestination: "${$}" is not a valid destination array, for dest="${P}".`)})()}goToPage(P){if(!this.pdfDocument)return;const F="string"==typeof P&&this.pdfViewer.pageLabelToPageNumber(P)||0|P;Number.isInteger(F)&&F>0&&F<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(F)),this.pdfViewer.scrollPageIntoView({pageNumber:F})):console.error(`PDFLinkService.goToPage: "${P}" is not a valid page.`)}addLinkAttributes(P,F,H=!1){x(P,{url:F,target:H?g.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(P){if("string"==typeof P){if(P.length>0)return this.getAnchorUrl("#"+escape(P))}else if(Array.isArray(P)){const F=JSON.stringify(P);if(F.length>0)return this.getAnchorUrl("#"+escape(F))}return this.getAnchorUrl("")}getAnchorUrl(P){return(this.baseUrl||"")+P}setHash(P){var $;if(!this.pdfDocument)return;let F,H;if(P.includes("=")){const W=(0,T.parseQueryString)(P);if(W.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:W.get("search").replace(/"/g,""),phraseSearch:"true"===W.get("phrase")}),W.has("page")&&(F=0|W.get("page")||1),W.has("zoom")){const J=W.get("zoom").split(","),ie=J[0],le=parseFloat(ie);ie.includes("Fit")?"Fit"===ie||"FitB"===ie?H=[null,{name:ie}]:"FitH"===ie||"FitBH"===ie||"FitV"===ie||"FitBV"===ie?H=[null,{name:ie},J.length>1?0|J[1]:null]:"FitR"===ie?5!==J.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):H=[null,{name:ie},0|J[1],0|J[2],0|J[3],0|J[4]]:console.error(`PDFLinkService.setHash: "${ie}" is not a valid zoom value.`):H=[null,{name:"XYZ"},J.length>1?0|J[1]:null,J.length>2?0|J[2]:null,le?le/100:ie]}H?this.pdfViewer.scrollPageIntoView({pageNumber:F||this.page,destArray:H,allowNegativeOffset:!0}):F&&(this.page=F),W.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:W.get("pagemode")}),W.has("nameddest")&&this.goToDestination(W.get("nameddest"))}else{H=unescape(P);try{H=JSON.parse(H),Array.isArray(H)||(H=H.toString())}catch{}if("string"==typeof H||Ze($=f,S,mA).call($,H))return void this.goToDestination(H);console.error(`PDFLinkService.setHash: "${unescape(P)}" is not a valid destination.`)}}executeNamedAction(P){switch(P){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:P})}cachePageRef(P,F){if(!F)return;const H=0===F.gen?`${F.num}R`:`${F.num}R${F.gen}`;Je(this,b).set(H,P)}_cachedPageNumber(P){if(!P)return null;const F=0===P.gen?`${P.num}R`:`${P.num}R${P.gen}`;return Je(this,b).get(F)||null}isPageVisible(P){return this.pdfViewer.isPageVisible(P)}isPageCached(P){return this.pdfViewer.isPageCached(P)}};let h=f;b=new WeakMap,V=new WeakSet,$p=function(P,F=null,H){const $=H[0];let W;if("object"==typeof $&&null!==$){if(W=this._cachedPageNumber($),!W)return void this.pdfDocument.getPageIndex($).then(J=>{this.cachePageRef(J+1,$),Ze(this,V,$p).call(this,P,F,H)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid page reference, for dest="${P}".`)})}else{if(!Number.isInteger($))return void console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid destination reference, for dest="${P}".`);W=$+1}!W||W<1||W>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page number, for dest="${P}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:F,explicitDest:H,pageNumber:W})),this.pdfViewer.scrollPageIntoView({pageNumber:W,destArray:H,ignoreDestinationZoom:this._ignoreDestinationZoom}))},S=new WeakSet,mA=function(P){if(!Array.isArray(P))return!1;const F=P.length;if(F<2)return!1;const H=P[0];if(!("object"==typeof H&&Number.isInteger(H.num)&&Number.isInteger(H.gen)||Number.isInteger(H)&&H>=0))return!1;const $=P[1];if("object"!=typeof $||"string"!=typeof $.name)return!1;let W=!0;switch($.name){case"XYZ":if(5!==F)return!1;break;case"Fit":case"FitB":return 2===F;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==F)return!1;break;case"FitR":if(6!==F)return!1;W=!1;break;default:return!1}for(let J=2;J<F;J++){const ie=P[J];if(!("number"==typeof ie||W&&null===ie))return!1}return!0},nt(h,S),C.PDFLinkService=h,C.SimpleLinkService=class p{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(P){}get rotation(){return 0}set rotation(P){}goToDestination(P){return A(function*(){})()}goToPage(P){}addLinkAttributes(P,F,H=!1){x(P,{url:F,enabled:this.externalLinkEnabled})}getDestinationHash(P){return"#"}getAnchorUrl(P){return"#"}setHash(P){}executeNamedAction(P){}cachePageRef(P,F){}isPageVisible(P){return!0}isPageCached(P){return!0}}},(X,C)=>{var Re,_A;Object.defineProperty(C,"__esModule",{value:!0}),C.animationStarted=C.VERTICAL_PADDING=C.UNKNOWN_SCALE=C.TextLayerMode=C.SpreadMode=C.SidebarView=C.ScrollMode=C.SCROLLBAR_PADDING=C.RenderingStates=C.RendererType=C.ProgressBar=C.PresentationModeState=C.OutputScale=C.MIN_SCALE=C.MAX_SCALE=C.MAX_AUTO_SCALE=C.DEFAULT_SCALE_VALUE=C.DEFAULT_SCALE_DELTA=C.DEFAULT_SCALE=C.AutoPrintRegExp=void 0,C.apiPageLayoutToViewerModes=function he(me){let we=P.VERTICAL,be=F.NONE;switch(me){case"SinglePage":we=P.PAGE;break;case"OneColumn":break;case"TwoPageLeft":we=P.PAGE;case"TwoColumnLeft":be=F.ODD;break;case"TwoPageRight":we=P.PAGE;case"TwoColumnRight":be=F.EVEN}return{scrollMode:we,spreadMode:be}},C.apiPageModeToSidebarView=function ye(me){switch(me){case"UseNone":return d.NONE;case"UseThumbs":return d.THUMBS;case"UseOutlines":return d.OUTLINE;case"UseAttachments":return d.ATTACHMENTS;case"UseOC":return d.LAYERS}return d.NONE},C.approximateFraction=function se(me){if(Math.floor(me)===me)return[me,1];const we=1/me;if(we>8)return[1,8];if(Math.floor(we)===we)return[1,we];const R=me>1?we:me;let Ie,K=0,ae=1,Ue=1,Ve=1;for(;;){const Ge=K+Ue,He=ae+Ve;if(He>8)break;R<=Ge/He?(Ue=Ge,Ve=He):(K=Ge,ae=He)}return Ie=R-K/ae<Ue/Ve-R?R===me?[K,ae]:[ae,K]:R===me?[Ue,Ve]:[Ve,Ue],Ie},C.backtrackBeforeAllVisibleElements=B,C.binarySearchFirstItem=ue,C.getActiveOrFocusedElement=function oe(){let me=document,we=me.activeElement||me.querySelector(":focus");for(;we?.shadowRoot;)me=we.shadowRoot,we=me.activeElement||me.querySelector(":focus");return we},C.getPageSizeInches=function De({view:me,userUnit:we,rotate:be}){const[R,K,ae,Ue]=me,Ve=be%180!=0,Ie=(ae-R)/72*we,Ge=(Ue-K)/72*we;return{width:Ve?Ge:Ie,height:Ve?Ie:Ge}},C.getVisibleElements=function m({scrollEl:me,views:we,sortByVisibility:be=!1,horizontal:R=!1,rtl:K=!1}){const ae=me.scrollTop,Ue=ae+me.clientHeight,Ve=me.scrollLeft,Ie=Ve+me.clientWidth,ft=[],vt=new Set,Ot=we.length;let _e=ue(we,R?function He(Fe){const Le=Fe.div,je=Le.offsetLeft+Le.clientLeft;return K?je<Ie:je+Le.clientWidth>Ve}:function Ge(Fe){const Le=Fe.div;return Le.offsetTop+Le.clientTop+Le.clientHeight>ae});_e>0&&_e<Ot&&!R&&(_e=B(_e,we,ae));let q=R?Ie:-1;for(let Fe=_e;Fe<Ot;Fe++){const Le=we[Fe],je=Le.div,gt=je.offsetLeft+je.clientLeft,bt=je.offsetTop+je.clientTop,Ht=je.clientWidth,Dt=je.clientHeight,ln=gt+Ht,Yt=bt+Dt;if(-1===q)Yt>=Ue&&(q=Yt);else if((R?gt:bt)>q)break;if(Yt<=ae||bt>=Ue||ln<=Ve||gt>=Ie)continue;const Xn=Math.max(0,ae-bt)+Math.max(0,Yt-Ue),Nn=(Ht-(Math.max(0,Ve-gt)+Math.max(0,ln-Ie)))/Ht;ft.push({id:Le.id,x:gt,y:bt,view:Le,percent:(Dt-Xn)/Dt*Nn*100|0,widthPercent:100*Nn|0}),vt.add(Le.id)}const Y=ft[0],Me=ft[ft.length-1];return be&&ft.sort(function(Fe,Le){const je=Fe.percent-Le.percent;return Math.abs(je)>.001?-je:Fe.id-Le.id}),{first:Y,last:Me,views:ft,ids:vt}},C.isPortraitOrientation=function L(me){return me.width<=me.height},C.isValidRotation=function w(me){return Number.isInteger(me)&&me%90==0},C.isValidScrollMode=function k(me){return Number.isInteger(me)&&Object.values(P).includes(me)&&me!==P.UNKNOWN},C.isValidSpreadMode=function O(me){return Number.isInteger(me)&&Object.values(F).includes(me)&&me!==F.UNKNOWN},C.noContextMenuHandler=function _(me){me.preventDefault()},C.normalizeWheelEventDelta=function y(me){let we=c(me);return 0===me.deltaMode?we/=900:1===me.deltaMode&&(we/=30),we},C.normalizeWheelEventDirection=c,C.parseQueryString=function ie(me){const we=new Map;for(const[be,R]of new URLSearchParams(me))we.set(be.toLowerCase(),R);return we},C.removeNullCharacters=function Z(me,we=!1){return"string"!=typeof me?(console.error("The argument must be a string."),me):(we&&(me=me.replace(ge," ")),me.replace(le,""))},C.roundToDivide=function ve(me,we){const be=me%we;return 0===be?me:Math.round(me-be+we)},C.scrollIntoView=function W(me,we,be=!1){let R=me.offsetParent;if(!R)return void console.error("offsetParent is not set -- cannot scroll");let K=me.offsetTop+me.clientTop,ae=me.offsetLeft+me.clientLeft;for(;R.clientHeight===R.scrollHeight&&R.clientWidth===R.scrollWidth||be&&(R.classList.contains("markedContent")||"hidden"===getComputedStyle(R).overflow);)if(K+=R.offsetTop,ae+=R.offsetLeft,R=R.offsetParent,!R)return;we&&(void 0!==we.top&&(K+=we.top),void 0!==we.left&&(ae+=we.left,R.scrollLeft=ae)),R.scrollTop=K},C.watchScroll=function J(me,we){const be=function(ae){K||(K=window.requestAnimationFrame(function(){K=null;const Ve=me.scrollLeft,Ie=R.lastX;Ve!==Ie&&(R.right=Ve>Ie),R.lastX=Ve;const Ge=me.scrollTop,He=R.lastY;Ge!==He&&(R.down=Ge>He),R.lastY=Ge,we(R)}))},R={right:!0,down:!0,lastX:me.scrollLeft,lastY:me.scrollTop,_eventHandler:be};let K=null;return me.addEventListener("scroll",be,!0),R},C.DEFAULT_SCALE_VALUE="auto",C.DEFAULT_SCALE=1,C.DEFAULT_SCALE_DELTA=1.1,C.MIN_SCALE=.1,C.MAX_SCALE=10,C.UNKNOWN_SCALE=0,C.MAX_AUTO_SCALE=1.25,C.SCROLLBAR_PADDING=40,C.VERTICAL_PADDING=5,C.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},C.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const d={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};C.SidebarView=d,C.RendererType={CANVAS:"canvas",SVG:"svg"},C.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const P={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};C.ScrollMode=P;const F={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};C.SpreadMode=F,C.AutoPrintRegExp=/\bprint\s*\(/,C.OutputScale=class ${constructor(){const we=window.devicePixelRatio||1;this.sx=we,this.sy=we}get scaled(){return 1!==this.sx||1!==this.sy}};const le=/\x00/g,ge=/[\x01-\x1F]/g;function ue(me,we,be=0){let R=be,K=me.length-1;if(K<0||!we(me[K]))return me.length;if(we(me[R]))return R;for(;R<K;){const ae=R+K>>1;we(me[ae])?K=ae:R=ae+1}return R}function B(me,we,be){if(me<2)return me;let R=we[me].div,K=R.offsetTop+R.clientTop;K>=be&&(R=we[me-1].div,K=R.offsetTop+R.clientTop);for(let ae=me-2;ae>=0&&(R=we[ae].div,!(R.offsetTop+R.clientTop+R.clientHeight<=K));--ae)me=ae;return me}function c(me){let we=Math.hypot(me.deltaX,me.deltaY);const be=Math.atan2(me.deltaY,me.deltaX);return-.25*Math.PI<be&&be<.75*Math.PI&&(we=-we),we}const ee=new Promise(function(me){window.requestAnimationFrame(me)});C.animationStarted=ee,Re=new WeakSet,_A=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},C.ProgressBar=class ne{constructor(we){if(nt(this,Re),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(we+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(we){this._indeterminate=isNaN(we),this._percent=function re(me,we,be){return Math.min(Math.max(me,we),be)}(we,0,100),Ze(this,Re,_A).call(this)}setWidth(we){if(!we)return;const R=we.parentNode.offsetWidth-we.offsetWidth;R>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${R}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.StructTreeLayerBuilder=void 0;const N={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},T=/^H(\d+)$/;C.StructTreeLayerBuilder=class E{constructor({pdfPage:x}){this.pdfPage=x}render(x){return this._walk(x)}_setAttributes(x,h){void 0!==x.alt&&h.setAttribute("aria-label",x.alt),void 0!==x.id&&h.setAttribute("aria-owns",x.id),void 0!==x.lang&&h.setAttribute("lang",x.lang)}_walk(x){if(!x)return null;const h=document.createElement("span");if("role"in x){const{role:p}=x,b=p.match(T);b?(h.setAttribute("role","heading"),h.setAttribute("aria-level",b[1])):N[p]&&h.setAttribute("role",N[p])}if(this._setAttributes(x,h),x.children)if(1===x.children.length&&"id"in x.children[0])this._setAttributes(x.children[0],h);else for(const p of x.children)h.appendChild(this._walk(p));return h}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TextLayerBuilder=void 0;var T=N(3);C.TextLayerBuilder=class g{constructor({textLayerDiv:h,eventBus:p,pageIndex:b,viewport:V,highlighter:M=null,enhanceTextSelection:S=!1}){this.textLayerDiv=h,this.eventBus=p,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=b+1,this.viewport=V,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=M,this.enhanceTextSelection=S,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const h=document.createElement("div");h.className="endOfContent",this.textLayerDiv.appendChild(h)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(h=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const p=document.createDocumentFragment();this.textLayerRenderTask=(0,T.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:p,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:h,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(p),this._finishRendering(),this.highlighter?.enable()},function(b){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(h){this.cancel(),this.textContentStream=h}setTextContent(h){this.cancel(),this.textContent=h}_bindMouse(){const h=this.textLayerDiv;let p=null;h.addEventListener("mousedown",b=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(p&&(clearTimeout(p),p=null));const V=h.querySelector(".endOfContent");if(!V)return;let M=b.target!==h;if(M=M&&"none"!==window.getComputedStyle(V).getPropertyValue("-moz-user-select"),M){const S=h.getBoundingClientRect(),d=Math.max(0,(b.pageY-S.top)/S.height);V.style.top=(100*d).toFixed(2)+"%"}V.classList.add("active")}),h.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(p=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),p=null},300));const b=h.querySelector(".endOfContent");!b||(b.style.top="",b.classList.remove("active"))})}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.XfaLayerBuilder=void 0;var T=N(3);C.XfaLayerBuilder=class E{constructor({pageDiv:x,pdfPage:h,annotationStorage:p=null,linkService:b,xfaHtml:V=null}){this.pageDiv=x,this.pdfPage=h,this.annotationStorage=p,this.linkService=b,this.xfaHtml=V,this.div=null,this._cancelled=!1}render(x,h="display"){if("print"===h){const p={viewport:x.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h},b=document.createElement("div");this.pageDiv.appendChild(b),p.div=b;const V=T.XfaLayer.render(p);return Promise.resolve(V)}return this.pdfPage.getXfa().then(p=>{if(this._cancelled||!p)return{textDivs:[]};const b={viewport:x.clone({dontFlip:!0}),div:this.div,xfaHtml:p,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:h};return this.div?T.XfaLayer.update(b):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),b.div=this.div,T.XfaLayer.render(b))}).catch(p=>{console.error(p)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFViewer=C.PDFSinglePageViewer=void 0;var T=N(6),E=N(11);C.PDFViewer=class g extends E.BaseViewer{},C.PDFSinglePageViewer=class x extends E.BaseViewer{_resetView(){super._resetView(),this._scrollMode=T.ScrollMode.PAGE,this._spreadMode=T.SpreadMode.NONE}set scrollMode(p){}_updateScrollMode(){}set spreadMode(p){}_updateSpreadMode(){}}},(X,C,N)=>{var $,W,J,Gp,le,ge,Z,ue,se,ve,De,B,yA,_,vA,y,$a,k,uc,L,CA,re,Wp,oe,bA,ye,wA,qe,AA;Object.defineProperty(C,"__esModule",{value:!0}),C.PagesCountLimit=C.PDFPageViewBuffer=C.BaseViewer=void 0;var T=N(3),E=N(6),g=N(2),x=N(4),h=N(12),p=N(14),b=N(5),V=N(7),M=N(15),S=N(8),d=N(9);const I="enablePermissions",P={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};C.PagesCountLimit=P;class F{constructor(R){nt(this,J),nt(this,$,new Set),nt(this,W,0),Xt(this,W,R)}push(R){const K=Je(this,$);K.has(R)&&K.delete(R),K.add(R),K.size>Je(this,W)&&Ze(this,J,Gp).call(this)}resize(R,K=null){Xt(this,W,R);const ae=Je(this,$);if(K){const Ue=ae.size;let Ve=1;for(const Ie of ae)if(K.has(Ie.id)&&(ae.delete(Ie),ae.add(Ie)),++Ve>Ue)break}for(;ae.size>Je(this,W);)Ze(this,J,Gp).call(this)}has(R){return Je(this,$).has(R)}[Symbol.iterator](){return Je(this,$).keys()}}$=new WeakMap,W=new WeakMap,J=new WeakSet,Gp=function(){const R=Je(this,$).keys().next().value;R?.destroy(),Je(this,$).delete(R)},C.PDFPageViewBuffer=F;const we=class{constructor(R){if(nt(this,B),nt(this,_),nt(this,y),nt(this,k),nt(this,L),nt(this,re),nt(this,oe),nt(this,ye),nt(this,qe),nt(this,le,null),nt(this,ge,T.AnnotationMode.ENABLE_FORMS),nt(this,Z,null),nt(this,ue,!1),nt(this,se,0),nt(this,ve,null),nt(this,De,null),this.constructor===we)throw new Error("Cannot initialize BaseViewer.");const K="2.14.305";if(T.version!==K)throw new Error(`The API version "${T.version}" does not match the Viewer version "${K}".`);if(this.container=R.container,this.viewer=R.viewer||R.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=R.eventBus,this.linkService=R.linkService||new b.SimpleLinkService,this.downloadManager=R.downloadManager||null,this.findController=R.findController||null,this._scriptingManager=R.scriptingManager||null,this.removePageBorders=R.removePageBorders||!1,this.textLayerMode=R.textLayerMode??E.TextLayerMode.ENABLE,Xt(this,ge,R.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=R.imageResourcesPath||"",this.enablePrintAutoRotate=R.enablePrintAutoRotate||!1,this.renderer=R.renderer||E.RendererType.CANVAS,this.useOnlyCssZoom=R.useOnlyCssZoom||!1,this.maxCanvasPixels=R.maxCanvasPixels,this.l10n=R.l10n||x.NullL10n,Xt(this,ue,R.enablePermissions||!1),this.pageColors=R.pageColors||null,R.pageColors&&(!CSS.supports("color",R.pageColors.background)||!CSS.supports("color",R.pageColors.foreground))&&((R.pageColors.background||R.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!R.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new p.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=R.renderingQueue,this._doc=document.documentElement,this.scroll=(0,E.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=E.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(R){return this._pages[R]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(R){return R?.pdfPage})}get renderForms(){return Je(this,ge)===T.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(R){if(!Number.isInteger(R))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(R,!0)||console.error(`currentPageNumber: "${R}" is not a valid page.`)}_setCurrentPageNumber(R,K=!1){if(this._currentPageNumber===R)return K&&Ze(this,re,Wp).call(this),!0;if(!(0<R&&R<=this.pagesCount))return!1;const ae=this._currentPageNumber;return this._currentPageNumber=R,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:R,pageLabel:this._pageLabels?.[R-1]??null,previous:ae}),K&&Ze(this,re,Wp).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(R){if(!this.pdfDocument)return;let K=0|R;if(this._pageLabels){const ae=this._pageLabels.indexOf(R);ae>=0&&(K=ae+1)}this._setCurrentPageNumber(K,!0)||console.error(`currentPageLabel: "${R}" is not a valid page.`)}get currentScale(){return this._currentScale!==E.UNKNOWN_SCALE?this._currentScale:E.DEFAULT_SCALE}set currentScale(R){if(isNaN(R))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(R,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(R){!this.pdfDocument||this._setScale(R,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(R){if(!(0,E.isValidRotation)(R))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((R%=360)<0&&(R+=360),this._pagesRotation===R))return;this._pagesRotation=R;const K=this._currentPageNumber,ae={rotation:R};for(const Ue of this._pages)Ue.update(ae);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:R,pageNumber:K}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(R){var K=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=R,!R)return;const ae=R.isPureXfa,Ue=R.numPages,Ve=R.getPage(1),Ie=R.getOptionalContentConfig(),Ge=Je(this,ue)?R.getPermissions():Promise.resolve();if(Ue>P.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const He=this._scrollMode=E.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:He})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ue})},()=>{}),this._onBeforeDraw=He=>{const ft=this._pages[He.pageNumber-1];!ft||Je(this,le).push(ft)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=He=>{He.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:He.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Je(this,De)&&(document.removeEventListener("visibilitychange",Je(this,De)),Xt(this,De,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ve,Ge]).then(([He,ft])=>{if(R!==this.pdfDocument)return;this._firstPageCapability.resolve(He),this._optionalContentConfigPromise=Ie,Ze(this,B,yA).call(this,ft);const vt=this._scrollMode===E.ScrollMode.PAGE?null:this.viewer,Ot=this.currentScale,_e=He.getViewport({scale:Ot*T.PixelsPerInch.PDF_TO_CSS_UNITS}),q=this.textLayerMode===E.TextLayerMode.DISABLE||ae?null:this,Y=Je(this,ge)!==T.AnnotationMode.DISABLE?this:null,Me=ae?this:null;for(let Le=1;Le<=Ue;++Le){const je=new h.PDFPageView({container:vt,eventBus:this.eventBus,id:Le,scale:Ot,defaultViewport:_e.clone(),optionalContentConfigPromise:Ie,renderingQueue:this.renderingQueue,textLayerFactory:q,textLayerMode:this.textLayerMode,annotationLayerFactory:Y,annotationMode:Je(this,ge),xfaLayerFactory:Me,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(je)}const Fe=this._pages[0];Fe&&(Fe.setPdfPage(He),this.linkService.cachePageRef(1,He.ref)),this._scrollMode===E.ScrollMode.PAGE?Ze(this,y,$a).call(this):this._spreadMode!==E.SpreadMode.NONE&&this._updateSpreadMode(),Ze(this,_,vA).call(this).then(A(function*(){if(K.findController&&K.findController.setDocument(R),K._scriptingManager&&K._scriptingManager.setDocument(R),R.loadingParams.disableAutoFetch||Ue>P.FORCE_LAZY_PAGE_INIT)return void K._pagesCapability.resolve();let Le=Ue-1;if(Le<=0)K._pagesCapability.resolve();else for(let je=2;je<=Ue;++je){const gt=R.getPage(je).then(bt=>{const Ht=K._pages[je-1];Ht.pdfPage||Ht.setPdfPage(bt),K.linkService.cachePageRef(je,bt.ref),0==--Le&&K._pagesCapability.resolve()},bt=>{console.error(`Unable to get page ${je} to initialize viewer`,bt),0==--Le&&K._pagesCapability.resolve()});je%P.PAUSE_EAGER_PAGE_INIT==0&&(yield gt)}})),this.eventBus.dispatch("pagesinit",{source:this}),R.getMetadata().then(({info:Le})=>{R===this.pdfDocument&&Le.Language&&(this.viewer.lang=Le.Language)}),this.defaultRenderingQueue&&this.update()}).catch(He=>{console.error("Unable to initialize viewer",He),this._pagesCapability.reject(He)})}setPageLabels(R){if(this.pdfDocument){R?Array.isArray(R)&&this.pdfDocument.numPages===R.length?this._pageLabels=R:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let K=0,ae=this._pages.length;K<ae;K++)this._pages[K].setPageLabel(this._pageLabels?.[K]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=E.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Xt(this,le,new F(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,T.createPromiseCapability)(),this._onePageRenderedCapability=(0,T.createPromiseCapability)(),this._pagesCapability=(0,T.createPromiseCapability)(),this._scrollMode=E.ScrollMode.VERTICAL,this._previousScrollMode=E.ScrollMode.UNKNOWN,this._spreadMode=E.SpreadMode.NONE,Xt(this,ve,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Je(this,De)&&(document.removeEventListener("visibilitychange",Je(this,De)),Xt(this,De,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(I),null!==Je(this,Z)&&(Xt(this,ge,Je(this,Z)),Xt(this,Z,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(R,K,ae=!1,Ue=!1){if(this._currentScaleValue=K.toString(),Ze(this,L,CA).call(this,R))return void(Ue&&this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:K}));this._doc.style.setProperty("--zoom-factor",R);const Ve={scale:R};for(const Ie of this._pages)Ie.update(Ve);if(this._currentScale=R,!ae){let Ge,Ie=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ie=this._location.pageNumber,Ge=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ie,destArray:Ge,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:Ue?K:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==E.SpreadMode.NONE&&this._scrollMode!==E.ScrollMode.HORIZONTAL?2:1}_setScale(R,K=!1){let ae=parseFloat(R);if(ae>0)this._setScaleUpdatePages(ae,R,K,!1);else{const Ue=this._pages[this._currentPageNumber-1];if(!Ue)return;let Ve=E.SCROLLBAR_PADDING,Ie=E.VERTICAL_PADDING;this.isInPresentationMode?Ve=Ie=4:this.removePageBorders?Ve=Ie=0:this._scrollMode===E.ScrollMode.HORIZONTAL&&([Ve,Ie]=[Ie,Ve]);const Ge=(this.container.clientWidth-Ve)/Ue.width*Ue.scale/this._pageWidthScaleFactor,He=(this.container.clientHeight-Ie)/Ue.height*Ue.scale;switch(R){case"page-actual":ae=1;break;case"page-width":ae=Ge;break;case"page-height":ae=He;break;case"page-fit":ae=Math.min(Ge,He);break;case"auto":const ft=(0,E.isPortraitOrientation)(Ue)?Ge:Math.min(He,Ge);ae=Math.min(E.MAX_AUTO_SCALE,ft);break;default:return void console.error(`_setScale: "${R}" is an unknown zoom value.`)}this._setScaleUpdatePages(ae,R,K,!0)}}pageLabelToPageNumber(R){if(!this._pageLabels)return null;const K=this._pageLabels.indexOf(R);return K<0?null:K+1}scrollPageIntoView({pageNumber:R,destArray:K=null,allowNegativeOffset:ae=!1,ignoreDestinationZoom:Ue=!1}){if(!this.pdfDocument)return;const Ve=Number.isInteger(R)&&this._pages[R-1];if(!Ve)return void console.error(`scrollPageIntoView: "${R}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!K)return void this._setCurrentPageNumber(R,!0);let vt,Ot,Ie=0,Ge=0,He=0,ft=0;const _e=Ve.rotation%180!=0,q=(_e?Ve.height:Ve.width)/Ve.scale/T.PixelsPerInch.PDF_TO_CSS_UNITS,Y=(_e?Ve.width:Ve.height)/Ve.scale/T.PixelsPerInch.PDF_TO_CSS_UNITS;let Me=0;switch(K[1].name){case"XYZ":Ie=K[2],Ge=K[3],Me=K[4],Ie=null!==Ie?Ie:0,Ge=null!==Ge?Ge:Y;break;case"Fit":case"FitB":Me="page-fit";break;case"FitH":case"FitBH":Ge=K[2],Me="page-width",null===Ge&&this._location?(Ie=this._location.left,Ge=this._location.top):("number"!=typeof Ge||Ge<0)&&(Ge=Y);break;case"FitV":case"FitBV":Ie=K[2],He=q,ft=Y,Me="page-height";break;case"FitR":Ie=K[2],Ge=K[3],He=K[4]-Ie,ft=K[5]-Ge,vt=(this.container.clientWidth-(this.removePageBorders?0:E.SCROLLBAR_PADDING))/He/T.PixelsPerInch.PDF_TO_CSS_UNITS,Ot=(this.container.clientHeight-(this.removePageBorders?0:E.VERTICAL_PADDING))/ft/T.PixelsPerInch.PDF_TO_CSS_UNITS,Me=Math.min(Math.abs(vt),Math.abs(Ot));break;default:return void console.error(`scrollPageIntoView: "${K[1].name}" is not a valid destination type.`)}if(Ue||(Me&&Me!==this._currentScale?this.currentScaleValue=Me:this._currentScale===E.UNKNOWN_SCALE&&(this.currentScaleValue=E.DEFAULT_SCALE_VALUE)),"page-fit"===Me&&!K[4])return void Ze(this,k,uc).call(this,Ve);const Fe=[Ve.viewport.convertToViewportPoint(Ie,Ge),Ve.viewport.convertToViewportPoint(Ie+He,Ge+ft)];let Le=Math.min(Fe[0][0],Fe[1][0]),je=Math.min(Fe[0][1],Fe[1][1]);ae||(Le=Math.max(Le,0),je=Math.max(je,0)),Ze(this,k,uc).call(this,Ve,{left:Le,top:je})}_updateLocation(R){const K=this._currentScale,ae=this._currentScaleValue,Ue=parseFloat(ae)===K?Math.round(1e4*K)/100:ae,Ve=R.id,Ge=this.container,He=this._pages[Ve-1].getPagePoint(Ge.scrollLeft-R.x,Ge.scrollTop-R.y),ft=Math.round(He[0]),vt=Math.round(He[1]);let Ot=`#page=${Ve}`;this.isInPresentationMode||(Ot+=`&zoom=${Ue},${ft},${vt}`),this._location={pageNumber:Ve,scale:Ue,top:vt,left:ft,rotation:this._pagesRotation,pdfOpenParams:Ot}}update(){const R=this._getVisiblePages(),K=R.views,ae=K.length;if(0===ae)return;const Ue=Math.max(10,2*ae+1);Je(this,le).resize(Ue,R.ids),this.renderingQueue.renderHighestPriority(R);const Ve=this._spreadMode===E.SpreadMode.NONE&&(this._scrollMode===E.ScrollMode.PAGE||this._scrollMode===E.ScrollMode.VERTICAL),Ie=this._currentPageNumber;let Ge=!1;for(const He of K){if(He.percent<100)break;if(He.id===Ie&&Ve){Ge=!0;break}}this._setCurrentPageNumber(Ge?Ie:K[0].id),this._updateLocation(R.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(R){return this.container.contains(R)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===E.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===E.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const R=this._scrollMode===E.ScrollMode.PAGE?Je(this,ve).pages:this._pages,K=this._scrollMode===E.ScrollMode.HORIZONTAL;return(0,E.getVisibleElements)({scrollEl:this.container,views:R,sortByVisibility:!0,horizontal:K,rtl:K&&this._isContainerRtl})}isPageVisible(R){return!!this.pdfDocument&&(Number.isInteger(R)&&R>0&&R<=this.pagesCount?this._getVisiblePages().ids.has(R):(console.error(`isPageVisible: "${R}" is not a valid page.`),!1))}isPageCached(R){if(!this.pdfDocument)return!1;if(!(Number.isInteger(R)&&R>0&&R<=this.pagesCount))return console.error(`isPageCached: "${R}" is not a valid page.`),!1;const K=this._pages[R-1];return Je(this,le).has(K)}cleanup(){for(const R of this._pages)R.renderingState!==E.RenderingStates.FINISHED&&R.reset()}_cancelRendering(){for(const R of this._pages)R.cancelRendering()}forceRendering(R){const K=R||this._getVisiblePages(),ae=Ze(this,ye,wA).call(this,K),Ve=this.renderingQueue.getHighestPriority(K,this._pages,ae,this._spreadMode!==E.SpreadMode.NONE&&this._scrollMode!==E.ScrollMode.HORIZONTAL);return Ze(this,qe,AA).call(this,K.ids),!!Ve&&(Ze(this,oe,bA).call(this,Ve).then(()=>{this.renderingQueue.renderView(Ve)}),!0)}createTextLayerBuilder(R,K,ae,Ue=!1,Ve,Ie){return new S.TextLayerBuilder({textLayerDiv:R,eventBus:Ve,pageIndex:K,viewport:ae,enhanceTextSelection:!this.isInPresentationMode&&Ue,highlighter:Ie})}createTextHighlighter(R,K){return new M.TextHighlighter({eventBus:K,pageIndex:R,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(R,K,ae=null,Ue="",Ve=!0,Ie=x.NullL10n,Ge=null,He=null,ft=null,vt=null,Ot=null){return new g.AnnotationLayerBuilder({pageDiv:R,pdfPage:K,annotationStorage:ae||this.pdfDocument?.annotationStorage,imageResourcesPath:Ue,renderForms:Ve,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Ie,enableScripting:Ge??this.enableScripting,hasJSActionsPromise:He||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:vt||this.pdfDocument?.getFieldObjects(),mouseState:ft||this._scriptingManager?.mouseState,annotationCanvasMap:Ot})}createXfaLayerBuilder(R,K,ae=null){return new d.XfaLayerBuilder({pageDiv:R,pdfPage:K,annotationStorage:ae||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(R){return new V.StructTreeLayerBuilder({pdfPage:R})}get hasEqualPageSizes(){const R=this._pages[0];for(let K=1,ae=this._pages.length;K<ae;++K){const Ue=this._pages[K];if(Ue.width!==R.width||Ue.height!==R.height)return!1}return!0}getPagesOverview(){return this._pages.map(R=>{const K=R.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,E.isPortraitOrientation)(K)?{width:K.width,height:K.height,rotation:K.rotation}:{width:K.height,height:K.width,rotation:(K.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(R){if(!(R instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${R}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=R;const K={optionalContentConfigPromise:R};for(const ae of this._pages)ae.update(K);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:R})}get scrollMode(){return this._scrollMode}set scrollMode(R){if(this._scrollMode!==R){if(!(0,E.isValidScrollMode)(R))throw new Error(`Invalid scroll mode: ${R}`);this.pagesCount>P.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=R,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(R=null){const K=this._scrollMode,ae=this.viewer;ae.classList.toggle("scrollHorizontal",K===E.ScrollMode.HORIZONTAL),ae.classList.toggle("scrollWrapped",K===E.ScrollMode.WRAPPED),this.pdfDocument&&R&&(K===E.ScrollMode.PAGE?Ze(this,y,$a).call(this):this._previousScrollMode===E.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(R){if(this._spreadMode!==R){if(!(0,E.isValidSpreadMode)(R))throw new Error(`Invalid spread mode: ${R}`);this._spreadMode=R,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:R}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(R=null){if(!this.pdfDocument)return;const K=this.viewer,ae=this._pages;if(this._scrollMode===E.ScrollMode.PAGE)Ze(this,y,$a).call(this);else if(K.textContent="",this._spreadMode===E.SpreadMode.NONE)for(const Ue of this._pages)K.appendChild(Ue.div);else{const Ue=this._spreadMode-1;let Ve=null;for(let Ie=0,Ge=ae.length;Ie<Ge;++Ie)null===Ve?(Ve=document.createElement("div"),Ve.className="spread",K.appendChild(Ve)):Ie%2===Ue&&(Ve=Ve.cloneNode(!1),K.appendChild(Ve)),Ve.appendChild(ae[Ie].div)}!R||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}_getPageAdvance(R,K=!1){switch(this._scrollMode){case E.ScrollMode.WRAPPED:{const{views:ae}=this._getVisiblePages(),Ue=new Map;for(const{id:Ve,y:Ie,percent:Ge,widthPercent:He}of ae){if(0===Ge||He<100)continue;let ft=Ue.get(Ie);ft||Ue.set(Ie,ft||(ft=[])),ft.push(Ve)}for(const Ve of Ue.values()){const Ie=Ve.indexOf(R);if(-1===Ie)continue;const Ge=Ve.length;if(1===Ge)break;if(K)for(let He=Ie-1,ft=0;He>=ft;He--){const Ot=Ve[He+1]-1;if(Ve[He]<Ot)return R-Ot}else for(let He=Ie+1,ft=Ge;He<ft;He++){const Ot=Ve[He-1]+1;if(Ve[He]>Ot)return Ot-R}if(K){const He=Ve[0];if(He<R)return R-He+1}else{const He=Ve[Ge-1];if(He>R)return He-R+1}break}break}case E.ScrollMode.HORIZONTAL:break;case E.ScrollMode.PAGE:case E.ScrollMode.VERTICAL:{if(this._spreadMode===E.SpreadMode.NONE)break;const ae=this._spreadMode-1;if(K&&R%2!==ae)break;if(!K&&R%2===ae)break;const{views:Ue}=this._getVisiblePages(),Ve=K?R-1:R+1;for(const{id:Ie,percent:Ge,widthPercent:He}of Ue)if(Ie===Ve){if(Ge>0&&100===He)return 2;break}break}}return 1}nextPage(){const R=this._currentPageNumber,K=this.pagesCount;if(R>=K)return!1;const ae=this._getPageAdvance(R,!1)||1;return this.currentPageNumber=Math.min(R+ae,K),!0}previousPage(){const R=this._currentPageNumber;if(R<=1)return!1;const K=this._getPageAdvance(R,!0)||1;return this.currentPageNumber=Math.max(R-K,1),!0}increaseScale(R=1){let K=this._currentScale;do{K=(K*E.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.ceil(10*K)/10,K=Math.min(E.MAX_SCALE,K)}while(--R>0&&K<E.MAX_SCALE);this.currentScaleValue=K}decreaseScale(R=1){let K=this._currentScale;do{K=(K/E.DEFAULT_SCALE_DELTA).toFixed(2),K=Math.floor(10*K)/10,K=Math.max(E.MIN_SCALE,K)}while(--R>0&&K>E.MIN_SCALE);this.currentScaleValue=K}updateContainerHeightCss(){const R=this.container.clientHeight;R!==Je(this,se)&&(Xt(this,se,R),this._doc.style.setProperty("--viewer-container-height",`${R}px`))}};let H=we;le=new WeakMap,ge=new WeakMap,Z=new WeakMap,ue=new WeakMap,se=new WeakMap,ve=new WeakMap,De=new WeakMap,B=new WeakSet,yA=function(R){!R||(R.includes(T.PermissionFlag.COPY)||this.viewer.classList.add(I),!R.includes(T.PermissionFlag.MODIFY_ANNOTATIONS)&&!R.includes(T.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Je(this,ge)===T.AnnotationMode.ENABLE_FORMS&&(Xt(this,Z,Je(this,ge)),Xt(this,ge,T.AnnotationMode.ENABLE)))},_=new WeakSet,vA=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const R=new Promise(K=>{Xt(this,De,()=>{"hidden"===document.visibilityState&&(K(),document.removeEventListener("visibilitychange",Je(this,De)),Xt(this,De,null))}),document.addEventListener("visibilitychange",Je(this,De))});return Promise.race([this._onePageRenderedCapability.promise,R])},y=new WeakSet,$a=function(){if(this._scrollMode!==E.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const R=this._currentPageNumber,K=Je(this,ve),ae=this.viewer;if(ae.textContent="",K.pages.length=0,this._spreadMode!==E.SpreadMode.NONE||this.isInPresentationMode){const Ue=new Set,Ve=this._spreadMode-1;-1===Ve?Ue.add(R-1):R%2!==Ve?(Ue.add(R-1),Ue.add(R)):(Ue.add(R-2),Ue.add(R-1));const Ie=document.createElement("div");if(Ie.className="spread",this.isInPresentationMode){const Ge=document.createElement("div");Ge.className="dummyPage",Ie.appendChild(Ge)}for(const Ge of Ue){const He=this._pages[Ge];!He||(Ie.appendChild(He.div),K.pages.push(He))}ae.appendChild(Ie)}else{const Ue=this._pages[R-1];ae.appendChild(Ue.div),K.pages.push(Ue)}K.scrollDown=R>=K.previousPageNumber,K.previousPageNumber=R},k=new WeakSet,uc=function(R,K=null){const{div:ae,id:Ue}=R;if(this._scrollMode===E.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ue),Ze(this,y,$a).call(this),this.update()),!K&&!this.isInPresentationMode){const Ve=ae.offsetLeft+ae.clientLeft,Ie=Ve+ae.clientWidth,{scrollLeft:Ge,clientWidth:He}=this.container;(this._scrollMode===E.ScrollMode.HORIZONTAL||Ve<Ge||Ie>Ge+He)&&(K={left:0,top:0})}(0,E.scrollIntoView)(ae,K)},L=new WeakSet,CA=function(R){return R===this._currentScale||Math.abs(R-this._currentScale)<1e-15},re=new WeakSet,Wp=function(){const R=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),Ze(this,k,uc).call(this,R)},oe=new WeakSet,bA=function(R){var K=this;return A(function*(){if(R.pdfPage)return R.pdfPage;try{const ae=yield K.pdfDocument.getPage(R.id);return R.pdfPage||R.setPdfPage(ae),K.linkService._cachedPageNumber?.(ae.ref)||K.linkService.cachePageRef(R.id,ae.ref),ae}catch(ae){return console.error("Unable to get page for page view",ae),null}})()},ye=new WeakSet,wA=function(R){if(1===R.first?.id)return!0;if(R.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case E.ScrollMode.PAGE:return Je(this,ve).scrollDown;case E.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},qe=new WeakSet,AA=function(R){for(const K of R)this._pages[K-1]?.toggleLoadingIconSpinner(!0);for(const K of Je(this,le))R.has(K.id)||K.toggleLoadingIconSpinner(!1)},C.BaseViewer=H},(X,C,N)=>{var b;Object.defineProperty(C,"__esModule",{value:!0}),C.PDFPageView=void 0;var T=N(3),E=N(6),g=N(13),x=N(4);const h=g.compatibilityParams.maxCanvasPixels||16777216;b=new WeakMap,C.PDFPageView=class p{constructor(M){nt(this,b,T.AnnotationMode.ENABLE_FORMS);const S=M.container,d=M.defaultViewport;this.id=M.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=M.scale||E.DEFAULT_SCALE,this.viewport=d,this.pdfPageRotate=d.rotation,this._optionalContentConfigPromise=M.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=M.textLayerMode??E.TextLayerMode.ENABLE,Xt(this,b,M.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=M.imageResourcesPath||"",this.useOnlyCssZoom=M.useOnlyCssZoom||!1,this.maxCanvasPixels=M.maxCanvasPixels||h,this.pageColors=M.pageColors||null,this.eventBus=M.eventBus,this.renderingQueue=M.renderingQueue,this.textLayerFactory=M.textLayerFactory,this.annotationLayerFactory=M.annotationLayerFactory,this.xfaLayerFactory=M.xfaLayerFactory,this.textHighlighter=M.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=M.structTreeLayerFactory,this.renderer=M.renderer||E.RendererType.CANVAS,this.l10n=M.l10n||x.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=E.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const f=document.createElement("div");f.className="page",f.style.width=Math.floor(this.viewport.width)+"px",f.style.height=Math.floor(this.viewport.height)+"px",f.setAttribute("data-page-number",this.id),f.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{f.setAttribute("aria-label",I)}),this.div=f,S?.appendChild(f)}setPdfPage(M){this.pdfPage=M,this.pdfPageRotate=M.rotate,this.viewport=M.getViewport({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var M=this;return A(function*(){let S=null;try{yield M.annotationLayer.render(M.viewport,"display")}catch(d){S=d}finally{M.eventBus.dispatch("annotationlayerrendered",{source:M,pageNumber:M.id,error:S})}})()}_renderXfaLayer(){var M=this;return A(function*(){let S=null;try{const d=yield M.xfaLayer.render(M.viewport,"display");M.textHighlighter&&M._buildXfaTextContentItems(d.textDivs)}catch(d){S=d}finally{M.eventBus.dispatch("xfalayerrendered",{source:M,pageNumber:M.id,error:S})}})()}_buildXfaTextContentItems(M){var S=this;return A(function*(){const d=yield S.pdfPage.getTextContent(),f=[];for(const I of d.items)f.push(I.str);S.textHighlighter.setTextMapping(M,f),S.textHighlighter.enable()})()}_resetZoomLayer(M=!1){if(!this.zoomLayer)return;const S=this.zoomLayer.firstChild;this.paintedViewportMap.delete(S),S.width=0,S.height=0,M&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:M=!1,keepAnnotationLayer:S=!1,keepXfaLayer:d=!1}={}){this.cancelRendering({keepAnnotationLayer:S,keepXfaLayer:d}),this.renderingState=E.RenderingStates.INITIAL;const f=this.div;f.style.width=Math.floor(this.viewport.width)+"px",f.style.height=Math.floor(this.viewport.height)+"px";const I=f.childNodes,P=M&&this.zoomLayer||null,F=S&&this.annotationLayer?.div||null,H=d&&this.xfaLayer?.div||null;for(let $=I.length-1;$>=0;$--){const W=I[$];switch(W){case P:case F:case H:continue}W.remove()}f.removeAttribute("data-loaded"),F&&this.annotationLayer.hide(),H&&this.xfaLayer.hide(),P||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then($=>{this.loadingIconDiv?.setAttribute("aria-label",$)}),f.appendChild(this.loadingIconDiv)}update({scale:M=0,rotation:S=null,optionalContentConfigPromise:d=null}){if(this.scale=M||this.scale,"number"==typeof S&&(this.rotation=S),d instanceof Promise&&(this._optionalContentConfigPromise=d),this.viewport=this.viewport.clone({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:P}=document.documentElement;P.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let I=!1;if(this.canvas&&this.maxCanvasPixels>0){const P=this.outputScale;(Math.floor(this.viewport.width)*P.sx|0)*(Math.floor(this.viewport.height)*P.sy|0)>this.maxCanvasPixels&&(I=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&I)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:M=!1,keepXfaLayer:S=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!M||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!S||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:M,redrawAnnotationLayer:S=!1,redrawXfaLayer:d=!1}){const f=this.viewport.width,I=this.viewport.height,P=this.div;M.style.width=M.parentNode.style.width=P.style.width=Math.floor(f)+"px",M.style.height=M.parentNode.style.height=P.style.height=Math.floor(I)+"px";const F=this.viewport.rotation-this.paintedViewportMap.get(M).rotation,H=Math.abs(F);let $=1,W=1;if((90===H||270===H)&&($=I/f,W=f/I),M.style.transform=`rotate(${F}deg) scale(${$}, ${W})`,this.textLayer){const J=this.textLayer.viewport,le=Math.abs(this.viewport.rotation-J.rotation);let ge=f/J.width;(90===le||270===le)&&(ge=f/J.height);const Z=this.textLayer.textLayerDiv;let ue,se;switch(le){case 0:ue=se=0;break;case 90:ue=0,se="-"+Z.style.height;break;case 180:ue="-"+Z.style.width,se="-"+Z.style.height;break;case 270:ue="-"+Z.style.width,se=0;break;default:console.error("Bad rotation value.")}Z.style.transform=`rotate(${le}deg) scale(${ge}) translate(${ue}, ${se})`,Z.style.transformOrigin="0% 0%"}S&&this.annotationLayer&&this._renderAnnotationLayer(),d&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(M,S){return this.viewport.convertToPdfPoint(M,S)}toggleLoadingIconSpinner(M=!1){this.loadingIconDiv?.classList.toggle("notVisible",!M)}draw(){var M=this;this.renderingState!==E.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:S,pdfPage:d}=this;if(!d)return this.renderingState=E.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=E.RenderingStates.RUNNING;const f=document.createElement("div");f.style.width=S.style.width,f.style.height=S.style.height,f.classList.add("canvasWrapper"),this.annotationLayer?.div?S.insertBefore(f,this.annotationLayer.div):S.appendChild(f);let I=null;if(this.textLayerMode!==E.TextLayerMode.DISABLE&&this.textLayerFactory){const W=document.createElement("div");W.className="textLayer",W.style.width=f.style.width,W.style.height=f.style.height,this.annotationLayer?.div?S.insertBefore(W,this.annotationLayer.div):S.appendChild(W),I=this.textLayerFactory.createTextLayerBuilder(W,this.id-1,this.viewport,this.textLayerMode===E.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=I,Je(this,b)!==T.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(S,d,null,this.imageResourcesPath,Je(this,b)===T.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&S.appendChild(this.xfaLayer.div);let P=null;this.renderingQueue&&(P=W=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=E.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=E.RenderingStates.RUNNING,W()});W()});const F=function(){var W=A(function*(J=null){if(H===M.paintTask&&(M.paintTask=null),J instanceof T.RenderingCancelledException)M._renderError=null;else if(M._renderError=J,M.renderingState=E.RenderingStates.FINISHED,M.loadingIconDiv&&(M.loadingIconDiv.remove(),delete M.loadingIconDiv),M._resetZoomLayer(!0),M.eventBus.dispatch("pagerendered",{source:M,pageNumber:M.id,cssTransform:!1,timestamp:performance.now(),error:M._renderError}),J)throw J});return function(){return W.apply(this,arguments)}}(),H=this.renderer===E.RendererType.SVG?this.paintOnSvg(f):this.paintOnCanvas(f);H.onRenderContinue=P,this.paintTask=H;const $=H.promise.then(()=>F(null).then(()=>{if(I){const W=d.streamTextContent({includeMarkedContent:!0});I.setTextContentStream(W),I.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(W){return F(W)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(S,d,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=W=>{W.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(J=>{if(!J||!this.canvas)return;const ie=this.structTreeLayer.render(J);ie.classList.add("structTree"),this.canvas.appendChild(ie)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(d)),S.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),$}paintOnCanvas(M){const S=(0,T.createPromiseCapability)(),d={promise:S.promise,onRenderContinue(Z){Z()},cancel(){ge.cancel()}},f=this.viewport,I=document.createElement("canvas");I.hidden=!0;let P=!0;const F=function(){P&&(I.hidden=!1,P=!1)};M.appendChild(I),this.canvas=I;const H=I.getContext("2d",{alpha:!1}),$=this.outputScale=new E.OutputScale;if(this.useOnlyCssZoom){const Z=f.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});$.sx*=Z.width/f.width,$.sy*=Z.height/f.height}if(this.maxCanvasPixels>0){const ue=Math.sqrt(this.maxCanvasPixels/(f.width*f.height));$.sx>ue||$.sy>ue?($.sx=ue,$.sy=ue,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const W=(0,E.approximateFraction)($.sx),J=(0,E.approximateFraction)($.sy);I.width=(0,E.roundToDivide)(f.width*$.sx,W[0]),I.height=(0,E.roundToDivide)(f.height*$.sy,J[0]),I.style.width=(0,E.roundToDivide)(f.width,W[1])+"px",I.style.height=(0,E.roundToDivide)(f.height,J[1])+"px",this.paintedViewportMap.set(I,f);const le={canvasContext:H,transform:$.scaled?[$.sx,0,0,$.sy,0,0]:null,viewport:this.viewport,annotationMode:Je(this,b),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ge=this.pdfPage.render(le);return ge.onContinue=function(Z){F(),d.onRenderContinue?d.onRenderContinue(Z):Z()},ge.promise.then(function(){F(),S.resolve()},function(Z){F(),S.reject(Z)}),d}paintOnSvg(M){let S=!1;const d=()=>{if(S)throw new T.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},f=this.pdfPage,I=this.viewport.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:f.getOperatorList({annotationMode:Je(this,b)}).then(F=>(d(),new T.SVGGraphics(f.commonObjs,f.objs).getSVG(F,I).then($=>{d(),this.svg=$,this.paintedViewportMap.set($,I),$.style.width=M.style.width,$.style.height=M.style.height,this.renderingState=E.RenderingStates.FINISHED,M.appendChild($)}))),onRenderContinue(F){F()},cancel(){S=!0}}}setPageLabel(M){this.pageLabel="string"==typeof M?M:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.compatibilityParams=C.OptionKind=C.AppOptions=void 0;const N=Object.create(null);C.compatibilityParams=N;{const h=navigator.userAgent||"",p=navigator.platform||"",b=navigator.maxTouchPoints||1,V=/Android/.test(h);(/\b(iPad|iPhone|iPod)(?=;)/.test(h)||"MacIntel"===p&&b>1||V)&&(N.maxCanvasPixels=5242880)}const T={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};C.OptionKind=T;const E={annotationMode:{value:2,kind:T.VIEWER+T.PREFERENCE},cursorToolOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:T.VIEWER},defaultZoomValue:{value:"",kind:T.VIEWER+T.PREFERENCE},disableHistory:{value:!1,kind:T.VIEWER},disablePageLabels:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePermissions:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:T.VIEWER+T.PREFERENCE},enableScripting:{value:!0,kind:T.VIEWER+T.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:T.VIEWER},externalLinkTarget:{value:0,kind:T.VIEWER+T.PREFERENCE},historyUpdateUrl:{value:!1,kind:T.VIEWER+T.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},imageResourcesPath:{value:"./images/",kind:T.VIEWER},maxCanvasPixels:{value:16777216,compatibility:N.maxCanvasPixels,kind:T.VIEWER},pageColorsBackground:{value:"Canvas",kind:T.VIEWER+T.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:T.VIEWER+T.PREFERENCE},pdfBugEnabled:{value:!1,kind:T.VIEWER+T.PREFERENCE},printResolution:{value:150,kind:T.VIEWER},renderer:{value:"canvas",kind:T.VIEWER},sidebarViewOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},scrollModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},spreadModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},textLayerMode:{value:1,kind:T.VIEWER+T.PREFERENCE},useOnlyCssZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},viewerCssTheme:{value:0,kind:T.VIEWER+T.PREFERENCE},viewOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},cMapPacked:{value:!0,kind:T.API},cMapUrl:{value:"../web/cmaps/",kind:T.API},disableAutoFetch:{value:!1,kind:T.API+T.PREFERENCE},disableFontFace:{value:!1,kind:T.API+T.PREFERENCE},disableRange:{value:!1,kind:T.API+T.PREFERENCE},disableStream:{value:!1,kind:T.API+T.PREFERENCE},docBaseUrl:{value:"",kind:T.API},enableXfa:{value:!0,kind:T.API+T.PREFERENCE},fontExtraProperties:{value:!1,kind:T.API},isEvalSupported:{value:!0,kind:T.API},maxImageSize:{value:-1,kind:T.API},pdfBug:{value:!1,kind:T.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:T.API},verbosity:{value:1,kind:T.API},workerPort:{value:null,kind:T.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:T.WORKER}};E.disablePreferences={value:!1,kind:T.VIEWER},E.locale={value:navigator.language||"en-US",kind:T.VIEWER},E.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:T.VIEWER},E.renderer.kind+=T.PREFERENCE;const g=Object.create(null);C.AppOptions=class x{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(p){const b=g[p];if(void 0!==b)return b;const V=E[p];return void 0!==V?V.compatibility??V.value:void 0}static getAll(p=null){const b=Object.create(null);for(const V in E){const M=E[V];if(p){if(0==(p&M.kind))continue;if(p===T.PREFERENCE){const d=M.value,f=typeof d;if("boolean"===f||"string"===f||"number"===f&&Number.isInteger(d)){b[V]=d;continue}throw new Error(`Invalid type for preference: ${V}`)}}const S=g[V];b[V]=void 0!==S?S:M.compatibility??M.value}return b}static set(p,b){g[p]=b}static setAll(p){for(const b in p)g[b]=p[b]}static remove(p){delete g[p]}static _hasUserOptions(){return Object.keys(g).length>0}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFRenderingQueue=void 0;var T=N(3),E=N(6);C.PDFRenderingQueue=class x{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(p){this.pdfViewer=p}setThumbnailViewer(p){this.pdfThumbnailViewer=p}isHighestPriority(p){return this.highestPriorityPage===p.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(p){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(p)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(p,b,V,M=!1){const S=p.views,d=S.length;if(0===d)return null;for(let H=0;H<d;H++){const $=S[H].view;if(!this.isViewFinished($))return $}const f=p.first.id,I=p.last.id;if(I-f+1>d){const H=p.ids;for(let $=1,W=I-f;$<W;$++){const J=V?f+$:I-$;if(H.has(J))continue;const ie=b[J-1];if(!this.isViewFinished(ie))return ie}}let P=V?I:f-2,F=b[P];return F&&!this.isViewFinished(F)||M&&(P+=V?1:-1,F=b[P],F&&!this.isViewFinished(F))?F:null}isViewFinished(p){return p.renderingState===E.RenderingStates.FINISHED}renderView(p){switch(p.renderingState){case E.RenderingStates.FINISHED:return!1;case E.RenderingStates.PAUSED:this.highestPriorityPage=p.renderingId,p.resume();break;case E.RenderingStates.RUNNING:this.highestPriorityPage=p.renderingId;break;case E.RenderingStates.INITIAL:this.highestPriorityPage=p.renderingId,p.draw().finally(()=>{this.renderHighestPriority()}).catch(b=>{b instanceof T.RenderingCancelledException||console.error(`renderView: "${b}"`)})}return!0}}},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.TextHighlighter=void 0,C.TextHighlighter=class N{constructor({findController:E,eventBus:g,pageIndex:x}){this.findController=E,this.matches=[],this.eventBus=g,this.pageIdx=x,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(E,g){this.textDivs=E,this.textContentItemsStr=g}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=E=>{(E.pageIndex===this.pageIdx||-1===E.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(E,g){if(!E)return[];const{textContentItemsStr:x}=this;let h=0,p=0;const b=x.length-1,V=[];for(let M=0,S=E.length;M<S;M++){let d=E[M];for(;h!==b&&d>=p+x[h].length;)p+=x[h].length,h++;h===x.length&&console.error("Could not find a matching mapping");const f={begin:{divIdx:h,offset:d-p}};for(d+=g[M];h!==b&&d>p+x[h].length;)p+=x[h].length,h++;f.end={divIdx:h,offset:d-p},V.push(f)}return V}_renderMatches(E){if(0===E.length)return;const{findController:g,pageIdx:x}=this,{textContentItemsStr:h,textDivs:p}=this,b=x===g.selected.pageIdx,V=g.selected.matchIdx;let S=null;function f(H,$){const W=H.divIdx;return p[W].textContent="",I(W,0,H.offset,$)}function I(H,$,W,J){let ie=p[H];if(ie.nodeType===Node.TEXT_NODE){const Z=document.createElement("span");ie.parentNode.insertBefore(Z,ie),Z.appendChild(ie),p[H]=Z,ie=Z}const le=h[H].substring($,W),ge=document.createTextNode(le);if(J){const Z=document.createElement("span");return Z.className=`${J} appended`,Z.appendChild(ge),ie.appendChild(Z),J.includes("selected")?Z.offsetLeft:0}return ie.appendChild(ge),0}let P=V,F=P+1;if(g.state.highlightAll)P=0,F=E.length;else if(!b)return;for(let H=P;H<F;H++){const $=E[H],W=$.begin,J=$.end,ie=b&&H===V,le=ie?" selected":"";let ge=0;if(S&&W.divIdx===S.divIdx?I(S.divIdx,S.offset,W.offset):(null!==S&&I(S.divIdx,S.offset,undefined),f(W)),W.divIdx===J.divIdx)ge=I(W.divIdx,W.offset,J.offset,"highlight"+le);else{ge=I(W.divIdx,W.offset,undefined,"highlight begin"+le);for(let Z=W.divIdx+1,ue=J.divIdx;Z<ue;Z++)p[Z].className="highlight middle"+le;f(J,"highlight end"+le)}S=J,ie&&g.scrollMatchIntoView({element:p[W.divIdx],selectedLeft:ge,pageIndex:x,matchIndex:V})}S&&I(S.divIdx,S.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:E,matches:g,pageIdx:x}=this,{textContentItemsStr:h,textDivs:p}=this;let b=-1;for(let S=0,d=g.length;S<d;S++){const f=g[S];for(let P=Math.max(b,f.begin.divIdx),F=f.end.divIdx;P<=F;P++){const H=p[P];H.textContent=h[P],H.className=""}b=f.end.divIdx+1}E?.highlightMatches&&(this.matches=this._convertMatches(E.pageMatches[x]||null,E.pageMatchesLength[x]||null),this._renderMatches(this.matches))}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.DownloadManager=void 0;var T=N(3);function E(x,h){const p=document.createElement("a");if(!p.click)throw new Error('DownloadManager: "a.click()" is not supported.');p.href=x,p.target="_parent","download"in p&&(p.download=h),(document.body||document.documentElement).appendChild(p),p.click(),p.remove()}C.DownloadManager=class g{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(h,p){(0,T.createValidAbsoluteUrl)(h,"http://example.com")?E(h+"#pdfjs.action=download",p):console.error(`downloadUrl - not a valid URL: ${h}`)}downloadData(h,p,b){E(URL.createObjectURL(new Blob([h],{type:b})),p)}openOrDownloadData(h,p,b){const V=(0,T.isPdfFile)(b),M=V?"application/pdf":"";if(V){let d,S=this._openBlobUrls.get(h);S||(S=URL.createObjectURL(new Blob([p],{type:M})),this._openBlobUrls.set(h,S)),d="?file="+encodeURIComponent(S+"#"+b);try{return window.open(d),!0}catch(f){console.error(`openOrDownloadData: ${f}`),URL.revokeObjectURL(S),this._openBlobUrls.delete(h)}}return this.downloadData(p,b,M),!1}download(h,p,b,V="download"){E(URL.createObjectURL(h),b)}}},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.WaitOnType=C.EventBus=C.AutomationEventBus=void 0,C.waitOnEventOrTimeout=function T({target:x,name:h,delay:p=0}){return new Promise(function(b,V){if("object"!=typeof x||!h||"string"!=typeof h||!(Number.isInteger(p)&&p>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function M(I){x instanceof E?x._off(h,S):x.removeEventListener(h,S),f&&clearTimeout(f),b(I)}const S=M.bind(null,N.EVENT);x instanceof E?x._on(h,S):x.addEventListener(h,S);const d=M.bind(null,N.TIMEOUT),f=setTimeout(d,p)})};const N={EVENT:"event",TIMEOUT:"timeout"};C.WaitOnType=N;class E{constructor(){this._listeners=Object.create(null)}on(h,p,b=null){this._on(h,p,{external:!0,once:b?.once})}off(h,p,b=null){this._off(h,p,{external:!0,once:b?.once})}dispatch(h,p){const b=this._listeners[h];if(!b||0===b.length)return;let V;for(const{listener:M,external:S,once:d}of b.slice(0))d&&this._off(h,M),S?(V||(V=[])).push(M):M(p);if(V){for(const M of V)M(p);V=null}}_on(h,p,b=null){var M;((M=this._listeners)[h]||(M[h]=[])).push({listener:p,external:!0===b?.external,once:!0===b?.once})}_off(h,p,b=null){const V=this._listeners[h];if(V)for(let M=0,S=V.length;M<S;M++)if(V[M].listener===p)return void V.splice(M,1)}}C.EventBus=E,C.AutomationEventBus=class g extends E{dispatch(h,p){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.GenericL10n=void 0,N(19);var T=N(4);const E=document.webL10n;C.GenericL10n=class g{constructor(h){this._lang=h,this._ready=new Promise((p,b)=>{E.setLanguage((0,T.fixupLangCode)(h),()=>{p(E)})})}getLanguage(){var h=this;return A(function*(){return(yield h._ready).getLanguage()})()}getDirection(){var h=this;return A(function*(){return(yield h._ready).getDirection()})()}get(h,p=null,b=(0,T.getL10nFallback)(h,p)){var V=this;return A(function*(){return(yield V._ready).get(h,p,b)})()}translate(h){var p=this;return A(function*(){return(yield p._ready).translate(h)})()}}},()=>{document.webL10n=function(X,C,N){var T={},E="",g="textContent",x="",h={},p="loading";function f(Z,ue,se){ue=ue||function(B){},se=se||function(){};var ve=new XMLHttpRequest;ve.open("GET",Z,!0),ve.overrideMimeType&&ve.overrideMimeType("text/plain; charset=utf-8"),ve.onreadystatechange=function(){4==ve.readyState&&(200==ve.status||0===ve.status?ue(ve.responseText):se())},ve.onerror=se,ve.ontimeout=se;try{ve.send(null)}catch{se()}}function P(Z,ue){Z&&(Z=Z.toLowerCase()),ue=ue||function(){},function F(){T={},E="",x=""}(),x=Z;var se=function V(){return C.querySelectorAll('link[type="application/l10n"]')}(),ve=se.length;if(0!==ve){var _,c=0;_=function(){++c>=ve&&(ue(),p="complete")};for(var w=0;w<ve;w++)new y(se[w]).load(Z,_)}else{var De=function M(){var Z=C.querySelector('script[type="application/l10n"]');return Z?JSON.parse(Z.innerHTML):null}();if(De&&De.locales&&De.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(T=De.locales[Z])){var B=De.default_locale.toLowerCase();for(var m in De.locales){if((m=m.toLowerCase())===Z){T=De.locales[Z];break}m===B&&(T=De.locales[B])}}ue()}else console.log("no resource to load, early way out");p="complete"}function y(O){var L=O.href;this.load=function(ee,re){!function I(Z,ue,se,ve){var De=Z.replace(/[^\/]*$/,"")||"./";function B(_){return _.lastIndexOf("\\")<0?_:_.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}f(Z,function(_){E+=_,function m(_,c){var y={},w=/^\s*|\s*$/,k=/^\s*#|^\s*$/,O=/^\s*\[(.*)\]\s*$/,L=/^\s*@import\s+url\((.*)\)\s*$/i,ee=/^([^=\s]*)\s*=\s*(.+)$/;function re(oe,he,ye){var Re=oe.replace(w,"").split(/[\r\n]+/),qe="*",me=ue.split("-",1)[0],we=!1,be="";!function R(){for(;;){if(!Re.length)return void ye();var K=Re.shift();if(!k.test(K)){if(he){if(be=O.exec(K)){qe=be[1].toLowerCase(),we="*"!==qe&&qe!==ue&&qe!==me;continue}if(we)continue;if(be=L.exec(K))return void ne(De+be[1],R)}var ae=K.match(ee);ae&&3==ae.length&&(y[ae[1]]=B(ae[2]))}}}()}function ne(oe,he){f(oe,function(ye){re(ye,!1,he)},function(){console.warn(oe+" not found."),he()})}re(_,!0,function(){c(y)})}(_,function(c){for(var y in c){var w,k,O=y.lastIndexOf(".");O>0?(w=y.substring(0,O),k=y.substring(O+1)):(w=y,k=g),T[w]||(T[w]={}),T[w][k]=c[y]}se&&se()})},ve)}(L,ee,re,function(){console.warn(L+" not found."),console.warn('"'+ee+'" resource not found'),x="",re()})}}}function $(Z,ue,se){var ve=T[Z];if(!ve){if(console.warn("#"+Z+" is undefined."),!se)return null;ve=se}var De={};for(var B in ve){var m=ve[B];m=J(m=W(m,ue,Z,B),ue,Z),De[B]=m}return De}function W(Z,ue,se,ve){var B=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(Z);if(!B||!B.length)return Z;var c,m=B[1],_=B[2];return ue&&_ in ue?c=ue[_]:_ in T&&(c=T[_]),m in h&&(Z=(0,h[m])(Z,c,se,ve)),Z}function J(Z,ue,se){return Z.replace(/\{\{\s*(.+?)\s*\}\}/g,function(De,B){return ue&&B in ue?ue[B]:B in T?T[B]:(console.log("argument {{"+B+"}} for #"+se+" is undefined."),De)})}function ie(Z){var ue=function d(Z){if(!Z)return{};var ue=Z.getAttribute("data-l10n-id"),se=Z.getAttribute("data-l10n-args"),ve={};if(se)try{ve=JSON.parse(se)}catch{console.warn("could not parse arguments for #"+ue)}return{id:ue,args:ve}}(Z);if(ue.id){var se=$(ue.id,ue.args);if(!se)return void console.warn("#"+ue.id+" is undefined.");if(se[g]){if(0===function le(Z){if(Z.children)return Z.children.length;if(typeof Z.childElementCount<"u")return Z.childElementCount;for(var ue=0,se=0;se<Z.childNodes.length;se++)ue+=1===Z.nodeType?1:0;return ue}(Z))Z[g]=se[g];else{for(var ve=Z.childNodes,De=!1,B=0,m=ve.length;B<m;B++)3===ve[B].nodeType&&/\S/.test(ve[B].nodeValue)&&(De?ve[B].nodeValue="":(ve[B].nodeValue=se[g],De=!0));if(!De){var _=C.createTextNode(se[g]);Z.insertBefore(_,Z.firstChild)}}delete se[g]}for(var c in se)Z[c]=se[c]}}return h.plural=function(Z,ue,se,ve){var De=parseFloat(ue);if(isNaN(De)||ve!=g)return Z;h._pluralRules||(h._pluralRules=function H(Z){function se(m,_){return-1!==_.indexOf(m)}function ve(m,_,c){return _<=m&&m<=c}var De={0:function(m){return"other"},1:function(m){return ve(m%100,3,10)?"few":0===m?"zero":ve(m%100,11,99)?"many":2==m?"two":1==m?"one":"other"},2:function(m){return 0!==m&&m%10==0?"many":2==m?"two":1==m?"one":"other"},3:function(m){return 1==m?"one":"other"},4:function(m){return ve(m,0,1)?"one":"other"},5:function(m){return ve(m,0,2)&&2!=m?"one":"other"},6:function(m){return 0===m?"zero":m%10==1&&m%100!=11?"one":"other"},7:function(m){return 2==m?"two":1==m?"one":"other"},8:function(m){return ve(m,3,6)?"few":ve(m,7,10)?"many":2==m?"two":1==m?"one":"other"},9:function(m){return 0===m||1!=m&&ve(m%100,1,19)?"few":1==m?"one":"other"},10:function(m){return ve(m%10,2,9)&&!ve(m%100,11,19)?"few":m%10!=1||ve(m%100,11,19)?"other":"one"},11:function(m){return ve(m%10,2,4)&&!ve(m%100,12,14)?"few":m%10==0||ve(m%10,5,9)||ve(m%100,11,14)?"many":m%10==1&&m%100!=11?"one":"other"},12:function(m){return ve(m,2,4)?"few":1==m?"one":"other"},13:function(m){return ve(m%10,2,4)&&!ve(m%100,12,14)?"few":1!=m&&ve(m%10,0,1)||ve(m%10,5,9)||ve(m%100,12,14)?"many":1==m?"one":"other"},14:function(m){return ve(m%100,3,4)?"few":m%100==2?"two":m%100==1?"one":"other"},15:function(m){return 0===m||ve(m%100,2,10)?"few":ve(m%100,11,19)?"many":1==m?"one":"other"},16:function(m){return m%10==1&&11!=m?"one":"other"},17:function(m){return 3==m?"few":0===m?"zero":6==m?"many":2==m?"two":1==m?"one":"other"},18:function(m){return 0===m?"zero":ve(m,0,2)&&0!==m&&2!=m?"one":"other"},19:function(m){return ve(m,2,10)?"few":ve(m,0,1)?"one":"other"},20:function(m){return!ve(m%10,3,4)&&m%10!=9||ve(m%100,10,19)||ve(m%100,70,79)||ve(m%100,90,99)?m%1e6==0&&0!==m?"many":m%10!=2||se(m%100,[12,72,92])?m%10!=1||se(m%100,[11,71,91])?"other":"one":"two":"few"},21:function(m){return 0===m?"zero":1==m?"one":"other"},22:function(m){return ve(m,0,1)||ve(m,11,99)?"one":"other"},23:function(m){return ve(m%10,1,2)||m%20==0?"one":"other"},24:function(m){return ve(m,3,10)||ve(m,13,19)?"few":se(m,[2,12])?"two":se(m,[1,11])?"one":"other"}},B={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[Z.replace(/-.*$/,"")];return B in De?De[B]:(console.warn("plural form unknown for ["+Z+"]"),function(){return"other"})}(x));var B="["+h._pluralRules(De)+"]";return 0===De&&se+"[zero]"in T?Z=T[se+"[zero]"][ve]:1==De&&se+"[one]"in T?Z=T[se+"[one]"][ve]:2==De&&se+"[two]"in T?Z=T[se+"[two]"][ve]:se+B in T?Z=T[se+B][ve]:se+"[other]"in T&&(Z=T[se+"[other]"][ve]),Z},{get:function(Z,ue,se){var B,ve=Z.lastIndexOf("."),De=g;ve>0&&(De=Z.substring(ve+1),Z=Z.substring(0,ve)),se&&((B={})[De]=se);var m=$(Z,ue,B);return m&&De in m?m[De]:"{{"+Z+"}}"},getData:function(){return T},getText:function(){return E},getLanguage:function(){return x},setLanguage:function(Z,ue){P(Z,function(){ue&&ue()})},getDirection:function(){var ue=x.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(ue)>=0?"rtl":"ltr"},translate:function ge(Z){for(var ue=function S(Z){return Z?Z.querySelectorAll("*[data-l10n-id]"):[]}(Z=Z||C.documentElement),se=ue.length,ve=0;ve<se;ve++)ie(ue[ve]);ie(Z)},getReadyState:function(){return p},ready:function(Z){Z&&("complete"==p||"interactive"==p?X.setTimeout(function(){Z()}):C.addEventListener&&C.addEventListener("localized",function ue(){C.removeEventListener("localized",ue),Z()}))}}}(window,document)},(X,C,N)=>{var J,EA,le,zp,Z,qp,se,SA,De,DA,m,MA,c,Yp,w,TA,O,xA,ee,cc,ne,Ga,he,po,Re,PA,me,Xp,be,Kp,K,dc,Ue,IA,Ie,Qp,He,FA,vt,Wa;Object.defineProperty(C,"__esModule",{value:!0}),C.PDFFindController=C.FindState=void 0;var T=N(6),E=N(3),g=N(21);const x={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};C.FindState=x;const V={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},M=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),S=[...M.values()].map(_e=>String.fromCharCode(_e)).join(""),d=/\p{M}+/gu,f=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,I=/([^\p{M}])\p{M}*$/u,P=/^\p{M}*([^\p{M}])/u;let F=null;function H(_e){if(!F){const Dt=Object.keys(V).join("");F=new RegExp(`([${Dt}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const q=[];let Y;for(;null!==(Y=d.exec(_e));)q.push([Y[0].length,Y.index]);let Me=_e.normalize("NFD");const Fe=[[0,0]];let Le=0,je=0,gt=0,bt=0,Ht=!1;return Me=Me.replace(F,(Dt,ln,Yt,Xn,$t,Lt)=>{if(Lt-=gt,ln){const Nn=V[Dt],Kn=Nn.length;for(let Vn=1;Vn<Kn;Vn++)Fe.push([Lt-je+Vn,je-Vn]);return je-=Kn-1,Nn}if(Yt){const Nn=Yt.endsWith("\n"),Kn=Nn?Yt.length-2:Yt.length;Ht=!0;let Vn=Kn;Lt+bt===q[Le]?.[1]&&(Vn-=q[Le][0],++Le);for(let fr=1;fr<Vn+1;fr++)Fe.push([Lt-1-je+fr,je-fr]);return je-=Vn,gt+=Vn,Nn?(Fe.push([(Lt+=Kn-1)-je+1,1+je]),je+=1,gt+=1,bt+=1,Yt.slice(0,Kn)):Yt}return Xn?(Fe.push([Lt-je+1,1+je]),je+=1,gt+=1,bt+=1,Xn.charAt(0)):(Fe.push([Lt-je+1,je-1]),je-=1,gt+=1,bt+=1," ")}),Fe.push([Me.length,je]),[Me,Fe,Ht]}function $(_e,q,Y){if(!_e)return[q,Y];const Me=q,Fe=q+Y;let Le=(0,T.binarySearchFirstItem)(_e,gt=>gt[0]>=Me);_e[Le][0]>Me&&--Le;let je=(0,T.binarySearchFirstItem)(_e,gt=>gt[0]>=Fe,Le);return _e[je][0]>Fe&&--je,[Me+_e[Le][1],Y+_e[je][1]-_e[Le][1]]}J=new WeakSet,EA=function(q){if(!q)return;const Y=this._pdfDocument,{type:Me}=q;(null===this._state||Ze(this,se,SA).call(this,q))&&(this._dirtyMatch=!0),this._state=q,"highlightallchange"!==Me&&Ze(this,vt,Wa).call(this,x.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Y&&this._pdfDocument!==Y)return;Ze(this,O,xA).call(this);const Fe=!this._highlightMatches,Le=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Me?this._dirtyMatch?Ze(this,he,po).call(this):"again"===Me?(Ze(this,he,po).call(this),Fe&&this._state.highlightAll&&Ze(this,ne,Ga).call(this)):"highlightallchange"===Me?(Le?Ze(this,he,po).call(this):this._highlightMatches=!0,Ze(this,ne,Ga).call(this)):Ze(this,he,po).call(this):this._findTimeout=setTimeout(()=>{Ze(this,he,po).call(this),this._findTimeout=null},250)})},le=new WeakSet,zp=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,E.createPromiseCapability)()},Z=new WeakSet,qp=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=H(this._state.query)),this._normalizedQuery},se=new WeakSet,SA=function(q){if(q.query!==this._state.query)return!0;switch(q.type){case"again":const Y=this._selected.pageIdx+1,Me=this._linkService;return Y>=1&&Y<=Me.pagesCount&&Y!==Me.page&&!Me.isPageVisible(Y);case"highlightallchange":return!1}return!0},De=new WeakSet,DA=function(q,Y,Me){let Fe=q.slice(0,Y).match(I);if(Fe){const Le=q.charCodeAt(Y),je=Fe[1].charCodeAt(0);if((0,g.getCharacterType)(Le)===(0,g.getCharacterType)(je))return!1}if(Fe=q.slice(Y+Me).match(P),Fe){const Le=q.charCodeAt(Y+Me-1),je=Fe[1].charCodeAt(0);if((0,g.getCharacterType)(Le)===(0,g.getCharacterType)(je))return!1}return!0},m=new WeakSet,MA=function(q,Y,Me,Fe){const Le=[],je=[],gt=this._pageDiffs[Me];let bt;for(;null!==(bt=q.exec(Fe));){if(Y&&!Ze(this,De,DA).call(this,Fe,bt.index,bt[0].length))continue;const[Ht,Dt]=$(gt,bt.index,bt[0].length);Dt&&(Le.push(Ht),je.push(Dt))}this._pageMatches[Me]=Le,this._pageMatchesLength[Me]=je},c=new WeakSet,Yp=function(q,Y){const{matchDiacritics:Me}=this._state;let Fe=!1;return(q=q.replace(f,(je,gt,bt,Ht,Dt,ln)=>gt?`[ ]*\\${gt}[ ]*`:bt?`[ ]*${bt}[ ]*`:Ht?"[ ]+":Me?Dt||ln:Dt?M.has(Dt.charCodeAt(0))?Dt:"":Y?(Fe=!0,`${ln}\\p{M}*`):ln)).endsWith("[ ]*")&&(q=q.slice(0,q.length-"[ ]*".length)),Me&&Y&&(Fe=!0,q=`${q}(?=[${S}]|[^\\p{M}]|$)`),[Fe,q]},w=new WeakSet,TA=function(q){let Y=Je(this,Z,qp);if(0===Y.length)return;const{caseSensitive:Me,entireWord:Fe,phraseSearch:Le}=this._state,je=this._pageContents[q],gt=this._hasDiacritics[q];let bt=!1;if(Le)[bt,Y]=Ze(this,c,Yp).call(this,Y,gt);else{const ln=Y.match(/\S+/g);ln&&(Y=ln.sort().reverse().map(Yt=>{const[Xn,$t]=Ze(this,c,Yp).call(this,Yt,gt);return bt||(bt=Xn),`(${$t})`}).join("|"))}Y=new RegExp(Y,`g${bt?"u":""}${Me?"":"i"}`),Ze(this,m,MA).call(this,Y,Fe,q,je),this._state.highlightAll&&Ze(this,ee,cc).call(this,q),this._resumePageIdx===q&&(this._resumePageIdx=null,Ze(this,me,Xp).call(this));const Dt=this._pageMatches[q].length;Dt>0&&(this._matchesCountTotal+=Dt,Ze(this,He,FA).call(this))},O=new WeakSet,xA=function(){if(this._extractTextPromises.length>0)return;let q=Promise.resolve();for(let Y=0,Me=this._linkService.pagesCount;Y<Me;Y++){const Fe=(0,E.createPromiseCapability)();this._extractTextPromises[Y]=Fe.promise,q=q.then(()=>this._pdfDocument.getPage(Y+1).then(Le=>Le.getTextContent()).then(Le=>{const je=[];for(const gt of Le.items)je.push(gt.str),gt.hasEOL&&je.push("\n");[this._pageContents[Y],this._pageDiffs[Y],this._hasDiacritics[Y]]=H(je.join("")),Fe.resolve()},Le=>{console.error(`Unable to get text content for page ${Y+1}`,Le),this._pageContents[Y]="",this._pageDiffs[Y]=null,this._hasDiacritics[Y]=!1,Fe.resolve()}))}},ee=new WeakSet,cc=function(q){this._scrollMatches&&this._selected.pageIdx===q&&(this._linkService.page=q+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:q})},ne=new WeakSet,Ga=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},he=new WeakSet,po=function(){const q=this._state.findPrevious,Y=this._linkService.page-1,Me=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Y,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,Ze(this,ne,Ga).call(this);for(let Le=0;Le<Me;Le++)this._pendingFindMatches.has(Le)||(this._pendingFindMatches.add(Le),this._extractTextPromises[Le].then(()=>{this._pendingFindMatches.delete(Le),Ze(this,w,TA).call(this,Le)}))}if(""===Je(this,Z,qp))return void Ze(this,vt,Wa).call(this,x.FOUND);if(this._resumePageIdx)return;const Fe=this._offset;if(this._pagesToSearch=Me,null!==Fe.matchIdx){const Le=this._pageMatches[Fe.pageIdx].length;if(!q&&Fe.matchIdx+1<Le||q&&Fe.matchIdx>0)return Fe.matchIdx=q?Fe.matchIdx-1:Fe.matchIdx+1,void Ze(this,K,dc).call(this,!0);Ze(this,be,Kp).call(this,q)}Ze(this,me,Xp).call(this)},Re=new WeakSet,PA=function(q){const Y=this._offset,Me=q.length,Fe=this._state.findPrevious;return Me?(Y.matchIdx=Fe?Me-1:0,Ze(this,K,dc).call(this,!0),!0):(Ze(this,be,Kp).call(this,Fe),!!(Y.wrapped&&(Y.matchIdx=null,this._pagesToSearch<0))&&(Ze(this,K,dc).call(this,!1),!0))},me=new WeakSet,Xp=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let q=null;do{const Y=this._offset.pageIdx;if(q=this._pageMatches[Y],!q){this._resumePageIdx=Y;break}}while(!Ze(this,Re,PA).call(this,q))},be=new WeakSet,Kp=function(q){const Y=this._offset,Me=this._linkService.pagesCount;Y.pageIdx=q?Y.pageIdx-1:Y.pageIdx+1,Y.matchIdx=null,this._pagesToSearch--,(Y.pageIdx>=Me||Y.pageIdx<0)&&(Y.pageIdx=q?Me-1:0,Y.wrapped=!0)},K=new WeakSet,dc=function(q=!1){let Y=x.NOT_FOUND;const Me=this._offset.wrapped;if(this._offset.wrapped=!1,q){const Fe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Y=Me?x.WRAPPED:x.FOUND,-1!==Fe&&Fe!==this._selected.pageIdx&&Ze(this,ee,cc).call(this,Fe)}Ze(this,vt,Wa).call(this,Y,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,Ze(this,ee,cc).call(this,this._selected.pageIdx))},Ue=new WeakSet,IA=function(q){const Y=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Y&&this._pdfDocument!==Y||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),Ze(this,vt,Wa).call(this,x.FOUND),this._highlightMatches=!1,Ze(this,ne,Ga).call(this))})},Ie=new WeakSet,Qp=function(){const{pageIdx:q,matchIdx:Y}=this._selected;let Me=0,Fe=this._matchesCountTotal;if(-1!==Y){for(let Le=0;Le<q;Le++)Me+=this._pageMatches[Le]?.length||0;Me+=Y+1}return(Me<1||Me>Fe)&&(Me=Fe=0),{current:Me,total:Fe}},He=new WeakSet,FA=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:Ze(this,Ie,Qp).call(this)})},vt=new WeakSet,Wa=function(q,Y=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:q,previous:Y,matchesCount:Ze(this,Ie,Qp).call(this),rawQuery:this._state?.query??null})},C.PDFFindController=class W{constructor({linkService:q,eventBus:Y}){nt(this,J),nt(this,le),nt(this,Z),nt(this,se),nt(this,De),nt(this,m),nt(this,c),nt(this,w),nt(this,O),nt(this,ee),nt(this,ne),nt(this,he),nt(this,Re),nt(this,me),nt(this,be),nt(this,K),nt(this,Ue),nt(this,Ie),nt(this,He),nt(this,vt),this._linkService=q,this._eventBus=Y,Ze(this,le,zp).call(this),Y._on("find",Ze(this,J,EA).bind(this)),Y._on("findbarclose",Ze(this,Ue,IA).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(q){this._pdfDocument&&Ze(this,le,zp).call(this),q&&(this._pdfDocument=q,this._firstPageCapability.resolve())}scrollMatchIntoView({element:q=null,selectedLeft:Y=0,pageIndex:Me=-1,matchIndex:Fe=-1}){this._scrollMatches&&q&&-1!==Fe&&Fe===this._selected.matchIdx&&-1!==Me&&Me===this._selected.pageIdx&&(this._scrollMatches=!1,(0,T.scrollIntoView)(q,{top:-50,left:Y+-400},!0))}}},(X,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.CharacterType=void 0,C.getCharacterType=function d(f){return function T(f){return f<11904}(f)?function E(f){return 0==(65408&f)}(f)?function h(f){return 32===f||9===f||13===f||10===f}(f)?N.SPACE:function g(f){return f>=97&&f<=122||f>=65&&f<=90}(f)||function x(f){return f>=48&&f<=57}(f)||95===f?N.ALPHA_LETTER:N.PUNCT:function S(f){return 3584==(65408&f)}(f)?N.THAI_LETTER:160===f?N.SPACE:N.ALPHA_LETTER:function p(f){return f>=13312&&f<=40959||f>=63744&&f<=64255}(f)?N.HAN_LETTER:function b(f){return f>=12448&&f<=12543}(f)?N.KATAKANA_LETTER:function V(f){return f>=12352&&f<=12447}(f)?N.HIRAGANA_LETTER:function M(f){return f>=65376&&f<=65439}(f)?N.HALFWIDTH_KATAKANA_LETTER:N.ALPHA_LETTER};const N={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};C.CharacterType=N},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFHistory=void 0,C.isDestArraysEqual=M,C.isDestHashesEqual=V;var T=N(6),E=N(17);function p(){return document.location.hash}function V(S,d){return"string"==typeof S&&"string"==typeof d&&(S===d||(0,T.parseQueryString)(S).get("nameddest")===d)}function M(S,d){function f(I,P){if(typeof I!=typeof P||Array.isArray(I)||Array.isArray(P))return!1;if(null!==I&&"object"==typeof I&&null!==P){if(Object.keys(I).length!==Object.keys(P).length)return!1;for(const F in I)if(!f(I[F],P[F]))return!1;return!0}return I===P||Number.isNaN(I)&&Number.isNaN(P)}if(!Array.isArray(S)||!Array.isArray(d)||S.length!==d.length)return!1;for(let I=0,P=S.length;I<P;I++)if(!f(S[I],d[I]))return!1;return!0}C.PDFHistory=class b{constructor({linkService:d,eventBus:f}){this.linkService=d,this.eventBus=f,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",I=>{this._isPagesLoaded=!!I.pagesCount},{once:!0})})}initialize({fingerprint:d,resetHistory:f=!1,updateUrl:I=!1}){if(!d||"string"!=typeof d)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const P=""!==this._fingerprint&&this._fingerprint!==d;this._fingerprint=d,this._updateUrl=!0===I,this._initialized=!0,this._bindEvents();const F=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=p(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(F,!0)||f){const{hash:$,page:W,rotation:J}=this._parseCurrentHash(!0);return!$||P||f?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:$,page:W,rotation:J},!0)}const H=F.destination;this._updateInternalState(H,F.uid,!0),void 0!==H.rotation&&(this._initialRotation=H.rotation),H.dest?(this._initialBookmark=JSON.stringify(H.dest),this._destination.page=null):H.hash?this._initialBookmark=H.hash:H.page&&(this._initialBookmark=`page=${H.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:d=null,explicitDest:f,pageNumber:I}){if(!this._initialized)return;if(d&&"string"!=typeof d)return void console.error(`PDFHistory.push: "${d}" is not a valid namedDest parameter.`);if(!Array.isArray(f))return void console.error(`PDFHistory.push: "${f}" is not a valid explicitDest parameter.`);if(!this._isValidPage(I)&&(null!==I||this._destination))return void console.error(`PDFHistory.push: "${I}" is not a valid pageNumber parameter.`);const P=d||JSON.stringify(f);if(!P)return;let F=!1;if(this._destination&&(V(this._destination.hash,P)||M(this._destination.dest,f))){if(this._destination.page)return;F=!0}this._popStateInProgress&&!F||(this._pushOrReplaceState({dest:f,hash:P,page:I,rotation:this.linkService.rotation},F),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(d){if(this._initialized){if(!this._isValidPage(d))return void console.error(`PDFHistory.pushPage: "${d}" is not a valid page number.`);this._destination?.page!==d&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${d}`,page:d,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const d=window.history.state;this._isValidState(d)&&d.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const d=window.history.state;this._isValidState(d)&&d.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(d,f=!1){const I=f||!this._destination,P={fingerprint:this._fingerprint,uid:I?this._uid:this._uid+1,destination:d};let F;if(this._updateInternalState(d,P.uid),this._updateUrl&&d?.hash){const H=document.location.href.split("#")[0];H.startsWith("file://")||(F=`${H}#${d.hash}`)}I?window.history.replaceState(P,"",F):window.history.pushState(P,"",F)}_tryPushCurrentPosition(d=!1){if(!this._position)return;let f=this._position;if(d&&(f=Object.assign(Object.create(null),this._position),f.temporary=!0),!this._destination)return void this._pushOrReplaceState(f);if(this._destination.temporary)return void this._pushOrReplaceState(f,!0);if(this._destination.hash===f.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let I=!1;if(this._destination.page>=f.first&&this._destination.page<=f.page){if(void 0!==this._destination.dest||!this._destination.first)return;I=!0}this._pushOrReplaceState(f,I)}_isValidPage(d){return Number.isInteger(d)&&d>0&&d<=this.linkService.pagesCount}_isValidState(d,f=!1){if(!d)return!1;if(d.fingerprint!==this._fingerprint){if(!f)return!1;{if("string"!=typeof d.fingerprint||d.fingerprint.length!==this._fingerprint.length)return!1;const[I]=performance.getEntriesByType("navigation");if("reload"!==I?.type)return!1}}return!(!Number.isInteger(d.uid)||d.uid<0||null===d.destination||"object"!=typeof d.destination)}_updateInternalState(d,f,I=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),I&&d?.temporary&&delete d.temporary,this._destination=d,this._uid=f,this._maxUid=Math.max(this._maxUid,f),this._numPositionUpdates=0}_parseCurrentHash(d=!1){const f=unescape(p()).substring(1),I=(0,T.parseQueryString)(f),P=I.get("nameddest")||"";let F=0|I.get("page");return(!this._isValidPage(F)||d&&P.length>0)&&(F=null),{hash:f,page:F,rotation:this.linkService.rotation}}_updateViewarea({location:d}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:d.pdfOpenParams.substring(1),page:this.linkService.page,first:d.pageNumber,rotation:d.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:d}){const f=p(),I=this._currentHash!==f;if(this._currentHash=f,!d){this._uid++;const{hash:F,page:H,rotation:$}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:F,page:H,rotation:$},!0)}if(!this._isValidState(d))return;this._popStateInProgress=!0,I&&(this._blockHashChange++,(0,E.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const P=d.destination;this._updateInternalState(P,d.uid,!0),(0,T.isValidRotation)(P.rotation)&&(this.linkService.rotation=P.rotation),P.dest?this.linkService.goToDestination(P.dest):P.hash?this.linkService.setHash(P.hash):P.page&&(this.linkService.page=P.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.PDFScriptingManager=void 0;var T=N(6),E=N(3);C.PDFScriptingManager=class g{constructor({eventBus:h,sandboxBundleSrc:p=null,scriptingFactory:b=null,docPropertiesLookup:V=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=h,this._sandboxBundleSrc=p,this._scriptingFactory=b,this._docPropertiesLookup=V,this._scriptingFactory||window.addEventListener("updatefromsandbox",M=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:M.detail})})}setViewer(h){this._pdfViewer=h}setDocument(h){var p=this;return A(function*(){if(p._pdfDocument&&(yield p._destroyScripting()),p._pdfDocument=h,!h)return;const[b,V,M]=yield Promise.all([h.getFieldObjects(),h.getCalculationOrderIds(),h.getJSActions()]);if(b||M){if(h===p._pdfDocument){try{p._scripting=p._createScripting()}catch(S){return console.error(`PDFScriptingManager.setDocument: "${S?.message}".`),void(yield p._destroyScripting())}p._internalEvents.set("updatefromsandbox",S=>{S?.source===window&&p._updateFromSandbox(S.detail)}),p._internalEvents.set("dispatcheventinsandbox",S=>{p._scripting?.dispatchEventInSandbox(S.detail)}),p._internalEvents.set("pagechanging",({pageNumber:S,previous:d})=>{S!==d&&(p._dispatchPageClose(d),p._dispatchPageOpen(S))}),p._internalEvents.set("pagerendered",({pageNumber:S})=>{!p._pageOpenPending.has(S)||S===p._pdfViewer.currentPageNumber&&p._dispatchPageOpen(S)}),p._internalEvents.set("pagesdestroy",function(){var S=A(function*(d){yield p._dispatchPageClose(p._pdfViewer.currentPageNumber),yield p._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),p._closeCapability?.resolve()});return function(d){return S.apply(this,arguments)}}()),p._domEvents.set("mousedown",S=>{p._mouseState.isDown=!0}),p._domEvents.set("mouseup",S=>{p._mouseState.isDown=!1});for(const[S,d]of p._internalEvents)p._eventBus._on(S,d);for(const[S,d]of p._domEvents)window.addEventListener(S,d,!0);try{const S=yield p._getDocProperties();if(h!==p._pdfDocument)return;yield p._scripting.createSandbox({objects:b,calculationOrder:V,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...S,actions:M}}),p._eventBus.dispatch("sandboxcreated",{source:p})}catch(S){return console.error(`PDFScriptingManager.setDocument: "${S?.message}".`),void(yield p._destroyScripting())}yield p._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield p._dispatchPageOpen(p._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{h===p._pdfDocument&&(p._ready=!0)})}}else yield p._destroyScripting()})()}dispatchWillSave(h){var p=this;return A(function*(){return p._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(h){var p=this;return A(function*(){return p._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(h){var p=this;return A(function*(){return p._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(h){var p=this;return A(function*(){return p._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,E.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,E.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,E.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,E.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(h){var p=this;return A(function*(){const b=p._pdfViewer.isInPresentationMode||p._pdfViewer.isChangingPresentationMode,{id:V,siblings:M,command:S,value:d}=h;if(!V){switch(S){case"clear":console.clear();break;case"error":console.error(d);break;case"layout":if(b)return;const I=(0,T.apiPageLayoutToViewerModes)(d);p._pdfViewer.spreadMode=I.spreadMode;break;case"page-num":p._pdfViewer.currentPageNumber=d+1;break;case"print":yield p._pdfViewer.pagesPromise,p._eventBus.dispatch("print",{source:p});break;case"println":console.log(d);break;case"zoom":if(b)return;p._pdfViewer.currentScaleValue=d;break;case"SaveAs":p._eventBus.dispatch("save",{source:p});break;case"FirstPage":p._pdfViewer.currentPageNumber=1;break;case"LastPage":p._pdfViewer.currentPageNumber=p._pdfViewer.pagesCount;break;case"NextPage":p._pdfViewer.nextPage();break;case"PrevPage":p._pdfViewer.previousPage();break;case"ZoomViewIn":if(b)return;p._pdfViewer.increaseScale();break;case"ZoomViewOut":if(b)return;p._pdfViewer.decreaseScale()}return}if(b&&h.focus)return;delete h.id,delete h.siblings;const f=M?[V,...M]:[V];for(const I of f){const P=document.getElementById(I);P?P.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:h})):p._pdfDocument?.annotationStorage.setValue(I,h)}})()}_dispatchPageOpen(h,p=!1){var b=this;return A(function*(){const V=b._pdfDocument,M=b._visitedPages;if(p&&(b._closeCapability=(0,E.createPromiseCapability)()),!b._closeCapability)return;const S=b._pdfViewer.getPageView(h-1);if(S?.renderingState!==T.RenderingStates.FINISHED)return void b._pageOpenPending.add(h);b._pageOpenPending.delete(h);const d=A(function*(){const f=yield M.has(h)?null:S.pdfPage?.getJSActions();V===b._pdfDocument&&(yield b._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:h,actions:f}))})();M.set(h,d)})()}_dispatchPageClose(h){var p=this;return A(function*(){const b=p._pdfDocument,V=p._visitedPages;if(!p._closeCapability||p._pageOpenPending.has(h))return;const M=V.get(h);!M||(V.set(h,null),yield M,b===p._pdfDocument&&(yield p._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:h})))})()}_getDocProperties(){var h=this;return A(function*(){if(h._docPropertiesLookup)return h._docPropertiesLookup(h._pdfDocument);const{docPropertiesLookup:p}=N(24);return p(h._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,E.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:h}=N(24);return new h(this._sandboxBundleSrc)}_destroyScripting(){var h=this;return A(function*(){if(!h._scripting)return h._pdfDocument=null,void h._destroyCapability?.resolve();h._closeCapability&&(yield Promise.race([h._closeCapability.promise,new Promise(p=>{setTimeout(p,1e3)})]).catch(p=>{}),h._closeCapability=null),h._pdfDocument=null;try{yield h._scripting.destroySandbox()}catch{}for(const[p,b]of h._internalEvents)h._eventBus._off(p,b);h._internalEvents.clear();for(const[p,b]of h._domEvents)window.removeEventListener(p,b,!0);h._domEvents.clear(),h._pageOpenPending.clear(),h._visitedPages.clear(),h._scripting=null,delete h._mouseState.isDown,h._ready=!1,h._destroyCapability?.resolve()})()}}},(X,C,N)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.GenericScripting=void 0,C.docPropertiesLookup=function E(h){return g.apply(this,arguments)};var T=N(3);function g(){return(g=A(function*(h){const b="".split("#")[0];let{info:V,metadata:M,contentDispositionFilename:S,contentLength:d}=yield h.getMetadata();if(!d){const{length:f}=yield h.getDownloadInfo();d=f}return{...V,baseURL:b,filesize:d,filename:S||(0,T.getPdfFilenameFromUrl)(""),metadata:M?.getRaw(),authors:M?.get("dc:creator"),numPages:h.numPages,URL:""}})).apply(this,arguments)}C.GenericScripting=class x{constructor(p){this._ready=(0,T.loadScript)(p,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(p){var b=this;return A(function*(){(yield b._ready).create(p)})()}dispatchEventInSandbox(p){var b=this;return A(function*(){const V=yield b._ready;setTimeout(()=>V.dispatchEvent(p),0)})()}destroySandbox(){var p=this;return A(function*(){(yield p._ready).nukeSandbox()})()}}}],Ce={};function pe(X){var C=Ce[X];if(void 0!==C)return C.exports;var N=Ce[X]={exports:{}};return xe[X](N,N.exports,pe),N.exports}var ce={};return(()=>{var X=ce;Object.defineProperty(X,"__esModule",{value:!0}),Object.defineProperty(X,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return g.AnnotationLayerBuilder}}),Object.defineProperty(X,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return C.DefaultAnnotationLayerFactory}}),Object.defineProperty(X,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return C.DefaultStructTreeLayerFactory}}),Object.defineProperty(X,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return C.DefaultTextLayerFactory}}),Object.defineProperty(X,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return C.DefaultXfaLayerFactory}}),Object.defineProperty(X,"DownloadManager",{enumerable:!0,get:function(){return x.DownloadManager}}),Object.defineProperty(X,"EventBus",{enumerable:!0,get:function(){return h.EventBus}}),Object.defineProperty(X,"GenericL10n",{enumerable:!0,get:function(){return p.GenericL10n}}),Object.defineProperty(X,"LinkTarget",{enumerable:!0,get:function(){return N.LinkTarget}}),Object.defineProperty(X,"NullL10n",{enumerable:!0,get:function(){return b.NullL10n}}),Object.defineProperty(X,"PDFFindController",{enumerable:!0,get:function(){return V.PDFFindController}}),Object.defineProperty(X,"PDFHistory",{enumerable:!0,get:function(){return M.PDFHistory}}),Object.defineProperty(X,"PDFLinkService",{enumerable:!0,get:function(){return N.PDFLinkService}}),Object.defineProperty(X,"PDFPageView",{enumerable:!0,get:function(){return S.PDFPageView}}),Object.defineProperty(X,"PDFScriptingManager",{enumerable:!0,get:function(){return d.PDFScriptingManager}}),Object.defineProperty(X,"PDFSinglePageViewer",{enumerable:!0,get:function(){return E.PDFSinglePageViewer}}),Object.defineProperty(X,"PDFViewer",{enumerable:!0,get:function(){return E.PDFViewer}}),Object.defineProperty(X,"ProgressBar",{enumerable:!0,get:function(){return T.ProgressBar}}),Object.defineProperty(X,"SimpleLinkService",{enumerable:!0,get:function(){return N.SimpleLinkService}}),Object.defineProperty(X,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return f.StructTreeLayerBuilder}}),Object.defineProperty(X,"TextLayerBuilder",{enumerable:!0,get:function(){return I.TextLayerBuilder}}),Object.defineProperty(X,"XfaLayerBuilder",{enumerable:!0,get:function(){return P.XfaLayerBuilder}}),Object.defineProperty(X,"parseQueryString",{enumerable:!0,get:function(){return T.parseQueryString}});var C=pe(1),N=pe(5),T=pe(6),E=pe(10),g=pe(2),x=pe(16),h=pe(17),p=pe(18),b=pe(4),V=pe(20),M=pe(22),S=pe(12),d=pe(23),f=pe(7),I=pe(8),P=pe(9)})(),ce})(),Oe.exports=pe()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:Oe=>{function j(A,xe,Ce,pe,ce,X,C){try{var N=A[X](C),T=N.value}catch(E){return void Ce(E)}N.done?xe(T):Promise.resolve(T).then(pe,ce)}Oe.exports=function Ae(A){return function(){var xe=this,Ce=arguments;return new Promise(function(pe,ce){var X=A.apply(xe,Ce);function C(T){j(X,pe,ce,C,N,"next",T)}function N(T){j(X,pe,ce,C,N,"throw",T)}C(void 0)})}},Oe.exports.__esModule=!0,Oe.exports.default=Oe.exports}},Oe=>{Oe(Oe.s=35)}]);